{"firstLayout":"","gdVersion":{"build":99,"major":4,"minor":0,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"antialiasingMode":"MSAA","antialisingEnabledOnMobile":false,"folderProject":true,"orientation":"landscape","packageName":"com.jafetegill.jumpmyking","pixelsRounding":true,"projectUuid":"24670aff-7e97-47b1-bab8-1d2bf47736c1","scaleMode":"linear","sizeOnStartupMode":"adaptWidth","templateSlug":"","useExternalSourceFiles":false,"version":"1.0.16","name":"Jump My King","description":"","author":"jafetegill","windowWidth":960,"windowHeight":540,"latestCompilationDirectory":"","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{"android-icon-144":"King_Idle_2.png","android-icon-192":"King_Idle_1.png","android-icon-36":"King_Idle_1.png","android-icon-48":"King_Idle_1.png","android-icon-72":"King_Idle_1.png","android-icon-96":"King_Idle_1.png","android-windowSplashScreenAnimatedIcon":"King_Idle_1.png","desktop-icon-512":"","ios-icon-100":"","ios-icon-1024":"","ios-icon-114":"","ios-icon-120":"","ios-icon-144":"","ios-icon-152":"","ios-icon-167":"","ios-icon-180":"","ios-icon-20":"","ios-icon-29":"","ios-icon-40":"","ios-icon-50":"","ios-icon-57":"","ios-icon-58":"","ios-icon-60":"","ios-icon-72":"","ios-icon-76":"","ios-icon-80":"","ios-icon-87":"","liluo-thumbnail":""},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"King_Idle_1.png","gdevelopLogoStyle":"dark-colored","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.2,"minDuration":1.5,"progressBarColor":16582150,"progressBarHeight":20,"progressBarMaxWidth":200,"progressBarMinWidth":40,"progressBarWidthPercent":30,"showGDevelopSplash":true,"showProgressBar":true},"watermark":{"placement":"bottom-left","showWatermark":true},"authorIds":["oKO5xP2zapZps1gckaTb0LaZADL2"],"authorUsernames":["jafetegill4"],"categories":["simulation"],"playableDevices":["keyboard","mobile"],"extensionProperties":[{"extension":"AdMob","property":"AdMobAppIdAndroid","value":"ca-app-pub-5816082932921993~6716142775"}],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"file":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/jump.mp3","kind":"audio","metadata":"","name":"Jump.mp3","preloadAsMusic":false,"preloadAsSound":true,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/jump.mp3","name":"Jump.mp3"}},{"file":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/bonus.mp3","kind":"audio","metadata":"","name":"Bonus.mp3","preloadAsMusic":false,"preloadAsSound":true,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/bonus.mp3","name":"Bonus.mp3"}},{"file":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/Nathaniel-19.otf","kind":"font","metadata":"","name":"Nathaniel-19.otf","userAdded":true,"origin":{"identifier":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/Nathaniel-19.otf","name":"Nathaniel-19.otf"}},{"file":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/death.mp3","kind":"audio","metadata":"{\"localFilePath\":\"assets/death.mp3\",\"extension\":\".wav\",\"jfxr\":{\"data\":\"{\\\"_version\\\":1,\\\"_name\\\":\\\"Jump 1\\\",\\\"_locked\\\":[],\\\"sampleRate\\\":44100,\\\"attack\\\":0,\\\"sustain\\\":0.06,\\\"sustainPunch\\\":0,\\\"decay\\\":0.32,\\\"tremoloDepth\\\":16,\\\"tremoloFrequency\\\":84,\\\"frequency\\\":1700,\\\"frequencySweep\\\":-4300,\\\"frequencyDeltaSweep\\\":-4700,\\\"repeatFrequency\\\":0,\\\"frequencyJump1Onset\\\":33,\\\"frequencyJump1Amount\\\":0,\\\"frequencyJump2Onset\\\":66,\\\"frequencyJump2Amount\\\":0,\\\"harmonics\\\":0,\\\"harmonicsFalloff\\\":0.5,\\\"waveform\\\":\\\"pinknoise\\\",\\\"interpolateNoise\\\":false,\\\"vibratoDepth\\\":0,\\\"vibratoFrequency\\\":10,\\\"squareDuty\\\":50,\\\"squareDutySweep\\\":0,\\\"flangerOffset\\\":0,\\\"flangerOffsetSweep\\\":0,\\\"bitCrush\\\":16,\\\"bitCrushSweep\\\":0,\\\"lowPassCutoff\\\":22050,\\\"lowPassCutoffSweep\\\":0,\\\"highPassCutoff\\\":0,\\\"highPassCutoffSweep\\\":0,\\\"compression\\\":1,\\\"normalization\\\":true,\\\"amplification\\\":100}\",\"name\":\"Death.mp3\"}}","name":"Death.mp3","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://gdevelop-generations.s3.amazonaws.com/projects/templates/endless-runner/assets/death.mp3","name":"Death.mp3"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/459cdce732b187d2cb88ccc860b4b9e7cbdae2aee9be230c95895c0029cb503f_King_Idle_1.png","kind":"image","metadata":"","name":"King_Idle_1.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/459cdce732b187d2cb88ccc860b4b9e7cbdae2aee9be230c95895c0029cb503f_King_Idle_1.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/d3205e0a55e27a51e972d852506053cc96216b4cbc0d739477ca4a6dca227192_King_Idle_2.png","kind":"image","metadata":"","name":"King_Idle_2.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/d3205e0a55e27a51e972d852506053cc96216b4cbc0d739477ca4a6dca227192_King_Idle_2.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/d69a5008d47d9f394a89dc38eca95fb677261e9859b5e3ca4992ad0d710add21_King_Idle_3.png","kind":"image","metadata":"","name":"King_Idle_3.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/d69a5008d47d9f394a89dc38eca95fb677261e9859b5e3ca4992ad0d710add21_King_Idle_3.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/a0f8206a05a5a5dd1f000d3d3017656792ba7273602d3adb168ca8d079fcc750_King_Idle_4.png","kind":"image","metadata":"","name":"King_Idle_4.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/a0f8206a05a5a5dd1f000d3d3017656792ba7273602d3adb168ca8d079fcc750_King_Idle_4.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/57a315502f57d9719d0979b18b1f2298d0616bc91340e7b003a6b88b63818bd5_King_Idle_5.png","kind":"image","metadata":"","name":"King_Idle_5.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Chierit/Lively NPC/Medieval/57a315502f57d9719d0979b18b1f2298d0616bc91340e7b003a6b88b63818bd5_King_Idle_5.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Status Effects/b5337cc20823fb020f33dc3fa24ed50563eddb56329023669e83e31e1934561c_Poison_No Shadow.png","kind":"image","metadata":"","name":"Poison_No Shadow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Status Effects/b5337cc20823fb020f33dc3fa24ed50563eddb56329023669e83e31e1934561c_Poison_No Shadow.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Status Effects/8c19d0f920b1fc41c7e4d6cdb3cee851ea6762adfc4912519da86806a75189de_Poison_Shadow.png","kind":"image","metadata":"","name":"Poison_Shadow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Status Effects/8c19d0f920b1fc41c7e4d6cdb3cee851ea6762adfc4912519da86806a75189de_Poison_Shadow.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Resources/2a85e58f7f9ea5782bf2adc967e3b59dd24c1ce73ded086e608baa66530e1219_Gem_No Shadow.png","kind":"image","metadata":"","name":"Gem_No Shadow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Resources/2a85e58f7f9ea5782bf2adc967e3b59dd24c1ce73ded086e608baa66530e1219_Gem_No Shadow.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Resources/01f9d3b58518d4cad72ef5331efe5d748e0c0326e7399c32419fda605611af8b_Gem_Shadow.png","kind":"image","metadata":"","name":"Gem_Shadow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/Resources/01f9d3b58518d4cad72ef5331efe5d748e0c0326e7399c32419fda605611af8b_Gem_Shadow.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/84f92564d5312d3f0dc956abb3b54789cf433e1cb564728e7253436a6b1a4859_Floater enemy_attack_1.png","kind":"image","metadata":"","name":"Floater enemy_attack_1.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/84f92564d5312d3f0dc956abb3b54789cf433e1cb564728e7253436a6b1a4859_Floater enemy_attack_1.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/f98235ff1263c479a6baa90ae8a2277f7a155712ccf8a8087a3497af9bb39b30_Floater enemy_attack_2.png","kind":"image","metadata":"","name":"Floater enemy_attack_2.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/f98235ff1263c479a6baa90ae8a2277f7a155712ccf8a8087a3497af9bb39b30_Floater enemy_attack_2.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/31b8c182598a0dd7cd848a0df9935ac88d5c0aece6054b259bdea4c5941bda6c_Floater enemy_dead.png","kind":"image","metadata":"","name":"Floater enemy_dead.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/31b8c182598a0dd7cd848a0df9935ac88d5c0aece6054b259bdea4c5941bda6c_Floater enemy_dead.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/eda4de2b71fff1c2ed37966a10c238ebe450d29775dbf4eeae464790273d03af_Floater enemy_idle.png","kind":"image","metadata":"","name":"Floater enemy_idle.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Abstract Platformer Pack (370 assets)/PNG/Enemies/eda4de2b71fff1c2ed37966a10c238ebe450d29775dbf4eeae464790273d03af_Floater enemy_idle.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Space Shooter by Pixel boy/Background/4d8cfdae4934a160d7a712ac0242ffb00a330637bf9373f0870af014671423ea_tiled_Stars.png","kind":"image","metadata":"","name":"tiled_Stars.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Space Shooter by Pixel boy/Background/4d8cfdae4934a160d7a712ac0242ffb00a330637bf9373f0870af014671423ea_tiled_Stars.png","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"https://asset-resources.gdevelop.io/public-resources/Sci-Fi Lab/Tileset/0f99c72b17d4ca7dc85dedee59c9103e576e71e8b231148cdeceb651656becbc_9patch_Ground Tile_all_43.png","kind":"image","metadata":"","name":"9patch_Ground Tile_all_43.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Sci-Fi Lab/Tileset/0f99c72b17d4ca7dc85dedee59c9103e576e71e8b231148cdeceb651656becbc_9patch_Ground Tile_all_43.png","name":"gdevelop-asset-store"}},{"file":"assets/audio/Defiance.mp3","kind":"audio","metadata":"","name":"Defiance.mp3","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://project-resources.gdevelop.io/f1f4a087-3893-48ea-b74c-d38388de99a3/resources/49c0d81fbf9001aade3105072f400404d750ffb004c974eb343e4d9c2b7fb337-Defiance.mp3","name":"cloud-project-resource"}},{"file":"assets/audio/alexander-nakarada-battle-of-the-creek.mp3","kind":"audio","metadata":"","name":"alexander-nakarada-battle-of-the-creek.mp3","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://project-resources.gdevelop.io/f1f4a087-3893-48ea-b74c-d38388de99a3/resources/b2df2467979dfa69c07ee66ae57e7ae9909ce124e46a31409401e71207bdbf68-alexander-nakarada-battle-of-the-creek.mp3","name":"cloud-project-resource"}},{"disablePreload":false,"file":"assets/json/New dialogue tree.json","kind":"json","metadata":"{\"extension\":\".json\"}","name":"New dialogue tree","userAdded":true}],"resourceFolders":[]},"objects":[],"objectsFolderStructure":{"folderName":"__ROOT"},"objectsGroups":[],"variables":[{"name":"Score","type":"number","value":0},{"folded":true,"name":"Highscore","type":"number","value":0}],"layouts":[{"b":155,"disableInputWhenNotFocused":true,"mangledName":"Game","name":"Game","r":155,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":155,"uiSettings":{"grid":true,"gridType":"rectangular","gridWidth":32,"gridHeight":32,"gridOffsetX":0,"gridOffsetY":0,"gridColor":10401023,"gridAlpha":0.8,"snap":true,"zoomFactor":0.6811524919011808,"windowMask":false},"objectsGroups":[{"name":"MovingObjects","objects":[{"name":"Poison"},{"name":"Floaterenemy"},{"name":"Gem"}]}],"variables":[{"name":"ObstacleType","type":"number","value":0},{"name":"GameStatus","type":"string","value":"Preparing"},{"name":"ObstacleSpawnDelay","type":"string","value":"2"},{"name":"DangerInField","type":"number","value":0},{"name":"SpawnedCactusInField","type":"number","value":0}],"instances":[{"angle":0,"customSize":false,"height":0,"layer":"UI","name":"ScoreText","persistentUuid":"b4cdf63a-8d7e-4bd0-83ee-8dfd60fd49dd","width":0,"x":21,"y":13,"zOrder":14,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":true,"depth":0,"height":934,"layer":"Background","name":"Stars","persistentUuid":"48c699d8-eec9-4115-ae30-822d8389a521","width":1568,"x":-96,"y":-390,"zOrder":17,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":true,"height":100,"layer":"","name":"King","persistentUuid":"4355f663-4fd5-41b2-83c2-2c5f313938d9","width":100,"x":59,"y":372,"zOrder":34,"numberProperties":[{"name":"animation","value":1}],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":true,"height":51,"layer":"UI","name":"TutorialText","persistentUuid":"3725e2af-9bb7-48f2-b571-0eb9a307aac5","width":693,"x":139,"y":237,"zOrder":35,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":true,"height":42,"layer":"UI","name":"HighScore","persistentUuid":"1a9da80e-2490-4f4b-8207-695cb017132f","width":299,"x":21,"y":59,"zOrder":36,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":true,"height":224,"layer":"","name":"GroundTile","persistentUuid":"2f0742b3-6308-434c-b4f5-630dc15ef251","width":1280,"x":1280,"y":480,"zOrder":37,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0,"customSize":true,"depth":0,"height":224,"layer":"","name":"GroundTile","persistentUuid":"8f8ab5d6-33a8-4c19-a424-cfd70a6555a9","width":1376,"x":-96,"y":480,"zOrder":37,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"Poison","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[{"effectType":"Adjustment","name":"Effect","doubleParameters":{"alpha":1,"blue":0.6,"brightness":1,"contrast":1,"gamma":1,"green":1,"red":1,"saturation":2},"stringParameters":{},"booleanParameters":{}}],"behaviors":[{"name":"DestroyOutside","type":"DestroyOutsideBehavior::DestroyOutside","extraBorder":1000}],"animations":[{"name":"No Shadow","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Poison_No Shadow.png","points":[],"originPoint":{"name":"","x":17,"y":30},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":3},{"x":29,"y":3},{"x":29,"y":29},{"x":3,"y":29}]]}]}]},{"name":"Shadow","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Poison_Shadow.png","points":[],"originPoint":{"name":"","x":17,"y":30},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":3},{"x":29,"y":3},{"x":29,"y":29},{"x":3,"y":29}]]}]}]}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"Floaterenemy","type":"Sprite","updateIfNotVisible":false,"variables":[{"name":"Reward","type":"number","value":0}],"effects":[],"behaviors":[{"name":"DestroyOutside","type":"DestroyOutsideBehavior::DestroyOutside","extraBorder":1000},{"name":"Platform","type":"PlatformBehavior::PlatformBehavior","platformType":"Jumpthru","canBeGrabbed":false,"yGrabOffset":0}],"animations":[{"name":"idle","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Floater enemy_idle.png","points":[{"name":"RewardUp","x":27,"y":-27},{"name":"RewardDown","x":27,"y":88}],"originPoint":{"name":"","x":27,"y":55},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":7,"y":8},{"x":47,"y":8},{"x":47,"y":48},{"x":7,"y":48}]]}]}]},{"name":"attack","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.5,"sprites":[{"hasCustomCollisionMask":true,"image":"Floater enemy_attack_1.png","points":[{"name":"RewardUp","x":27,"y":-27},{"name":"RewardDown","x":27,"y":88}],"originPoint":{"name":"","x":27,"y":55},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":7,"y":8},{"x":47,"y":8},{"x":47,"y":48},{"x":7,"y":48}]]},{"hasCustomCollisionMask":true,"image":"Floater enemy_attack_2.png","points":[{"name":"RewardUp","x":27,"y":-27},{"name":"RewardDown","x":27,"y":88}],"originPoint":{"name":"","x":27,"y":55},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":7,"y":8},{"x":47,"y":8},{"x":47,"y":48},{"x":7,"y":48}]]}]}]},{"name":"dead","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Floater enemy_dead.png","points":[{"name":"RewardUp","x":27,"y":-27},{"name":"RewardDown","x":27,"y":88}],"originPoint":{"name":"","x":27,"y":55},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":7,"y":8},{"x":47,"y":8},{"x":47,"y":48},{"x":7,"y":48}]]}]}]}]},{"assetStoreId":"","bold":false,"italic":false,"name":"ScoreText","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[{"effectType":"Outline","name":"Effect","doubleParameters":{"padding":6,"thickness":5},"stringParameters":{"color":"0;0;0"},"booleanParameters":{}}],"behaviors":[],"string":"Score: 0","font":"Nathaniel-19.otf","textAlignment":"","characterSize":40,"color":{"b":255,"g":255,"r":255}},{"assetStoreId":"","bold":false,"italic":false,"name":"HighScore","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[{"effectType":"Outline","name":"Effect","doubleParameters":{"padding":6,"thickness":5},"stringParameters":{"color":"0;0;0"},"booleanParameters":{}}],"behaviors":[],"string":"Highscore: 0","font":"Nathaniel-19.otf","textAlignment":"","characterSize":40,"color":{"b":255,"g":255,"r":255}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"Gem","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[{"effectType":"Adjustment","name":"Effect","doubleParameters":{"alpha":1,"blue":0.6,"brightness":1,"contrast":1,"gamma":1,"green":1,"red":1,"saturation":2},"stringParameters":{},"booleanParameters":{}}],"behaviors":[{"name":"DestroyOutside","type":"DestroyOutsideBehavior::DestroyOutside","extraBorder":1000}],"animations":[{"name":"No Shadow","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Gem_No Shadow.png","points":[],"originPoint":{"name":"","x":16,"y":16},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":5},{"x":29,"y":5},{"x":29,"y":26},{"x":3,"y":26}]]}]}]},{"name":"Shadow","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Gem_Shadow.png","points":[],"originPoint":{"name":"","x":16,"y":16},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":5},{"x":29,"y":5},{"x":29,"y":26},{"x":3,"y":26}]]}]}]}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"King","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[{"effectType":"DropShadow","name":"Effect","doubleParameters":{"alpha":1,"blur":2,"distance":1,"padding":0,"quality":3,"rotation":0},"stringParameters":{"color":"0;0;0"},"booleanParameters":{"shadowOnly":false}},{"effectType":"Outline","name":"Effect2","doubleParameters":{"padding":0,"thickness":2},"stringParameters":{"color":"0;0;0"},"booleanParameters":{}}],"behaviors":[{"name":"AnimationBehavior","type":"AnimationSystem::AnimationBehavior"},{"name":"InOnScreen","type":"IsOnScreen::InOnScreen"},{"name":"PlatformerObject","type":"PlatformBehavior::PlatformerObjectBehavior","canGoDownFromJumpthru":true,"ignoreDefaultControls":false,"useLegacyTrajectory":false,"maxSpeed":550,"acceleration":1500,"canGrabPlatforms":false,"canGrabWithoutMoving":false,"deceleration":1500,"gravity":2300,"jumpSpeed":1500,"jumpSustainTime":0,"ladderClimbingSpeed":150,"maxFallingSpeed":3000,"slopeMaxAngle":60,"xGrabTolerance":10,"yGrabOffset":0},{"name":"SmoothCamera","type":"SmoothCamera::SmoothCamera","LeftwardSpeed":0.9999,"RightwardSpeed":0.9999,"UpwardSpeed":0.9999,"DownwardSpeed":0.9,"FollowOnX":true,"FollowOnY":false,"FollowFreeAreaLeft":0,"FollowFreeAreaRight":0,"FollowFreeAreaTop":0,"FollowFreeAreaBottom":0,"CameraOffsetX":400,"CameraOffsetY":0,"CameraDelay":0,"ForecastTime":0,"ForecastHistoryDuration":0,"LogLeftwardSpeed":0,"LogRightwardSpeed":0,"LogDownwardSpeed":0,"LogUpwardSpeed":0,"DelayedCenterX":0,"DelayedCenterY":0,"ForecastHistoryMeanX":0,"ForecastHistoryMeanY":0,"ForecastHistoryVarianceX":0,"ForecastHistoryCovariance":0,"ForecastHistoryLinearA":0,"ForecastHistoryLinearB":0,"ForecastedX":0,"ForecastedY":0,"ProjectedNewestX":0,"ProjectedNewestY":0,"ProjectedOldestX":0,"ProjectedOldestY":0,"ForecastHistoryVarianceY":0,"Index":0,"CameraDelayCatchUpSpeed":0,"CameraExtraDelay":0,"WaitingSpeedXMax":0,"WaitingSpeedYMax":0,"WaitingEnd":0,"CameraDelayCatchUpDuration":0,"LeftwardSpeedMax":9000,"RightwardSpeedMax":9000,"UpwardSpeedMax":9000,"DownwardSpeedMax":9000,"OldX":9000,"OldY":9000,"IsCalledManually":false},{"name":"SmoothPlatformerCamera","type":"SmoothCamera::SmoothPlatformerCamera","PlatformerCharacter":"PlatformerObject","SmoothCamera":"SmoothCamera","JumpOriginY":0,"AirFollowFreeAreaTop":0,"AirFollowFreeAreaBottom":0,"FloorFollowFreeAreaTop":0,"FloorFollowFreeAreaBottom":0,"AirUpwardSpeed":0.95,"AirDownwardSpeed":0.95,"FloorUpwardSpeed":0.9,"FloorDownwardSpeed":0.9,"AirUpwardSpeedMax":9000,"AirDownwardSpeedMax":9000,"FloorUpwardSpeedMax":9000,"FloorDownwardSpeedMax":9000}],"animations":[{"name":"Idle","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.1667,"sprites":[{"hasCustomCollisionMask":true,"image":"King_Idle_1.png","points":[],"originPoint":{"name":"","x":0,"y":0},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":0},{"x":27,"y":0},{"x":27,"y":32},{"x":3,"y":32}]]},{"hasCustomCollisionMask":true,"image":"King_Idle_2.png","points":[],"originPoint":{"name":"","x":0,"y":0},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":0},{"x":27,"y":0},{"x":27,"y":32},{"x":3,"y":32}]]},{"hasCustomCollisionMask":true,"image":"King_Idle_3.png","points":[],"originPoint":{"name":"","x":0,"y":0},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":0},{"x":27,"y":0},{"x":27,"y":32},{"x":3,"y":32}]]},{"hasCustomCollisionMask":true,"image":"King_Idle_4.png","points":[],"originPoint":{"name":"","x":0,"y":0},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":0},{"x":27,"y":0},{"x":27,"y":32},{"x":3,"y":32}]]},{"hasCustomCollisionMask":true,"image":"King_Idle_5.png","points":[],"originPoint":{"name":"","x":0,"y":0},"centerPoint":{"automatic":true,"name":"centre","x":0,"y":0},"customCollisionMask":[[{"x":3,"y":0},{"x":27,"y":0},{"x":27,"y":32},{"x":3,"y":32}]]}]}]}]},{"assetStoreId":"","bold":false,"italic":false,"name":"TutorialText","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[{"effectType":"Outline","name":"Effect","doubleParameters":{"padding":6,"thickness":5},"stringParameters":{"color":"0;0;0"},"booleanParameters":{}}],"behaviors":[],"string":"Press the UP key to jump/start","font":"Nathaniel-19.otf","textAlignment":"left","characterSize":50,"color":{"b":255,"g":255,"r":255}},{"assetStoreId":"","bottomMargin":43,"height":129,"leftMargin":43,"name":"GroundTile","rightMargin":43,"texture":"9patch_Ground Tile_all_43.png","tiled":true,"topMargin":43,"type":"PanelSpriteObject::PanelSprite","width":129,"variables":[{"folded":true,"name":"Piece","type":"number","value":1}],"effects":[{"effectType":"Adjustment","name":"Effect","doubleParameters":{"alpha":1,"blue":0.6,"brightness":1,"contrast":1,"gamma":1,"green":1,"red":1,"saturation":2},"stringParameters":{},"booleanParameters":{}}],"behaviors":[{"name":"Platform","type":"PlatformBehavior::PlatformBehavior","canBeGrabbed":false,"platformType":"NormalPlatform","yGrabOffset":0}]},{"assetStoreId":"","height":128,"name":"Stars","texture":"tiled_Stars.png","type":"TiledSpriteObject::TiledSprite","width":128,"variables":[],"effects":[{"effectType":"Night","name":"Effect","doubleParameters":{"intensity":0.5,"opacity":0.5},"stringParameters":{},"booleanParameters":{}}],"behaviors":[]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Poison"},{"objectName":"Floaterenemy"},{"objectName":"ScoreText"},{"objectName":"HighScore"},{"objectName":"Gem"},{"objectName":"King"},{"objectName":"TutorialText"},{"objectName":"GroundTile"},{"objectName":"Stars"}]},"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"TextObject::String"},"parameters":["HighScore","=","\"Highscore: \" + GlobalVariableString(Highscore)"]},{"type":{"value":"TiledSpriteObject::XOffset"},"parameters":["Stars","=","CameraCenterX()/4"]},{"type":{"value":"ModVarGlobal"},"parameters":["Score","=","0"]},{"type":{"value":"SetAdaptGameResolutionAtRuntime"},"parameters":["","yes"]},{"type":{"value":"PlayMusic"},"parameters":["","alexander-nakarada-battle-of-the-creek.mp3","yes","60","1"]},{"type":{"value":"PreloadMusic"},"parameters":["","alexander-nakarada-battle-of-the-creek.mp3"]},{"type":{"value":"AdMob::ShowBanner"},"parameters":[]},{"type":{"value":"AdMob::SetupBanner"},"parameters":["\"ca-app-pub-5816082932921993/1407667624\"","\"ca-app-pub-5816082932921993/1407667624\"","no"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SystemInfo::IsMobile"},"parameters":[]}],"actions":[{"type":{"value":"TextObject::String"},"parameters":["TutorialText","=","\"Touch anywhere On screen to jump/start\""]},{"type":{"value":"TextObject::SetTextAlignment"},"parameters":["TutorialText","\"center\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GroupExists"},"parameters":["\"Highscore\"","\"Highscore\""]}],"actions":[{"type":{"value":"LireFichierExp"},"parameters":["\"Highscore\"","\"Highscore\"","","TempSaveValue"]},{"type":{"value":"ModVarGlobal"},"parameters":["Highscore","=","Variable(TempSaveValue)"]},{"type":{"value":"TextObject::String"},"parameters":["HighScore","=","\"Highscore: \" + GlobalVariableString(Highscore)"]}]}]},{"colorB":228,"colorG":74,"colorR":194,"creationTime":0,"name":"Game states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":196,"colorR":74,"creationTime":0,"name":"Preparing to start","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["GameStatus","=","\"Preparing\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"AnyKeyReleased"},"parameters":[""]},{"type":{"value":"MouseButtonPressed"},"parameters":["King","Left"]}]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["GameStatus","=","\"Playing\""]},{"type":{"value":"ResetTimer"},"parameters":["","\"obstacle_spawn\""]},{"type":{"value":"Cache"},"parameters":["TutorialText"]},{"type":{"value":"ActivateBehavior"},"parameters":["King","PlatformerObject","yes"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Playing the game","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["GameStatus","=","\"Playing\""]}],"actions":[{"type":{"value":"TextObject::String"},"parameters":["ScoreText","=","\"Score: \" + GlobalVariableString(Score)"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move the player object across the scene and change the background's offeset based on the base layer camera."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledSpriteObject::XOffset"},"parameters":["Stars","=","CameraCenterX()/4"]},{"type":{"value":"PlatformBehavior::SimulateRightKey"},"parameters":["King","PlatformerObject"]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Player movements","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Sounds","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PlatformBehavior::IsJumping"},"parameters":["King","PlatformerObject"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","Jump.mp3","","100","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Controls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"KeyPressed"},"parameters":["King","Up"]},{"type":{"value":"MouseButtonPressed"},"parameters":["King","Left"]}]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlatformBehavior::SimulateJumpKey"},"parameters":["King","PlatformerObject"]}]}],"parameters":[]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Score","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["Score","+","round(TimeDelta()*100)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["King","Gem","","",""]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["Score","+","500"]},{"type":{"value":"Delete"},"parameters":["Gem",""]},{"type":{"value":"PlaySound"},"parameters":["","Bonus.mp3","","100","0.5"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Obstacle spawn","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Increase difficulty with score by reducing the spawn delay (min. 0.7 second) and increasing player's speed."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PlatformBehavior::MaxSpeed"},"parameters":["King","PlatformerObject","<","800"]}],"actions":[{"type":{"value":"PlatformBehavior::MaxSpeed"},"parameters":["King","PlatformerObject","=","King.PlatformerObject::MaxSpeed()+TimeDelta()*6"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["ObstacleSpawnDelay",">","0.7"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["ObstacleSpawnDelay","-","TimeDelta()/30"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Replacing the ground"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["GroundTile","<","King.X()-GroundTile.Width()-100"]}],"actions":[{"type":{"value":"Delete"},"parameters":["GroundTile",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SceneInstancesCount"},"parameters":["","GroundTile","<","2"]},{"type":{"value":"AjoutHasard"},"parameters":["GroundTile","GroundTile"]}],"actions":[{"type":{"value":"Create"},"parameters":["","GroundTile","GroundTile.X()+GroundTile.Width()","GroundTile.Y()",""]},{"type":{"value":"PanelSpriteObject::Width"},"parameters":["GroundTile","=","1280"]},{"type":{"value":"PanelSpriteObject::Height"},"parameters":["GroundTile","=","224"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Randomly chose the obstacle type (0: single danger, 1: Platform, 2: danger field) when spawn delay is reached. Once the obstacle is created, we reset the spawn timer."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareTimer"},"parameters":["","\"obstacle_spawn\"",">=","Variable(ObstacleSpawnDelay)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["ObstacleType","=","RandomInRange(0,2)"]},{"type":{"value":"ResetTimer"},"parameters":["","\"obstacle_spawn\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["ObstacleType","=","0"]}],"actions":[{"type":{"value":"Create"},"parameters":["","Poison","RandomInRange(75, 125) + 960 + King.X()","GroundTile.BoundingBoxTop()",""]},{"type":{"value":"ChangeScale"},"parameters":["Poison","*","100/(max(Poison.Width(), Poison.Height()))"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create an Platform with a reward (0: reward on bottom, 1: reward on top, 3: no reward)."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["ObstacleType","=","1"]}],"actions":[{"type":{"value":"Create"},"parameters":["","Floaterenemy","RandomInRange(75, 125) + 960 + King.X()","GroundTile.BoundingBoxTop() - 64",""]},{"type":{"value":"ModVarObjet"},"parameters":["Floaterenemy","Reward","=","RandomInRange(0, 2)"]},{"type":{"value":"ChangeScale"},"parameters":["Floaterenemy","*","125/(max(Floaterenemy.Width(), Floaterenemy.Height()))"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Floaterenemy","Reward","=","0"]}],"actions":[{"type":{"value":"Create"},"parameters":["","Gem","Floaterenemy.PointX(\"RewardUp\")","Floaterenemy.PointY(\"RewardUp\")",""]},{"type":{"value":"ChangeScale"},"parameters":["Gem","*","60/(max(Gem.Width(), Gem.Height()))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Floaterenemy","Reward","=","1"]}],"actions":[{"type":{"value":"Create"},"parameters":["","Gem","Floaterenemy.PointX(\"RewardDown\")","Floaterenemy.PointY(\"RewardDown\")",""]},{"type":{"value":"ChangeScale"},"parameters":["Gem","*","60/(max(Gem.Width(), Gem.Height()))"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Spawn a danger field of length scaling with score (max 4)."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["ObstacleType","=","2"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["dangerInField","=","RandomInRange(1, 1 + round(clamp(GlobalVariable(Score)/3000, 0, 4)))"]}],"events":[{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"VarScene"},"parameters":["SpawneddangerInField","<","Variable(dangerInField)"]}],"conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Poison","RandomInRange(75, 125) + 960 + King.X()","GroundTile.BoundingBoxTop()",""]},{"type":{"value":"ModVarScene"},"parameters":["SpawneddangerInField","+","1"]},{"type":{"value":"ChangeScale"},"parameters":["Poison","*","100/(max(Poison.Width(), Poison.Height()))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["SpawneddangerInField","=","0"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Game Over","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Player loses when Player collided with a danger"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["King","Poison","","",""]}],"actions":[{"type":{"value":"PlatformBehavior::PlatformerObjectBehavior::AbortJump"},"parameters":["King","PlatformerObject"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["GameStatus","=","\"Dead\""]},{"type":{"value":"PauseTimer"},"parameters":["","\"obstacle_spawn\""]},{"type":{"value":"AjoutObjConcern"},"parameters":["","MovingObjects"]},{"type":{"value":"Arreter"},"parameters":["MovingObjects"]},{"type":{"value":"PlaySound"},"parameters":["","Death.mp3","","80","1"]},{"type":{"value":"DeviceVibration::StartVibration"},"parameters":["0.1"]}]}],"parameters":[]}]}],"parameters":[]},{"colorB":228,"colorG":147,"colorR":74,"creationTime":0,"name":"Game lost","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["GameStatus","=","\"Dead\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"TextObject::String"},"parameters":["TutorialText","=","\"Press any key to restart the game\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SystemInfo::IsMobile"},"parameters":[]}],"actions":[{"type":{"value":"TextObject::String"},"parameters":["TutorialText","=","\"Touch anywhere On screen to restart\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Montre"},"parameters":["TutorialText",""]},{"type":{"value":"TextObject::SetTextAlignment"},"parameters":["TutorialText","\"center\""]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"If the variable Score is higher than the current value for Highscore, change the score and save the value externally"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["GlobalVariable(Score)",">","GlobalVariable(Highscore)"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["Highscore","=","GlobalVariable(Score)"]},{"type":{"value":"TextObject::String"},"parameters":["ScoreText","=","\"Score: \" + GlobalVariableString(Highscore)"]},{"type":{"value":"TextObject::String"},"parameters":["HighScore","=","\"Highscore: \" + GlobalVariableString(Highscore)"]},{"type":{"value":"EcrireFichierExp"},"parameters":["\"Highscore\"","\"Highscore\"","GlobalVariable(Highscore)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Restart if key pressed or touched"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"AnyKeyReleased"},"parameters":[""]},{"type":{"value":"MouseButtonPressed"},"parameters":["King","Left"]}]}],"actions":[{"type":{"value":"Scene"},"parameters":["","\"Game\"","yes"]}]}]}],"parameters":[]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"layers":[{"ambientLightColorB":-2147483616,"ambientLightColorG":6032144,"ambientLightColorR":6124984,"camera3DFarPlaneDistance":10000,"camera3DFieldOfView":45,"camera3DNearPlaneDistance":0.1,"followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Background","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"AdvancedBloom","name":"Effect","doubleParameters":{"bloomScale":0.7,"blur":4,"brightness":0.7,"padding":0,"quality":7,"threshold":0.5},"stringParameters":{},"booleanParameters":{}}]},{"ambientLightColorB":32,"ambientLightColorG":0,"ambientLightColorR":0,"camera3DFarPlaneDistance":10000,"camera3DFieldOfView":45,"camera3DNearPlaneDistance":0.1,"followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0,"viewportBottom":1,"viewportLeft":0,"viewportRight":1,"viewportTop":0,"width":0}],"effects":[]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000,"camera3DFieldOfView":45,"camera3DNearPlaneDistance":0.1,"followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"UI","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::AmbientLight","name":"Effect","doubleParameters":{"intensity":0.75},"stringParameters":{"color":"255;255;255"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"AnimationBehavior","type":"AnimationSystem::AnimationBehavior"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"InOnScreen","type":"IsOnScreen::InOnScreen"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Platform","type":"PlatformBehavior::PlatformBehavior"},{"name":"PlatformerObject","type":"PlatformBehavior::PlatformerObjectBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"SmoothCamera","type":"SmoothCamera::SmoothCamera"},{"name":"SmoothPlatformerCamera","type":"SmoothCamera::SmoothPlatformerCamera"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}]}],"externalEvents":[],"eventsFunctionsExtensions":[{"author":"","category":"General","extensionNamespace":"","fullName":"JSON Resource Loading","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWZpbGUtY29kZS1vdXRsaW5lIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTE0IDJINkM0Ljg5IDIgNCAyLjkgNCA0VjIwQzQgMjEuMTEgNC44OSAyMiA2IDIySDE4QzE5LjExIDIyIDIwIDIxLjExIDIwIDIwVjhMMTQgMk0xOCAyMEg2VjRIMTNWOUgxOFYyME05LjU0IDE1LjY1TDExLjYzIDE3Ljc0TDEwLjM1IDE5TDcgMTUuNjVMMTAuMzUgMTIuM0wxMS42MyAxMy41Nkw5LjU0IDE1LjY1TTE3IDE1LjY1TDEzLjY1IDE5TDEyLjM4IDE3Ljc0TDE0LjQ3IDE1LjY1TDEyLjM4IDEzLjU2TDEzLjY1IDEyLjNMMTcgMTUuNjVaIiAvPjwvc3ZnPg==","name":"JSONResourceLoader","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/file-code-outline.svg","shortDescription":"Loads a JSON resource into a variable.","version":"1.0.0","description":["Loads a (static) JSON resource from your project files into a global, scene, or object variable.","","NEVER use this to load your game.json into a variable - this would increase your game size by a lot and make your whole project file available for anyone to open!"],"origin":{"identifier":"JSONResourceLoader","name":"gdevelop-extension-store"},"tags":["json","resource","load","open","file","data","static","file"],"authorIds":["ZgrsWuRTAkXgeuPV9bo0zuEcA2w1"],"dependencies":[],"eventsFunctions":[{"description":"Loads a JSON resource into a scene structure variable.","fullName":"Load a JSON resource in a scene variable","functionType":"Action","name":"LoadJSONToScene","sentence":"Load _PARAM1_ into scene variable _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext","    .getArgument(\"Variable\")","    .fromJSObject(","        runtimeScene","            .getGame()","            .getJsonManager()","            .getLoadedJson(eventsFunctionContext.getArgument(\"Resource\"))","    );",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The resource to load the JSON from","name":"Resource","type":"jsonResource"},{"description":"The scene variable to load the JSON to","name":"Variable","type":"scenevar"}],"objectGroups":[]},{"description":"Loads a JSON resource into a global structure variable.","fullName":"Load a JSON resource in a global variable","functionType":"Action","name":"LoadJSONToGlobal","sentence":"Load _PARAM1_ into global variable _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext","    .getArgument(\"Variable\")","    .fromJSObject(","        runtimeScene","            .getGame()","            .getJsonManager()","            .getLoadedJson(eventsFunctionContext.getArgument(\"Resource\"))","    );",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The resource to load the JSON from","name":"Resource","type":"jsonResource"},{"description":"The global variable to load the JSON to","name":"Variable","type":"globalvar"}],"objectGroups":[]},{"description":"Loads a JSON resource into an object structure variable.","fullName":"Load a JSON resource in an object variable","functionType":"Action","name":"LoadJSONToObject","sentence":"Load _PARAM1_ into object variable _PARAM3_ of object _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext","    .getArgument(\"Variable\")","    .fromJSObject(","        runtimeScene","            .getGame()","            .getJsonManager()","            .getLoadedJson(eventsFunctionContext.getArgument(\"Resource\"))","    );",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The resource to load the JSON from","name":"Resource","type":"jsonResource"},{"description":"The object where to find the variable","name":"Object","type":"objectList"},{"description":"The object variable to load the JSON to","name":"Variable","type":"objectvar"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"VegeTato","category":"Visual effect","extensionNamespace":"","fullName":"Animation system","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTkuMywyNy40TDkuMywyNy40YzAuNywwLjcsMS45LDAuNywyLjcsMGwwLDBjMC43LTAuNywxLjktMC43LDIuNywwbDAsMGMwLjcsMC43LDEuOSwwLjcsMi43LDBsMCwwDQoJYzAuNy0wLjcsMS45LTAuNywyLjcsMGwwLDBjMC43LDAuNywxLjksMC43LDIuNywwbDAsMGMwLjctMC43LDEuOS0wLjcsMi43LDBsMC43LDAuNlYxM2MwLTUuNS00LjUtMTAtMTAtMTBoMEMxMC41LDMsNiw3LjUsNiwxMw0KCXYxNS4xbDAuNy0wLjZDNy40LDI2LjcsOC42LDI2LjcsOS4zLDI3LjR6Ii8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMTMiIHkxPSIxMyIgeDI9IjEzIiB5Mj0iMTYiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIxOSIgeTE9IjEzIiB4Mj0iMTkiIHkyPSIxNiIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjExIiB5MT0iMTkiIHgyPSIyMSIgeTI9IjE5Ii8+DQo8L3N2Zz4NCg==","name":"AnimationSystem","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Videogames/Videogames_videogame_pacman_ghost_character_play.svg","shortDescription":"Adds easy to use pre-made animations.","version":"1.0.0","description":["Helpful for making animations for sprites without having to spend time animating the character in editors","- You can use multi animations on one object to get more effects","- For the animations that do Not have Trigger once, you can use Timers to make it Have one !","- Added condition to check if the door is Open or Close from animation (3D open/close door)","- Added condition to check if the animation has finished (if trigger once set to YES)","- User can change the origin point of the object to control the animations","- Animation behavior must be installed in the object to make the extension works"],"origin":{"identifier":"AnimationSystem","name":"gdevelop-extension-store"},"tags":["animation","animate","system"],"authorIds":["IRIhkkTTl2UHhfjrLTTH5GYwkYu1"],"dependencies":[],"eventsFunctions":[{"description":"From *3D open door* animation.","fullName":"Check if the door is open","functionType":"Condition","name":"DoorIsOpen","sentence":"Check if the _PARAM1_ is open","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD door is open","=","2"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Check if the selected animation has finished.","fullName":"Check if the animation has finished","functionType":"Condition","name":"AnimationFinished","sentence":"Animation _PARAM1_ of _PARAM2_ has finished","events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Pulse\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Pulse has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Breath\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Breath has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Smooth rotation\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Instant rotation\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Instant rotation has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D rotation\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._3D rotation has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D rotation X\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._3D rotation X has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D rotation Y\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._3D rotation Y has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Float\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Float has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Triangle transition\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Square transition\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Rhombus transition\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Maze transition\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Fade out\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Fade out has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Fade in\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Fade in has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Squash & Stretch\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash & Stretch has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Rainbow effect\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rainbow effect has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Shake rotation\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Shake horizontal\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Shake vertical\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Line rotation\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Land\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Land has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Low health\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health has finished","=","1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}]}],"parameters":[{"description":"Animation","longDescription":"Animation must be set to Trigger once in order to check if it finished","name":"animations","supplementaryInformation":"[\"Pulse\",\"Breath\",\"Smooth rotation\",\"Instant rotation\",\"3D rotation\",\"3D rotation X\",\"3D rotation Y\",\"Float\",\"Triangle transition\",\"Square transition\",\"Rhombus transition\",\"Maze transition\",\"Fade out\",\"Fade in\",\"Squash & Stretch\",\"Rainbow effect\",\"Shake rotation\",\"Shake horizontal\",\"Shake vertical\",\"Line rotation\",\"Land\",\"Low health\"]","type":"stringWithSelector"},{"description":"Animated object","name":"Object","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Animate any sprite with this extension.","fullName":"Animation Behavior","name":"AnimationBehavior","objectType":"Sprite","eventsFunctions":[{"description":"edit the object (\"Origin\" point) to control how the animation goes.","fullName":"Animation system","functionType":"Action","name":"AnimationSystem","sentence":"Animate _PARAM0_ with animation _PARAM2_ at speed _PARAM3_ on width _PARAM4_ and height _PARAM5_ Trigger once? _PARAM6_","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Pulse animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Pulse\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Pulse","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Pulse","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")*2 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")/2,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")+(GetArgumentAsNumber(\"width\")-40)"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Pulse","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Pulse","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")/2 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")*2, GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Pulse","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Pulse","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Pulse","=","1"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), (GetArgumentAsNumber(\"height\")/2) ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), (GetArgumentAsNumber(\"width\")*2) ,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")+(GetArgumentAsNumber(\"width\")-40)"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Pulse","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Pulse","=","2"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), (GetArgumentAsNumber(\"height\")*2), GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), (GetArgumentAsNumber(\"width\")/2) ,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Pulse","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Pulse","=","3"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), (GetArgumentAsNumber(\"height\")) ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), (GetArgumentAsNumber(\"width\")) ,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")-0.01"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Pulse","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Pulse has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Breath animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Breath\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Breath","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Breath","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")+50 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")+50, GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")+30"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Breath","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Breath","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","GetArgumentAsNumber(\"width\")+10"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Breath","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Breath","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Breath","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")+50 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")+50, GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")+30"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Breath","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Breath","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","GetArgumentAsNumber(\"width\")+0.03"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Breath","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Breath has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Smooth rotation animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Smooth rotation\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","lerp(Object.Angle(), -80, (GetArgumentAsNumber(\"speed\")/2))",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Angle()","<=","-60"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","2"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","lerp(-60, 80, GetArgumentAsNumber(\"speed\"))",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","340"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","3"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","lerp(Object.Angle(), 360, 0.09)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","359.9"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","4"]},{"type":{"value":"SetAngle"},"parameters":["Object","=","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","lerp(Object.Angle(), -80, (GetArgumentAsNumber(\"speed\")/2))",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Angle()","<=","-60"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","2"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","lerp(-60, 80, GetArgumentAsNumber(\"speed\"))",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","340"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","3"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","lerp(Object.Angle(), 360, 0.09)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","360-0.03"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Smooth rotation","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Smooth rotation has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Instant rotation animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Instant rotation\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._instant","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._instant","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","GetArgumentAsNumber(\"speed\")*100",""]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._instant","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._instant","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","GetArgumentAsNumber(\"speed\")*100",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","360"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._instant","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._instant","=","2"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Instant rotation has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Wobble animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Wobble\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["_.Animation system.wobble Intensity","=","5"]},{"type":{"value":"ModVarScene"},"parameters":["ObjectScale","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._wobble","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._wobble","=","1"]}],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["Object","=","(sin(Object.Variable(_.Animation system._Wobble speed))/Variable(_.Animation system.wobble Intensity))+Variable(ObjectScale)"]},{"type":{"value":"ChangeScaleHeight"},"parameters":["Object","=","(cos(Object.Variable(_.Animation system._Wobble speed))/Variable(_.Animation system.wobble Intensity))+Variable(ObjectScale)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Wobble speed","+","GetArgumentAsNumber(\"speed\")"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Wobble2 animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Wobble2\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["_.Animation system.wobble Intensity2","=","5"]},{"type":{"value":"ModVarScene"},"parameters":["ObjectScale2","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._wobble2","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._wobble2","=","1"]}],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["Object","=","(sin(Object.Variable(_.Animation system._Wobble speed2))/Variable(_.Animation system.wobble Intensity2))+Variable(ObjectScale2)"]},{"type":{"value":"ChangeScaleHeight"},"parameters":["Object","=","(-sin(Object.Variable(_.Animation system._Wobble speed2))/Variable(_.Animation system.wobble Intensity2))+Variable(ObjectScale2)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Wobble speed2","+","GetArgumentAsNumber(\"speed\")"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Wobble3 animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Wobble3\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["_.Animation system.wobble Intensity3","=","5"]},{"type":{"value":"ModVarScene"},"parameters":["ObjectScale3","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._wobble3","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._wobble3","=","1"]}],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["Object","=","(sin(Object.Variable(_.Animation system._Wobble speed3))/Variable(_.Animation system.wobble Intensity3))+Variable(ObjectScale3)"]},{"type":{"value":"ChangeScaleHeight"},"parameters":["Object","=","(sin(Object.Variable(_.Animation system._Wobble speed3))/Variable(_.Animation system.wobble Intensity3))+Variable(ObjectScale3)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Wobble speed3","+","GetArgumentAsNumber(\"speed\")"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Wobble once animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Wobble once\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__WobbleEffect.is_squishy_scale","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__WobbleEffect.target_scale","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__WobbleEffect.scale_lerp","=","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__WobbleEffect.scdx","=","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["Object","=","2"]},{"type":{"value":"ChangeScaleHeight"},"parameters":["Object","=","0.5"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__WobbleEffect.is_squishy_scale","=","2"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"3D rotation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D rotation\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation speed","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation speed","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","GetArgumentAsNumber(\"speed\")*100",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","1"]},{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","yes"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","2"]},{"type":{"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","3"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","3"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","no"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","4"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","4"]},{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation speed","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation speed","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","GetArgumentAsNumber(\"speed\")*100",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","360"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation speed","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation speed","=","2"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","1"]},{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","yes"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","2"]},{"type":{"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation","=","3"]},{"type":{"value":"VarObjet"},"parameters":["Object","IDrotation","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._3D rotation has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"3D rotation X","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D rotation X\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","1"]},{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","yes"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","2"]},{"type":{"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","3"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","3"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","no"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","4"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","4"]},{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","1"]},{"type":{"inverted":true,"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","yes"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","2"]},{"type":{"value":"FlippedX"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation X","=","3"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._3D rotation X has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"3D rotation Y","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D rotation Y\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","1"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Height()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","1"]},{"type":{"inverted":true,"value":"FlippedY"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Object","yes"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","2"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Height()",">=","GetArgumentAsNumber(\"height\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","2"]},{"type":{"value":"FlippedY"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","3"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Height()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","3"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Object","no"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","4"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Height()",">=","GetArgumentAsNumber(\"height\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","4"]},{"type":{"inverted":true,"value":"FlippedY"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","1"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Height()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","1"]},{"type":{"inverted":true,"value":"FlippedY"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Object","yes"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","2"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Height()",">=","GetArgumentAsNumber(\"height\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","2"]},{"type":{"value":"FlippedY"},"parameters":["Object"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD rotation Y","=","3"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._3D rotation Y has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"3D door loop animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D door loop\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Door loop","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Door loop","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","0"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Door loop","=","1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Door loop","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Door loop","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Door loop","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"3D open door animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D open door\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD open door","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD close door","=","100"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD open door","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","(0.3*GetArgumentAsNumber(\"width\"))"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD open door","=","1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD open door","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD open door","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(),(0.3*GetArgumentAsNumber(\"width\")/2),0.03)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","(0.3*GetArgumentAsNumber(\"width\"))+0.5"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD open door","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD door is open","=","2"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"3D close door animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D close door\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD door is open","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD open door","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD close door","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD close door","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","(0.3*GetArgumentAsNumber(\"width\"))"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD close door","=","1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD close door","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD close door","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(),GetArgumentAsNumber(\"width\"),0.03)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")-2"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD close door","=","2"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD door is open","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"3D pre-closed door animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"3D pre-closed door\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD pre closed door","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD pre closed door","=","100"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","(0.3*GetArgumentAsNumber(\"width\")/2)"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD door is open","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD pre closed door","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","(0.3*GetArgumentAsNumber(\"width\"))"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD pre closed door","=","1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD pre closed door","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD pre closed door","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(),(0.3*GetArgumentAsNumber(\"width\")/2),0.03)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","<=","(0.3*GetArgumentAsNumber(\"width\"))+0.5"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._ThreeD pre closed door","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._ThreeD door is open","=","2"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Float animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Float\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatY","=","Object.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._FloatY)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")*10"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._FloatY)-(Object.Height()/6)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","3"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")*10"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._FloatY)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatY","=","Object.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._FloatY)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")*10"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._FloatY)-(Object.Height()/6)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","3"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")*10"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._FloatY)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._FloatUp","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Float has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Triangle transition animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Triangle transition\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transitionX","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transitionY","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Triangle transitionX)+(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","2"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Triangle transitionY)-(Object.Height()+(Object.Height()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Triangle transitionX)-(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","4"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transitionX","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transitionY","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Triangle transitionX)+(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","2"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Triangle transitionY)-(Object.Height()+(Object.Height()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Triangle transitionX)-(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","4"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","4"]},{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Triangle transitionX)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Triangle transition has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Square transition animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Square transition\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition X","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Square transition X)+(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Square transition Y)-(Object.Height()+(Object.Height()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Square transition X)-(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","4"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Square transition Y)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","5"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition X","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Square transition X)+(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Square transition Y)-(Object.Height()+(Object.Height()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Square transition X)-(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","4"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Square transition Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","5"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","6"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","6"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Square transition X)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Square transition","=","6"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Square transition has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Rhombus transition animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Rhombus transition\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition X","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Rhombus transition X)+(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Rhombus transition Y)-(Object.Height()+(Object.Height()/2))"]},{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Rhombus transition X)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Rhombus transition X)-(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","4"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Rhombus transition Y)"]},{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Rhombus transition X)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition X","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Rhombus transition X)+(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Rhombus transition Y)-(Object.Height()+(Object.Height()/2))"]},{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Rhombus transition X)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Rhombus transition X)-(Object.Width()+(Object.Width()/2))"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","4"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Rhombus transition Y)"]},{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Rhombus transition X)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rhombus transition has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Maze transition animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Maze transition\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition X","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","=","Object.Variable(_.Animation system._Maze transition X)"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","=","Object.Variable(_.Animation system._Maze transition Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","4"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","5"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","5"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","6"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","6"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","6"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","7"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","7"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","7"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","8"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","8"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","8"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","9"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","9"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","9"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","10"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","10"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","10"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition X","=","Object.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","=","Object.Variable(_.Animation system._Maze transition X)"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","=","Object.Variable(_.Animation system._Maze transition Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","4"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","5"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","5"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","6"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","6"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","6"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","7"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","7"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","7"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","8"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","8"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Maze transition X)+Object.Width()+Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","8"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","9"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","9"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)-Object.Height()-Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","9"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","10"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","10"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Maze transition X)-Object.Width()-Object.Width()-Object.Width()"]},{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Maze transition Y)+Object.Height()+Object.Height()"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","10"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Maze transition has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Fade loop animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Fade loop\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Opacity"},"parameters":["Object","<=","255"]},{"type":{"inverted":true,"value":"Opacity"},"parameters":["Object","=","0"]},{"type":{"inverted":true,"value":"VarObjet"},"parameters":["Object","_.Animation system._Fade loop","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Fade loop","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Fade loop","=","1"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Opacity"},"parameters":["Object","=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Fade loop","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Fade loop","=","2"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Opacity"},"parameters":["Object",">=","255"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Fade loop","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Fade loop","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Fade out animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Fade out\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Opacity"},"parameters":["Object","!=","0"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Opacity"},"parameters":["Object","=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Fade out has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Fade in animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Fade in\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Opacity"},"parameters":["Object","<=","255"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Opacity"},"parameters":["Object",">=","255"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Fade in has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Squash & Stretch animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Squash & Stretch\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")*2 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")/2,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")+(GetArgumentAsNumber(\"width\")-40)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")/2 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")*2, GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}]},{"type":{"value":"Angle"},"parameters":["Object",">=","-200"]},{"type":{"value":"Angle"},"parameters":["Object",">=","-358"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","=","lerp(Object.Y(),Object.Variable(_.Animation system._Squash and Stretch Y)-Object.Height()*3 , GetArgumentAsNumber(\"speed\")*1.4)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Squash and Stretch Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Squash and Stretch Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","-GetArgumentAsNumber(\"speed\")*5000",""]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object","<=","-200"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")*80"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object","<=","-358"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","5"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","lerp(Object.Angle(),-360,GetArgumentAsNumber(\"speed\")*4)"]},{"type":{"value":"MettreY"},"parameters":["Object","=","lerp(Object.Y(), Object.Variable(_.Animation system._Squash and Stretch Y) ,GetArgumentAsNumber(\"speed\")*5)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Squash and Stretch Y)-2"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","5"]},{"type":{"value":"Angle"},"parameters":["Object","<=","-359"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","1"]},{"type":{"value":"SetAngle"},"parameters":["Object","=","0"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")*2 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")/2,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")+(GetArgumentAsNumber(\"width\")-40)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","1"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\")/2 ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\")*2, GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}]},{"type":{"value":"Angle"},"parameters":["Object",">=","-200"]},{"type":{"value":"Angle"},"parameters":["Object",">=","-358"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","=","lerp(Object.Y(),Object.Variable(_.Animation system._Squash and Stretch Y)-Object.Height()*3 , GetArgumentAsNumber(\"speed\")*1.4)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Squash and Stretch Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Squash and Stretch Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","-GetArgumentAsNumber(\"speed\")*5000",""]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object","<=","-200"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}],"actions":[{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(), GetArgumentAsNumber(\"height\"), GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(), GetArgumentAsNumber(\"width\") ,GetArgumentAsNumber(\"speed\"))"]},{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")*80"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object","<=","-358"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","5"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","lerp(Object.Angle(),-360,GetArgumentAsNumber(\"speed\")*4)"]},{"type":{"value":"MettreY"},"parameters":["Object","=","lerp(Object.Y(), Object.Variable(_.Animation system._Squash and Stretch Y) ,GetArgumentAsNumber(\"speed\")*5)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Squash and Stretch Y)-2"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","5"]},{"type":{"value":"Angle"},"parameters":["Object","<=","-359"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash and Stretch","=","100"]},{"type":{"value":"SetAngle"},"parameters":["Object","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Squash & Stretch has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Rainbow effect animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Rainbow effect\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","0.00000000000000000001"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"240;0;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2/2"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"255;132;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","((GetArgumentAsNumber(\"speed\")/2) /2) *1.5"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"247;255;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","((GetArgumentAsNumber(\"speed\")/2) /2) *1.5"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"48;242;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2/2/2 *(10)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"0;255;234\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2/2/2 *(10)"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"0;102;255\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3)"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3) *(1.1672)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"183;0;255\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3) *(1.1672)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"235;135;255\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\""]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","0.00000000000000000001"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"240;0;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2/2"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"255;132;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","((GetArgumentAsNumber(\"speed\")/2) /2) *1.5"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"247;255;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","((GetArgumentAsNumber(\"speed\")/2) /2) *1.5"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"48;242;0\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2/2/2 *(10)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"0;255;234\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/2/2/2/2 *(10)"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"0;102;255\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3)"]},{"type":{"inverted":true,"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3) *(1.1672)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"183;0;255\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")/4 *(3) *(1.1672)"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"235;135;255\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\"","GetArgumentAsNumber(\"speed\")"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"255;255;255\""]},{"type":{"value":"PauseObjectTimer"},"parameters":["Object","\"_.Animation system._Rainbow effect\""]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Rainbow effect has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Shake rotation animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Shake rotation\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","GetArgumentAsNumber(\"speed\")*100","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","15"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","2"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","-GetArgumentAsNumber(\"speed\")*100","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object","<=","-15"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","1"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","GetArgumentAsNumber(\"speed\")*100","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">=","15"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","2"]}],"actions":[{"type":{"value":"Rotate"},"parameters":["Object","-GetArgumentAsNumber(\"speed\")*100","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object","<=","-15"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","100"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","100"]}],"actions":[{"type":{"value":"RotateTowardAngle"},"parameters":["Object","0","GetArgumentAsNumber(\"speed\")*100",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake rotation","=","100"]},{"type":{"value":"Angle"},"parameters":["Object",">=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake rotation has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Shake horizontal animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Shake horizontal\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal X","=","Object.X()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Shake horizontal X)+10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","2"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Shake horizontal X)-10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal X","=","Object.X()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","1"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Shake horizontal X)+10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","2"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Shake horizontal X)-10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Shake horizontal X)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake horizontal has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Shake vertical animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Shake vertical\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","1"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Shake vertical Y)-10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Shake vertical Y)+10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical Y","=","Object.Y()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","1"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Shake vertical Y)-10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","2"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()",">=","Object.Variable(_.Animation system._Shake vertical Y)+10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","3"]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Y()","<=","Object.Variable(_.Animation system._Shake vertical Y)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Shake vertical has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"line rotation animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Line rotation\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation X","=","Object.X()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","1"]},{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Line rotation X)+GetArgumentAsNumber(\"width\")"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Line rotation X)+GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","2"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Line rotation X)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Line rotation X)-GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","4"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Line rotation X)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation X","=","Object.X()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","1"]},{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Line rotation X)+GetArgumentAsNumber(\"width\")"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Line rotation X)+GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","2"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Line rotation X)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","3"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()","<=","Object.Variable(_.Animation system._Line rotation X)-GetArgumentAsNumber(\"width\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","4"]}],"actions":[{"type":{"value":"MettreX"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.X()",">=","Object.Variable(_.Animation system._Line rotation X)"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","4"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Line rotation has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Land animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Land\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Land","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Land","=","1"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/2"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")+10"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Land","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Land","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Land","=","2"]}],"actions":[{"type":{"value":"ChangeWidth"},"parameters":["Object","-","GetArgumentAsNumber(\"speed\")/2"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","+","GetArgumentAsNumber(\"speed\")/4"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()",">=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"Egal"},"parameters":["Object.Height()","<=","GetArgumentAsNumber(\"height\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Land","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Land","=","3"]},{"type":{"value":"ChangeWidth"},"parameters":["Object","=","lerp(Object.Width(),GetArgumentAsNumber(\"width\"),1)"]},{"type":{"value":"ChangeHeight"},"parameters":["Object","=","lerp(Object.Height(),GetArgumentAsNumber(\"height\"),1)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Width()","=","GetArgumentAsNumber(\"width\")"]},{"type":{"value":"Egal"},"parameters":["Object.Height()","=","GetArgumentAsNumber(\"height\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Land","=","3"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Land has finished","=","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Low health animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"StrEqual"},"parameters":["GetArgumentAsString(\"animations\")","=","\"Low health\""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health","=","1"]},{"type":{"value":"ChangeColor"},"parameters":["Object","\"255;255;255\""]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","ToString(Object.Variable(_.Animation system._Low health color)) + \";\" + ToString(Object.Variable(_.Animation system._Low health color RGB)) + \";\" + ToString(Object.Variable(_.Animation system._Low health color RGB))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","1"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB",">=","-254"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB","<=","-254"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","1"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB",">=","-GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health","=","1"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"trigger\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"255;255;255\""]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","ToString(Object.Variable(_.Animation system._Low health color)) + \";\" + ToString(Object.Variable(_.Animation system._Low health color RGB)) + \";\" + ToString(Object.Variable(_.Animation system._Low health color RGB))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","1"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB",">=","-254"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB","-","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB","<=","-254"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","1"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health","=","2"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","1"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB","+","GetArgumentAsNumber(\"speed\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health color RGB",">=","-GetArgumentAsNumber(\"speed\")"]},{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","2"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health color RGB reset","=","100"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health","=","100"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","_.Animation system._Low health","=","100"]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","\"255;255;255\""]},{"type":{"value":"ModVarObjet"},"parameters":["Object","_.Animation system._Low health has finished","=","1"]}]}]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"AnimationSystem::AnimationBehavior","type":"behavior"},{"description":"Animations list","name":"animations","supplementaryInformation":"[\"Pulse\",\"Breath\",\"Smooth rotation\",\"Instant rotation\",\"Wobble\",\"Wobble2\",\"Wobble3\",\"Wobble once\",\"3D rotation\",\"3D rotation X\",\"3D rotation Y\",\"3D door loop\",\"3D open door\",\"3D close door\",\"3D pre-closed door\",\"Float\",\"Triangle transition\",\"Square transition\",\"Rhombus transition\",\"Maze transition\",\"Fade loop\",\"Fade out\",\"Fade in\",\"Squash & Stretch\",\"Rainbow effect\",\"Shake rotation\",\"Shake horizontal\",\"Shake vertical\",\"Line rotation\",\"Land\",\"Low health\"]","type":"stringWithSelector"},{"description":"Animation speed","name":"speed","type":"expression"},{"description":"Object width","name":"width","type":"expression"},{"description":"Object height","longDescription":"Animations information:  \nPulse/Breath: recommended speed, 0.03  \nSmooth rotation: recommended speed, 5  \nWobble/wobble2/wobble3: Do not have trigger once/ recommended speed, 0.1  \nWobble once: Trigger once must be YES/ recommended speed, 0.1  \n3D rotation: recommended speed, 1  \n3D rotationX: recommended speed, 1.2  \n3D rotationY: Origin point must be at center/ recommended speed, 1.2  \n3D door loop: do not have trigger once/ recommended speed, 1.2  \n3D open/close door: Trigger once must be YES/ recommended speed, 1.2  \n3D pre-closed door: Trigger once must be YES/ speed doesn't matter  \nFloat: recommended speed, 0.02  \nTriangle/Square/Rhombus/Maze transition: recommended speed, 3  \nFade loop: do not have trigger once/ recommended speed, 5  \nFade Out/In: Trigger once must be YES/ recommended speed, 5  \nSquash&Stretch: recommended speed, 0.06  \nRainbow effect: The higher the speed the slower effect/ recommended speed, 1  \nShake rotation/Horizontal/Vertical: recommended speed, 4  \nLine rotation: recommended speed, 3  \nLand: Trigger once must be YES/ Best results, set the condition of the player to \"is on floor\" > start animation land / recommended speed, 5  \nLow health: recommended speed, 30","name":"height","type":"expression"},{"description":"Trigger animation once ?","name":"trigger","type":"yesorno"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"Wobble once animation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__WobbleEffect.is_squishy_scale",">","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__WobbleEffect.is_squishy_scale","-","1*TimeDelta()"]}],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Object","__WobbleEffect.scdx","=","lerp(Object.Variable(__WobbleEffect.scdx),((Object.Variable(__WobbleEffect.target_scale)-Object.ScaleX())*0.5),Object.Variable(__WobbleEffect.scale_lerp))"]},{"type":{"value":"ChangeScaleWidth"},"parameters":["Object","+","Object.Variable(__WobbleEffect.scdx)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["Object","=","(Object.Variable(__WobbleEffect.target_scale)*2)-Object.ScaleX()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ScaleWidth"},"parameters":["Object","<","0.5"]}],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["Object","=","0.5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ScaleHeight"},"parameters":["Object","<","0.5"]}],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["Object","=","0.5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Object","__WobbleEffect.is_squishy_scale","<=","0"]}],"actions":[{"type":{"value":"ChangeScale"},"parameters":["Object","=","Object.Variable(__WobbleEffect.target_scale)"]}]}]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"AnimationSystem::AnimationBehavior","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"UlisesFreitas","category":"Advanced","extensionNamespace":"","fullName":"Current game version","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLW51bWVyaWMiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCwxN1Y5SDJWN0g2VjE3SDRNMjIsMTVDMjIsMTYuMTEgMjEuMSwxNyAyMCwxN0gxNlYxNUgyMFYxM0gxOFYxMUgyMFY5SDE2VjdIMjBBMiwyIDAgMCwxIDIyLDlWMTAuNUExLjUsMS41IDAgMCwxIDIwLjUsMTJBMS41LDEuNSAwIDAsMSAyMiwxMy41VjE1TTE0LDE1VjE3SDhWMTNDOCwxMS44OSA4LjksMTEgMTAsMTFIMTJWOUg4VjdIMTJBMiwyIDAgMCwxIDE0LDlWMTFDMTQsMTIuMTEgMTMuMSwxMyAxMiwxM0gxMFYxNUgxNFoiIC8+PC9zdmc+","name":"CurrentGameVersion","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/numeric.svg","shortDescription":"Get the current game version from GDevelop game properties.","version":"1.0.0","description":"Add an string expression that returns the current game version from game properties tab.","origin":{"identifier":"CurrentGameVersion","name":"gdevelop-extension-store"},"tags":["version"],"authorIds":["ZShmW1xkW7WWl9AkB78VITJMiTw1"],"dependencies":[],"eventsFunctions":[{"description":"Return the current game version.","fullName":"Return current game version","functionType":"StringExpression","name":"ReturnCurrentGameVersion","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = runtimeScene.getGame().getGameData().properties.version;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"Ahnaf30e","category":"Advanced","extensionNamespace":"","fullName":"Frames per second (FPS)","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNMzAsM2gtMkg0SDJDMS40LDMsMSwzLjQsMSw0czAuNCwxLDEsMWgxdjE2YzAsMC42LDAuNCwxLDEsMWg5LjhsLTUuNSw2LjNjLTAuNCwwLjQtMC4zLDEsMC4xLDEuNEM4LjUsMjkuOSw4LjgsMzAsOSwzMA0KCWMwLjMsMCwwLjYtMC4xLDAuOC0wLjNsNS4yLTZWMjhjMCwwLjYsMC40LDEsMSwxczEtMC40LDEtMXYtNC4zbDUuMiw2YzAuMiwwLjIsMC41LDAuMywwLjgsMC4zYzAuMiwwLDAuNS0wLjEsMC43LTAuMg0KCWMwLjQtMC40LDAuNS0xLDAuMS0xLjRMMTguMiwyMkgyOGMwLjYsMCwxLTAuNCwxLTFWNWgxYzAuNiwwLDEtMC40LDEtMVMzMC42LDMsMzAsM3ogTTI0LjgsOC42bC00LDZjLTAuMywwLjQtMC44LDAuNi0xLjMsMC4zDQoJTDE1LjgsMTNoLTMuNGwtMy43LDMuN0M4LjUsMTYuOSw4LjMsMTcsOCwxN3MtMC41LTAuMS0wLjctMC4zYy0wLjQtMC40LTAuNC0xLDAtMS40bDQtNGMwLjItMC4yLDAuNC0wLjMsMC43LTAuM2g0DQoJYzAuMiwwLDAuMywwLDAuNCwwLjFsMy4yLDEuNmwzLjUtNS4zYzAuMy0wLjUsMC45LTAuNiwxLjQtMC4zQzI1LDcuNSwyNS4xLDguMSwyNC44LDguNnoiLz4NCjwvc3ZnPg0K","name":"FPS","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Glyphster Pack/Master/SVG/SEO/SEO_board_performance_profit.svg","shortDescription":"Calculate and display the frames per second (FPS) of the game.","version":"1.1.0","description":["Provides an expression to get the current FPS and a text object behavior to display the current FPS.","","Frames Per Second (FPS) describes how many times in the last second your game logic was executed. ","This includes running behaviors and events, and then rendering the new game state into the game window. The higher the FPS, the more fluid and performant your game looks.","","Note: Use the Performance Profiler (inside in the Debugger) for detailed performance information about your game."],"origin":{"identifier":"FPS","name":"gdevelop-extension-store"},"tags":["fps","frames","per","second","performance","speed"],"authorIds":["onPsboRtDkUHNOsx7OPr8R8G1oj2","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SceneVariablePushNumber"},"parameters":["__FPS.FrameTimestamps","Time(\"timestamp\")"]}]}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Keep timestamps for every frame inside the lookback period","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Record how much time has elapsed"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__FPS.TimeElapsed","=","Time(\"timestamp\") - Variable(__FPS.FrameTimestamps[0])"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Remove any data before the last second from the beginning of the array"},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"SceneVariableChildCount"},"parameters":["__FPS.FrameTimestamps",">","0"]},{"type":{"value":"VarScene"},"parameters":["__FPS.FrameTimestamps[0]","<","Time(\"timestamp\") - 1000"]}],"conditions":[],"actions":[{"type":{"value":"SceneVariableRemoveAt"},"parameters":["__FPS.FrameTimestamps","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add the current timestamp to the end of the array"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SceneVariablePushNumber"},"parameters":["__FPS.FrameTimestamps","Time(\"timestamp\")"]}]}],"parameters":[]}],"parameters":[],"objectGroups":[]},{"description":"Frames per second (FPS) during the last second.","fullName":"Frames Per Second (FPS)","functionType":"Expression","name":"FPS","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["VariableChildCount(__FPS.FrameTimestamps) / (Variable(__FPS.TimeElapsed) / 1000)"]}]}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Frames per second (FPS) during the last second. [Deprecated]","fullName":"Frames Per Second (FPS) [Deprecated]","functionType":"Expression","name":"PreciseFPS","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FPS::FPS()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"The accuracy of the FPS","longDescription":"This tells how many numbers after the period should be shown.","name":"accuracy","type":"expression"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Makes a text object display the current FPS.","fullName":"FPS Displayer","name":"FPSDisplayer","objectType":"TextObject::Text","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Generate the raw FPS text"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__FPS.UnformattedFPS","=","ToString(roundTo(FPS::FPS(), Object.Behavior::PropertyDecimalDigits()))"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add trailing zeroes, if needed"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::PropertyDecimalDigits()",">","0"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["StrFind(VariableString(__FPS.UnformattedFPS),\".\")","=","-1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__FPS.UnformattedFPS","+","\".\""]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.Behavior::PropertyDecimalDigits()","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__FPS.UnformattedFPS","+","\"0\""]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Show the formatted FPS text including the prefix"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Object","=","Object.Behavior::Propertyprefix() + VariableString(__FPS.UnformattedFPS)"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TextObject::Text","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"FPS::FPSDisplayer","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"FPS: ","type":"String","label":"The prefix before the FPS count","description":"","group":"","extraInformation":[],"hidden":false,"name":"prefix"},{"value":"0","type":"Number","unit":"Dimensionless","label":"Number of decimal digits to display","description":"","group":"","extraInformation":[],"hidden":false,"name":"DecimalDigits"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"Arthur Pacaud (@arthuro555)","category":"Network","extensionNamespace":"","fullName":"MQTT Client (advanced)","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLW1lc3NhZ2UtZmxhc2giIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjIgNEMyMiAyLjkgMjEuMSAyIDIwIDJINEMyLjkgMiAyIDIuOSAyIDRWMjJMNiAxOEgxNVYxMEgyMlY0TTIyLjUgMTZIMjAuM0wyMiAxMkgxN1YxOEgxOVYyM0wyMi41IDE2WiIgLz48L3N2Zz4=","name":"MQTT","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/message-flash.svg","shortDescription":"An MQTT client for GDevelop: allow connections to a MQTT server and send/receive messages.","version":"1.0.0","description":["This extension wraps [MQTT.js](https://github.com/mqttjs/MQTT.js) to allow connections to a MQTT server and communication via pub/sub. The only transport method is Websockets. Make sure to use a broker that support those!","","# Dataloss","","The dataloss let you chose how to handle data. Due to how the GDevelop event loop is made, only one message per topic can be processed per frame. When dataloss is on, when you get 2 messages from one topic in one frame, only the latest one is remembered. When it is off, the first message is processed and the second is queued for the next frame.","","# QoS (Quality of service)","","Here is how QoS works:",""," - QoS 0 (received at most once): The packet is sent, and that's it. There is no validation about whether it has been received."," - QoS 1 (received at least once): The packet is sent and stored as long as the client has not received a confirmation from the server. MQTT ensures that it will be received, but there can be duplicates."," - QoS 2 (received exactly once): Same as QoS 1 but there is no duplicates.","","About data consumption: QoS 2 will consume more than QoS 1, which will consume more than QoS 0."],"origin":{"identifier":"MQTT","name":"gdevelop-extension-store"},"tags":["mqtt","iot","connection","networking"],"authorIds":["ZgrsWuRTAkXgeuPV9bo0zuEcA2w1"],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/**"," * @typedef MQTTEvent Corresponds to a message coming from a subcribed topic."," * @property {boolean} loss Descibes how to handle multiple packages in one frame."," * @property {string || Array<string>} data The last message received by that event."," */","","/**"," * The mqtt tools"," * @namespace"," */","gdjs.evtTools.mqtt = {","    /** The current connection to the MQTT broker server */","    connection: null,","    /** ","     * The last error that occured ","     * @type {string}","     */","    lastError: \"\",","    /**","     * A list of events triggered.","     * @type {Object.<string, MQTTEvent>}","     */","    events: {},","    empty: Symbol(\"No event\"),","};","","// MQTT.js: https://github.com/mqttjs/MQTT.js","!function (e) { if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = e(); else if (\"function\" == typeof define && define.amd) define([], e); else { (\"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this).mqtt = e() } }(function () { return function () { return function e(t, r, n) { function i(s, a) { if (!r[s]) { if (!t[s]) { var u = \"function\" == typeof require && require; if (!a && u) return u(s, !0); if (o) return o(s, !0); var c = new Error(\"Cannot find module '\" + s + \"'\"); throw c.code = \"MODULE_NOT_FOUND\", c } var l = r[s] = { exports: {} }; t[s][0].call(l.exports, function (e) { return i(t[s][1][e] || e) }, l, l.exports, e, t, r, n) } return r[s].exports } for (var o = \"function\" == typeof require && require, s = 0; s < n.length; s++)i(n[s]); return i } }()({ 1: [function (e, t, r) { (function (r, n) { (function () { \"use strict\"; var i = e(\"events\").EventEmitter, o = e(\"./store\"), s = e(\"mqtt-packet\"), a = e(\"readable-stream\").Writable, u = e(\"inherits\"), c = e(\"reinterval\"), l = e(\"./validations\"), f = e(\"xtend\"), h = e(\"debug\")(\"mqttjs:client\"), p = r ? r.nextTick : function (e) { setTimeout(e, 0) }, d = n.setImmediate || function (e) { p(e) }, g = { keepalive: 60, reschedulePings: !0, protocolId: \"MQTT\", protocolVersion: 4, reconnectPeriod: 1e3, connectTimeout: 3e4, clean: !0, resubscribe: !0 }, b = [\"ECONNREFUSED\", \"EADDRINUSE\", \"ECONNRESET\", \"ENOTFOUND\"], m = { 0: \"\", 1: \"Unacceptable protocol version\", 2: \"Identifier rejected\", 3: \"Server unavailable\", 4: \"Bad username or password\", 5: \"Not authorized\", 16: \"No matching subscribers\", 17: \"No subscription existed\", 128: \"Unspecified error\", 129: \"Malformed Packet\", 130: \"Protocol Error\", 131: \"Implementation specific error\", 132: \"Unsupported Protocol Version\", 133: \"Client Identifier not valid\", 134: \"Bad User Name or Password\", 135: \"Not authorized\", 136: \"Server unavailable\", 137: \"Server busy\", 138: \"Banned\", 139: \"Server shutting down\", 140: \"Bad authentication method\", 141: \"Keep Alive timeout\", 142: \"Session taken over\", 143: \"Topic Filter invalid\", 144: \"Topic Name invalid\", 145: \"Packet identifier in use\", 146: \"Packet Identifier not found\", 147: \"Receive Maximum exceeded\", 148: \"Topic Alias invalid\", 149: \"Packet too large\", 150: \"Message rate too high\", 151: \"Quota exceeded\", 152: \"Administrative action\", 153: \"Payload format invalid\", 154: \"Retain not supported\", 155: \"QoS not supported\", 156: \"Use another server\", 157: \"Server moved\", 158: \"Shared Subscriptions not supported\", 159: \"Connection rate exceeded\", 160: \"Maximum connect time\", 161: \"Subscription Identifiers not supported\", 162: \"Wildcard Subscriptions not supported\" }; function y(e, t, r) { h(\"sendPacket :: packet: %O\", t), h(\"sendPacket :: emitting `packetsend`\"), e.emit(\"packetsend\", t), h(\"sendPacket :: writing to stream\"); var n = s.writeToStream(t, e.stream, e.options); h(\"sendPacket :: writeToStream result %s\", n), !n && r ? (h(\"sendPacket :: handle events on `drain` once through callback.\"), e.stream.once(\"drain\", r)) : r && (h(\"sendPacket :: invoking cb\"), r()) } function _(e, t, r, n) { h(\"storeAndSend :: store packet with cmd %s to outgoingStore\", t.cmd), e.outgoingStore.put(t, function (i) { if (i) return r && r(i); n(), y(e, t, r) }) } function w(e) { h(\"nop ::\", e) } function v(e, t) { var r, n = this; if (!(this instanceof v)) return new v(e, t); for (r in this.options = t || {}, g) void 0 === this.options[r] ? this.options[r] = g[r] : this.options[r] = t[r]; h(\"MqttClient :: options.protocol\", t.protocol), h(\"MqttClient :: options.protocolVersion\", t.protocolVersion), h(\"MqttClient :: options.username\", t.username), h(\"MqttClient :: options.keepalive\", t.keepalive), h(\"MqttClient :: options.reconnectPeriod\", t.reconnectPeriod), h(\"MqttClient :: options.rejectUnauthorized\", t.rejectUnauthorized), this.options.clientId = \"string\" == typeof t.clientId ? t.clientId : \"mqttjs_\" + Math.random().toString(16).substr(2, 8), h(\"MqttClient :: clientId\", this.options.clientId), this.options.customHandleAcks = 5 === t.protocolVersion && t.customHandleAcks ? t.customHandleAcks : function () { arguments[3](0) }, this.streamBuilder = e, this.outgoingStore = t.outgoingStore || new o, this.incomingStore = t.incomingStore || new o, this.queueQoSZero = void 0 === t.queueQoSZero || t.queueQoSZero, this._resubscribeTopics = {}, this.messageIdToTopic = {}, this.pingTimer = null, this.connected = !1, this.disconnecting = !1, this.queue = [], this.connackTimer = null, this.reconnectTimer = null, this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {}, this.nextId = Math.max(1, Math.floor(65535 * Math.random())), this.outgoing = {}, this._firstConnection = !0, this.on(\"connect\", function () { var e = this.queue; h(\"connect :: sending queued packets\"), function t() { var r = e.shift(); h(\"deliver :: entry %o\", r); var i; r && (i = r.packet, h(\"deliver :: call _sendPacket for %o\", i), n._sendPacket(i, function (e) { r.cb && r.cb(e), t() })) }() }), this.on(\"close\", function () { h(\"close :: connected set to `false`\"), this.connected = !1, h(\"close :: clearing connackTimer\"), clearTimeout(this.connackTimer), h(\"close :: clearing ping timer\"), null !== n.pingTimer && (n.pingTimer.clear(), n.pingTimer = null), h(\"close :: calling _setupReconnect\"), this._setupReconnect() }), i.call(this), h(\"MqttClient :: setting up stream\"), this._setupStream() } u(v, i), v.prototype._setupStream = function () { var e, t = this, r = new a, n = s.parser(this.options), i = null, o = []; function u() { if (o.length) p(c); else { var e = i; i = null, e() } } function c() { h(\"work :: getting next packet in queue\"); var e = o.shift(); if (e) h(\"work :: packet pulled from queue\"), t._handlePacket(e, u); else { h(\"work :: no packets in queue\"); var r = i; i = null, h(\"work :: done flag is %s\", !!r), r && r() } } if (h(\"_setupStream :: calling method to clear reconnect\"), this._clearReconnect(), h(\"_setupStream :: using streamBuilder provided to client to create stream\"), this.stream = this.streamBuilder(this), n.on(\"packet\", function (e) { h(\"parser :: on packet push to packets array.\"), o.push(e) }), r._write = function (e, t, r) { i = r, h(\"writable stream :: parsing buffer\"), n.parse(e), c() }, h(\"_setupStream :: pipe stream to writable stream\"), this.stream.pipe(r), this.stream.on(\"error\", function (e) { h(\"streamErrorHandler :: error\", e.message), b.includes(e.code) ? (h(\"streamErrorHandler :: emitting error\"), t.emit(\"error\", e)) : w(e) }), this.stream.on(\"close\", function () { var e; h(\"(%s)stream :: on close\", t.options.clientId), (e = t.outgoing) && (h(\"flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function\"), Object.keys(e).forEach(function (t) { e[t].volatile && \"function\" == typeof e[t].cb && (e[t].cb(new Error(\"Connection closed\")), delete e[t]) })), h(\"stream: emit close to MqttClient\"), t.emit(\"close\") }), h(\"_setupStream: sending packet `connect`\"), (e = Object.create(this.options)).cmd = \"connect\", y(this, e), n.on(\"error\", this.emit.bind(this, \"error\")), this.options.properties) { if (!this.options.properties.authenticationMethod && this.options.properties.authenticationData) return t.end(() => this.emit(\"error\", new Error(\"Packet has no Authentication Method\"))), this; if (this.options.properties.authenticationMethod && this.options.authPacket && \"object\" == typeof this.options.authPacket) y(this, f({ cmd: \"auth\", reasonCode: 0 }, this.options.authPacket)) } this.stream.setMaxListeners(1e3), clearTimeout(this.connackTimer), this.connackTimer = setTimeout(function () { h(\"!!connectTimeout hit!! Calling _cleanUp with force `true`\"), t._cleanUp(!0) }, this.options.connectTimeout) }, v.prototype._handlePacket = function (e, t) { var r = this.options; if (5 === r.protocolVersion && r.properties && r.properties.maximumPacketSize && r.properties.maximumPacketSize < e.length) return this.emit(\"error\", new Error(\"exceeding packets size \" + e.cmd)), this.end({ reasonCode: 149, properties: { reasonString: \"Maximum packet size was exceeded\" } }), this; switch (h(\"_handlePacket :: emitting packetreceive\"), this.emit(\"packetreceive\", e), e.cmd) { case \"publish\": this._handlePublish(e, t); break; case \"puback\": case \"pubrec\": case \"pubcomp\": case \"suback\": case \"unsuback\": this._handleAck(e), t(); break; case \"pubrel\": this._handlePubrel(e, t); break; case \"connack\": this._handleConnack(e), t(); break; case \"pingresp\": this._handlePingresp(e), t(); break; case \"disconnect\": this._handleDisconnect(e), t() } }, v.prototype._checkDisconnecting = function (e) { return this.disconnecting && (e ? e(new Error(\"client disconnecting\")) : this.emit(\"error\", new Error(\"client disconnecting\"))), this.disconnecting }, v.prototype.publish = function (e, t, r, n) { var i; h(\"publish :: message `%s` to topic `%s`\", t, e); var o = this.options; \"function\" == typeof r && (n = r, r = null); if (r = f({ qos: 0, retain: !1, dup: !1 }, r), this._checkDisconnecting(n)) return this; switch (i = { cmd: \"publish\", topic: e, payload: t, qos: r.qos, retain: r.retain, messageId: this._nextId(), dup: r.dup }, 5 === o.protocolVersion && (i.properties = r.properties, (!o.properties && i.properties && i.properties.topicAlias || r.properties && o.properties && (r.properties.topicAlias && o.properties.topicAliasMaximum && r.properties.topicAlias > o.properties.topicAliasMaximum || !o.properties.topicAliasMaximum && r.properties.topicAlias)) && delete i.properties.topicAlias), h(\"publish :: qos\", r.qos), r.qos) { case 1: case 2: this.outgoing[i.messageId] = { volatile: !1, cb: n || w }, this._storeProcessing ? (h(\"_storeProcessing enabled\"), this._packetIdsDuringStoreProcessing[i.messageId] = !1, this._storePacket(i, void 0, r.cbStorePut)) : (h(\"MqttClient:publish: packet cmd: %s\", i.cmd), this._sendPacket(i, void 0, r.cbStorePut)); break; default: this._storeProcessing ? (h(\"_storeProcessing enabled\"), this._storePacket(i, n, r.cbStorePut)) : (h(\"MqttClient:publish: packet cmd: %s\", i.cmd), this._sendPacket(i, n, r.cbStorePut)) }return this }, v.prototype.subscribe = function () { for (var e, t = new Array(arguments.length), r = 0; r < arguments.length; r++)t[r] = arguments[r]; var n, i = [], o = t.shift(), s = o.resubscribe, a = t.pop() || w, u = t.pop(), c = this, p = this.options.protocolVersion; if (delete o.resubscribe, \"string\" == typeof o && (o = [o]), \"function\" != typeof a && (u = a, a = w), null !== (n = l.validateTopics(o))) return d(a, new Error(\"Invalid topic \" + n)), this; if (this._checkDisconnecting(a)) return h(\"subscribe: discconecting true\"), this; var g = { qos: 0 }; if (5 === p && (g.nl = !1, g.rap = !1, g.rh = 0), u = f(g, u), Array.isArray(o) ? o.forEach(function (e) { if (h(\"subscribe: array topic %s\", e), !c._resubscribeTopics.hasOwnProperty(e) || c._resubscribeTopics[e].qos < u.qos || s) { var t = { topic: e, qos: u.qos }; 5 === p && (t.nl = u.nl, t.rap = u.rap, t.rh = u.rh, t.properties = u.properties), h(\"subscribe: pushing topic `%s` and qos `%s` to subs list\", t.topic, t.qos), i.push(t) } }) : Object.keys(o).forEach(function (e) { if (h(\"subscribe: object topic %s\", e), !c._resubscribeTopics.hasOwnProperty(e) || c._resubscribeTopics[e].qos < o[e].qos || s) { var t = { topic: e, qos: o[e].qos }; 5 === p && (t.nl = o[e].nl, t.rap = o[e].rap, t.rh = o[e].rh, t.properties = u.properties), h(\"subscribe: pushing `%s` to subs list\", t), i.push(t) } }), e = { cmd: \"subscribe\", subscriptions: i, qos: 1, retain: !1, dup: !1, messageId: this._nextId() }, u.properties && (e.properties = u.properties), i.length) { if (this.options.resubscribe) { h(\"subscribe :: resubscribe true\"); var b = []; i.forEach(function (e) { if (c.options.reconnectPeriod > 0) { var t = { qos: e.qos }; 5 === p && (t.nl = e.nl || !1, t.rap = e.rap || !1, t.rh = e.rh || 0, t.properties = e.properties), c._resubscribeTopics[e.topic] = t, b.push(e.topic) } }), c.messageIdToTopic[e.messageId] = b } return this.outgoing[e.messageId] = { volatile: !0, cb: function (e, t) { if (!e) for (var r = t.granted, n = 0; n < r.length; n += 1)i[n].qos = r[n]; a(e, i) } }, h(\"subscribe :: call _sendPacket\"), this._sendPacket(e), this } a(null, []) }, v.prototype.unsubscribe = function () { for (var e = { cmd: \"unsubscribe\", qos: 1, messageId: this._nextId() }, t = this, r = new Array(arguments.length), n = 0; n < arguments.length; n++)r[n] = arguments[n]; var i = r.shift(), o = r.pop() || w, s = r.pop(); return \"string\" == typeof i && (i = [i]), \"function\" != typeof o && (s = o, o = w), this._checkDisconnecting(o) ? this : (\"string\" == typeof i ? e.unsubscriptions = [i] : Array.isArray(i) && (e.unsubscriptions = i), this.options.resubscribe && e.unsubscriptions.forEach(function (e) { delete t._resubscribeTopics[e] }), \"object\" == typeof s && s.properties && (e.properties = s.properties), this.outgoing[e.messageId] = { volatile: !0, cb: o }, h(\"unsubscribe: call _sendPacket\"), this._sendPacket(e), this) }, v.prototype.end = function (e, t, r) { var n = this; function i() { h(\"end :: (%s) :: finish :: calling _cleanUp with force %s\", n.options.clientId, e), n._cleanUp(e, () => { h(\"end :: finish :: calling process.nextTick on closeStores\"), p(function () { h(\"end :: closeStores: closing incoming and outgoing stores\"), n.disconnected = !0, n.incomingStore.close(function (e) { n.outgoingStore.close(function (t) { if (h(\"end :: closeStores: emitting end\"), n.emit(\"end\"), r) { let n = e || t; h(\"end :: closeStores: invoking callback with args\"), r(n) } }) }), n._deferredReconnect && n._deferredReconnect() }.bind(n)) }, t) } return h(\"end :: (%s)\", this.options.clientId), null != e && \"boolean\" == typeof e || (r = t || w, t = e, e = !1, \"object\" != typeof t && (r = t, t = null, \"function\" != typeof r && (r = w))), \"object\" != typeof t && (r = t, t = null), h(\"end :: cb? %s\", !!r), r = r || w, this.disconnecting ? (r(), this) : (this._clearReconnect(), this.disconnecting = !0, !e && Object.keys(this.outgoing).length > 0 ? (h(\"end :: (%s) :: calling finish in 10ms once outgoing is empty\", n.options.clientId), this.once(\"outgoingEmpty\", setTimeout.bind(null, i, 10))) : (h(\"end :: (%s) :: immediately calling finish\", n.options.clientId), i()), this) }, v.prototype.removeOutgoingMessage = function (e) { var t = this.outgoing[e] ? this.outgoing[e].cb : null; return delete this.outgoing[e], this.outgoingStore.del({ messageId: e }, function () { t(new Error(\"Message removed\")) }), this }, v.prototype.reconnect = function (e) { h(\"client reconnect\"); var t = this, r = function () { e ? (t.options.incomingStore = e.incomingStore, t.options.outgoingStore = e.outgoingStore) : (t.options.incomingStore = null, t.options.outgoingStore = null), t.incomingStore = t.options.incomingStore || new o, t.outgoingStore = t.options.outgoingStore || new o, t.disconnecting = !1, t.disconnected = !1, t._deferredReconnect = null, t._reconnect() }; return this.disconnecting && !this.disconnected ? this._deferredReconnect = r : r(), this }, v.prototype._reconnect = function () { h(\"_reconnect: emitting reconnect to client\"), this.emit(\"reconnect\"), this.connected ? (this.end(() => { this._setupStream() }), h(\"client already connected. disconnecting first.\")) : (h(\"_reconnect: calling _setupStream\"), this._setupStream()) }, v.prototype._setupReconnect = function () { var e = this; !e.disconnecting && !e.reconnectTimer && e.options.reconnectPeriod > 0 ? (this.reconnecting || (h(\"_setupReconnect :: emit `offline` state\"), this.emit(\"offline\"), h(\"_setupReconnect :: set `reconnecting` to `true`\"), this.reconnecting = !0), h(\"_setupReconnect :: setting reconnectTimer for %d ms\", e.options.reconnectPeriod), e.reconnectTimer = setInterval(function () { h(\"reconnectTimer :: reconnect triggered!\"), e._reconnect() }, e.options.reconnectPeriod)) : h(\"_setupReconnect :: doing nothing...\") }, v.prototype._clearReconnect = function () { h(\"_clearReconnect : clearing reconnect timer\"), this.reconnectTimer && (clearInterval(this.reconnectTimer), this.reconnectTimer = null) }, v.prototype._cleanUp = function (e, t) { var r, n = arguments[2]; if (t && (h(\"_cleanUp :: done callback provided for on stream close\"), this.stream.on(\"close\", t)), h(\"_cleanUp :: forced? %s\", e), e) 0 === this.options.reconnectPeriod && this.options.clean && (r = this.outgoing) && (h(\"flush: queue exists? %b\", !!r), Object.keys(r).forEach(function (e) { \"function\" == typeof r[e].cb && (r[e].cb(new Error(\"Connection closed\")), delete r[e]) })), h(\"_cleanUp :: (%s) :: destroying stream\", this.options.clientId), this.stream.destroy(); else { var i = f({ cmd: \"disconnect\" }, n); h(\"_cleanUp :: (%s) :: call _sendPacket with disconnect packet\", this.options.clientId), this._sendPacket(i, d.bind(null, this.stream.end.bind(this.stream))) } this.disconnecting || (h(\"_cleanUp :: client not disconnecting. Clearing and resetting reconnect.\"), this._clearReconnect(), this._setupReconnect()), null !== this.pingTimer && (h(\"_cleanUp :: clearing pingTimer\"), this.pingTimer.clear(), this.pingTimer = null), t && !this.connected && (h(\"_cleanUp :: (%s) :: removing stream `done` callback `close` listener\", this.options.clientId), this.stream.removeListener(\"close\", t), t()) }, v.prototype._sendPacket = function (e, t, r) { if (h(\"_sendPacket :: (%s) ::  start\", this.options.clientId), r = r || w, !this.connected) return h(\"_sendPacket :: client not connected. Storing packet offline.\"), void this._storePacket(e, t, r); switch (this._shiftPingInterval(), e.cmd) { case \"publish\": break; case \"pubrel\": return void _(this, e, t, r); default: return void y(this, e, t) }switch (e.qos) { case 2: case 1: _(this, e, t, r); break; case 0: default: y(this, e, t) }h(\"_sendPacket :: (%s) ::  end\", this.options.clientId) }, v.prototype._storePacket = function (e, t, r) { h(\"_storePacket :: packet: %o\", e), h(\"_storePacket :: cb? %s\", !!t), r = r || w, 0 === (e.qos || 0) && this.queueQoSZero || \"publish\" !== e.cmd ? this.queue.push({ packet: e, cb: t }) : e.qos > 0 ? (t = this.outgoing[e.messageId] ? this.outgoing[e.messageId].cb : null, this.outgoingStore.put(e, function (e) { if (e) return t && t(e); r() })) : t && t(new Error(\"No connection to broker\")) }, v.prototype._setupPingTimer = function () { h(\"_setupPingTimer :: keepalive %d (seconds)\", this.options.keepalive); var e = this; !this.pingTimer && this.options.keepalive && (this.pingResp = !0, this.pingTimer = c(function () { e._checkPing() }, 1e3 * this.options.keepalive)) }, v.prototype._shiftPingInterval = function () { this.pingTimer && this.options.keepalive && this.options.reschedulePings && this.pingTimer.reschedule(1e3 * this.options.keepalive) }, v.prototype._checkPing = function () { h(\"_checkPing :: checking ping...\"), this.pingResp ? (h(\"_checkPing :: ping response received. Clearing flag and sending `pingreq`\"), this.pingResp = !1, this._sendPacket({ cmd: \"pingreq\" })) : (h(\"_checkPing :: calling _cleanUp with force true\"), this._cleanUp(!0)) }, v.prototype._handlePingresp = function () { this.pingResp = !0 }, v.prototype._handleConnack = function (e) { h(\"_handleConnack\"); var t = this.options, r = 5 === t.protocolVersion ? e.reasonCode : e.returnCode; if (clearTimeout(this.connackTimer), e.properties && (e.properties.topicAliasMaximum && (t.properties || (t.properties = {}), t.properties.topicAliasMaximum = e.properties.topicAliasMaximum), e.properties.serverKeepAlive && t.keepalive && (t.keepalive = e.properties.serverKeepAlive, this._shiftPingInterval()), e.properties.maximumPacketSize && (t.properties || (t.properties = {}), t.properties.maximumPacketSize = e.properties.maximumPacketSize)), 0 === r) this.reconnecting = !1, this._onConnect(e); else if (r > 0) { var n = new Error(\"Connection refused: \" + m[r]); n.code = r, this.emit(\"error\", n) } }, v.prototype._handlePublish = function (e, t) { h(\"_handlePublish: packet %o\", e), t = void 0 !== t ? t : w; var r = e.topic.toString(), n = e.payload, i = e.qos, o = e.messageId, s = this, a = this.options, u = [0, 16, 128, 131, 135, 144, 145, 151, 153]; switch (h(\"_handlePublish: qos %d\", i), i) { case 2: a.customHandleAcks(r, n, e, function (r, n) { return r instanceof Error || (n = r, r = null), r ? s.emit(\"error\", r) : -1 === u.indexOf(n) ? s.emit(\"error\", new Error(\"Wrong reason code for pubrec\")) : void (n ? s._sendPacket({ cmd: \"pubrec\", messageId: o, reasonCode: n }, t) : s.incomingStore.put(e, function () { s._sendPacket({ cmd: \"pubrec\", messageId: o }, t) })) }); break; case 1: a.customHandleAcks(r, n, e, function (i, a) { return i instanceof Error || (a = i, i = null), i ? s.emit(\"error\", i) : -1 === u.indexOf(a) ? s.emit(\"error\", new Error(\"Wrong reason code for puback\")) : (a || s.emit(\"message\", r, n, e), void s.handleMessage(e, function (e) { if (e) return t && t(e); s._sendPacket({ cmd: \"puback\", messageId: o, reasonCode: a }, t) })) }); break; case 0: this.emit(\"message\", r, n, e), this.handleMessage(e, t); break; default: h(\"_handlePublish: unknown QoS. Doing nothing.\") } }, v.prototype.handleMessage = function (e, t) { t() }, v.prototype._handleAck = function (e) { var t, r = e.messageId, n = e.cmd, i = null, o = this.outgoing[r] ? this.outgoing[r].cb : null, s = this; if (o) { switch (h(\"_handleAck :: packet type\", n), n) { case \"pubcomp\": case \"puback\": var a = e.reasonCode; a && a > 0 && 16 !== a && ((t = new Error(\"Publish error: \" + m[a])).code = a, o(t, e)), delete this.outgoing[r], this.outgoingStore.del(e, o); break; case \"pubrec\": i = { cmd: \"pubrel\", qos: 2, messageId: r }; var u = e.reasonCode; u && u > 0 && 16 !== u ? ((t = new Error(\"Publish error: \" + m[u])).code = u, o(t, e)) : this._sendPacket(i); break; case \"suback\": delete this.outgoing[r]; for (var c = 0; c < e.granted.length; c++)if (0 != (128 & e.granted[c])) { var l = this.messageIdToTopic[r]; l && l.forEach(function (e) { delete s._resubscribeTopics[e] }) } o(null, e); break; case \"unsuback\": delete this.outgoing[r], o(null); break; default: s.emit(\"error\", new Error(\"unrecognized packet type\")) }this.disconnecting && 0 === Object.keys(this.outgoing).length && this.emit(\"outgoingEmpty\") } else h(\"_handleAck :: Server sent an ack in error. Ignoring.\") }, v.prototype._handlePubrel = function (e, t) { h(\"handling pubrel packet\"), t = void 0 !== t ? t : w; var r = this, n = { cmd: \"pubcomp\", messageId: e.messageId }; r.incomingStore.get(e, function (e, i) { e ? r._sendPacket(n, t) : (r.emit(\"message\", i.topic, i.payload, i), r.handleMessage(i, function (e) { if (e) return t(e); r.incomingStore.del(i, w), r._sendPacket(n, t) })) }) }, v.prototype._handleDisconnect = function (e) { this.emit(\"disconnect\", e) }, v.prototype._nextId = function () { var e = this.nextId++; return 65536 === this.nextId && (this.nextId = 1), e }, v.prototype.getLastMessageId = function () { return 1 === this.nextId ? 65535 : this.nextId - 1 }, v.prototype._resubscribe = function (e) { h(\"_resubscribe\"); var t = Object.keys(this._resubscribeTopics); if (!this._firstConnection && (this.options.clean || 5 === this.options.protocolVersion && !e.sessionPresent) && t.length > 0) if (this.options.resubscribe) if (5 === this.options.protocolVersion) { h(\"_resubscribe: protocolVersion 5\"); for (var r = 0; r < t.length; r++) { var n = {}; n[t[r]] = this._resubscribeTopics[t[r]], n.resubscribe = !0, this.subscribe(n, { properties: n[t[r]].properties }) } } else this._resubscribeTopics.resubscribe = !0, this.subscribe(this._resubscribeTopics); else this._resubscribeTopics = {}; this._firstConnection = !1 }, v.prototype._onConnect = function (e) { if (this.disconnected) this.emit(\"connect\", e); else { var t = this; this._setupPingTimer(), this._resubscribe(e), this.connected = !0, function r() { var n = t.outgoingStore.createStream(); function i() { t._storeProcessing = !1, t._packetIdsDuringStoreProcessing = {} } function o() { n.destroy(), n = null, i() } t.once(\"close\", o), n.on(\"error\", function (e) { i(), t.removeListener(\"close\", o), t.emit(\"error\", e) }), n.on(\"end\", function () { var n = !0; for (var s in t._packetIdsDuringStoreProcessing) if (!t._packetIdsDuringStoreProcessing[s]) { n = !1; break } n ? (i(), t.removeListener(\"close\", o), t.emit(\"connect\", e)) : r() }), function e() { if (n) { t._storeProcessing = !0; var r, i = n.read(1); i ? t._packetIdsDuringStoreProcessing[i.messageId] ? e() : t.disconnecting || t.reconnectTimer ? n.destroy && n.destroy() : (r = t.outgoing[i.messageId] ? t.outgoing[i.messageId].cb : null, t.outgoing[i.messageId] = { volatile: !1, cb: function (t, n) { r && r(t, n), e() } }, t._packetIdsDuringStoreProcessing[i.messageId] = !0, t._sendPacket(i)) : n.once(\"readable\", e) } }() }() } }, t.exports = v }).call(this) }).call(this, e(\"_process\"), \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {}) }, { \"./store\": 7, \"./validations\": 8, _process: 46, debug: 16, events: 31, inherits: 33, \"mqtt-packet\": 38, \"readable-stream\": 65, reinterval: 66, xtend: 76 }], 2: [function (e, t, r) { (function (r) { (function () { \"use strict\"; var n, i, o, s = e(\"readable-stream\").Transform, a = e(\"duplexify\"), u = !1; t.exports = function (e, t) { if (t.hostname = t.hostname || t.host, !t.hostname) throw new Error(\"Could not determine host. Specify host manually.\"); var c = \"MQIsdp\" === t.protocolId && 3 === t.protocolVersion ? \"mqttv3.1\" : \"mqtt\"; !function (e) { e.hostname || (e.hostname = \"localhost\"), e.path || (e.path = \"/\"), e.wsOptions || (e.wsOptions = {}) }(t); var l = function (e, t) { var r = \"alis\" === e.protocol ? \"wss\" : \"ws\", n = r + \"://\" + e.hostname + e.path; return e.port && 80 !== e.port && 443 !== e.port && (n = r + \"://\" + e.hostname + \":\" + e.port + e.path), \"function\" == typeof e.transformWsUrl && (n = e.transformWsUrl(n, e, t)), n }(t, e); return (n = t.my).connectSocket({ url: l, protocols: c }), i = function () { var e = new s; return e._write = function (e, t, r) { n.sendSocketMessage({ data: e.buffer, success: function () { r() }, fail: function () { r(new Error) } }) }, e._flush = function (e) { n.closeSocket({ success: function () { e() } }) }, e }(), o = a.obj(), u || (u = !0, n.onSocketOpen(function () { o.setReadable(i), o.setWritable(i), o.emit(\"connect\") }), n.onSocketMessage(function (e) { if (\"string\" == typeof e.data) { var t = r.from(e.data, \"base64\"); i.push(t) } else { var n = new FileReader; n.addEventListener(\"load\", function () { var e = n.result; e = e instanceof ArrayBuffer ? r.from(e) : r.from(e, \"utf8\"), i.push(e) }), n.readAsArrayBuffer(e.data) } }), n.onSocketClose(function () { o.end(), o.destroy() }), n.onSocketError(function (e) { o.destroy(e) })), o } }).call(this) }).call(this, e(\"buffer\").Buffer) }, { buffer: 14, duplexify: 18, \"readable-stream\": 65 }], 3: [function (e, t, r) { \"use strict\"; var n = e(\"net\"), i = e(\"debug\")(\"mqttjs:tcp\"); t.exports = function (e, t) { var r, o; return t.port = t.port || 1883, t.hostname = t.hostname || t.host || \"localhost\", r = t.port, o = t.hostname, i(\"port %d and host %s\", r, o), n.createConnection(r, o) } }, { debug: 16, net: 13 }], 4: [function (e, t, r) { \"use strict\"; var n = e(\"tls\"), i = e(\"debug\")(\"mqttjs:tls\"); t.exports = function (e, t) { var r; function o(n) { t.rejectUnauthorized && e.emit(\"error\", n), r.end() } return t.port = t.port || 8883, t.host = t.hostname || t.host || \"localhost\", t.servername = t.host, t.rejectUnauthorized = !1 !== t.rejectUnauthorized, delete t.path, i(\"port %d host %s rejectUnauthorized %b\", t.port, t.host, t.rejectUnauthorized), (r = n.connect(t)).on(\"secureConnect\", function () { t.rejectUnauthorized && !r.authorized ? r.emit(\"error\", new Error(\"TLS not authorized\")) : r.removeListener(\"error\", o) }), r.on(\"error\", o), r } }, { debug: 16, tls: 13 }], 5: [function (e, t, r) { (function (r, n) { (function () { \"use strict\"; const i = e(\"ws\"), o = e(\"debug\")(\"mqttjs:ws\"), s = e(\"duplexify\"), a = e(\"readable-stream\").Transform; let u = [\"rejectUnauthorized\", \"ca\", \"cert\", \"key\", \"pfx\", \"passphrase\"]; const c = void 0 !== r && \"browser\" === r.title || \"function\" == typeof __webpack_require__; function l(e, t) { let r = e.protocol + \"://\" + e.hostname + \":\" + e.port + e.path; return \"function\" == typeof e.transformWsUrl && (r = e.transformWsUrl(r, e, t)), r } function f(e) { let t = e; return e.hostname || (t.hostname = \"localhost\"), e.port || (\"wss\" === e.protocol ? t.port = 443 : t.port = 80), e.path || (t.path = \"/\"), e.wsOptions || (t.wsOptions = {}), c || \"wss\" !== e.protocol || u.forEach(function (r) { e.hasOwnProperty(r) && !e.wsOptions.hasOwnProperty(r) && (t.wsOptions[r] = e[r]) }), t } t.exports = c ? function (e, t) { let r; o(\"browserStreamBuilder\"); const i = function (e) { let t = f(e); if (t.hostname || (t.hostname = t.host), !t.hostname) { if (\"undefined\" == typeof document) throw new Error(\"Could not determine host. Specify host manually.\"); const e = new URL(document.URL); t.hostname = e.hostname, t.port || (t.port = e.port) } return void 0 === t.objectMode && (t.objectMode = !(!0 === t.binary || void 0 === t.binary)), t }(t).browserBufferSize || 524288, u = t.browserBufferTimeout || 1e3, c = !t.objectMode; let h = function (e, t) { const r = \"MQIsdp\" === t.protocolId && 3 === t.protocolVersion ? \"mqttv3.1\" : \"mqtt\"; let n = l(t, e), i = new WebSocket(n, [r]); return i.binaryType = \"arraybuffer\", i }(e, t), p = function (e, t, r) { let n = new a({ objectModeMode: e.objectMode }); return n._write = t, n._flush = r, n }(t, function e(t, r, o) { h.bufferedAmount > i && setTimeout(e, u, t, r, o), c && \"string\" == typeof t && (t = n.from(t, \"utf8\")); try { h.send(t) } catch (e) { return o(e) } o() }, function (e) { h.close(), e() }); t.objectMode || (p._writev = _), p.on(\"close\", () => { h.close() }); const d = void 0 === h.addEventListener; function g() { r.setReadable(p), r.setWritable(p), r.emit(\"connect\") } function b() { r.end(), r.destroy() } function m(e) { r.destroy(e) } function y(e) { let t = e.data; t = t instanceof ArrayBuffer ? n.from(t) : n.from(t, \"utf8\"), p.push(t) } function _(e, t) { const r = new Array(e.length); for (let t = 0; t < e.length; t++)\"string\" == typeof e[t].chunk ? r[t] = n.from(e[t], \"utf8\") : r[t] = e[t].chunk; this._write(n.concat(r), \"binary\", t) } return h.readyState === h.OPEN ? r = p : (r = r = s(void 0, void 0, t), t.objectMode || (r._writev = _), d ? h.addEventListener(\"open\", g) : h.onopen = g), r.socket = h, d ? (h.addEventListener(\"close\", b), h.addEventListener(\"error\", m), h.addEventListener(\"message\", y)) : (h.onclose = b, h.onerror = m, h.onmessage = y), r } : function (e, t) { o(\"streamBuilder\"); let r = f(t); const n = l(r, e); let s = function (e, t, r) { o(\"createWebSocket\"), o(\"protocol: \" + r.protocolId + \" \" + r.protocolVersion); const n = \"MQIsdp\" === r.protocolId && 3 === r.protocolVersion ? \"mqttv3.1\" : \"mqtt\"; return o(\"creating new Websocket for url: \" + t + \" and protocol: \" + n), new i(t, [n], r.wsOptions) }(0, n, r), a = i.createWebSocketStream(s, r.wsOptions); return a.url = n, a } }).call(this) }).call(this, e(\"_process\"), e(\"buffer\").Buffer) }, { _process: 46, buffer: 14, debug: 16, duplexify: 18, \"readable-stream\": 65, ws: 75 }], 6: [function (e, t, r) { (function (r) { (function () { \"use strict\"; var n, i, o, s = e(\"readable-stream\").Transform, a = e(\"duplexify\"); t.exports = function (e, t) { if (t.hostname = t.hostname || t.host, !t.hostname) throw new Error(\"Could not determine host. Specify host manually.\"); var u = \"MQIsdp\" === t.protocolId && 3 === t.protocolVersion ? \"mqttv3.1\" : \"mqtt\"; !function (e) { e.hostname || (e.hostname = \"localhost\"), e.path || (e.path = \"/\"), e.wsOptions || (e.wsOptions = {}) }(t); var c = function (e, t) { var r = \"wxs\" === e.protocol ? \"wss\" : \"ws\", n = r + \"://\" + e.hostname + e.path; return e.port && 80 !== e.port && 443 !== e.port && (n = r + \"://\" + e.hostname + \":\" + e.port + e.path), \"function\" == typeof e.transformWsUrl && (n = e.transformWsUrl(n, e, t)), n }(t, e); n = wx.connectSocket({ url: c, protocols: [u] }), i = function () { var e = new s; return e._write = function (e, t, r) { n.send({ data: e.buffer, success: function () { r() }, fail: function (e) { r(new Error(e)) } }) }, e._flush = function (e) { n.close({ success: function () { e() } }) }, e }(), (o = a.obj())._destroy = function (e, t) { n.close({ success: function () { t && t(e) } }) }; var l = o.destroy; return o.destroy = function () { o.destroy = l; var e = this; setTimeout(function () { n.close({ fail: function () { e._destroy(new Error) } }) }, 0) }.bind(o), n.onOpen(function () { o.setReadable(i), o.setWritable(i), o.emit(\"connect\") }), n.onMessage(function (e) { var t = e.data; t = t instanceof ArrayBuffer ? r.from(t) : r.from(t, \"utf8\"), i.push(t) }), n.onClose(function () { o.end(), o.destroy() }), n.onError(function (e) { o.destroy(new Error(e.errMsg)) }), o } }).call(this) }).call(this, e(\"buffer\").Buffer) }, { buffer: 14, duplexify: 18, \"readable-stream\": 65 }], 7: [function (e, t, r) { \"use strict\"; var n = e(\"xtend\"), i = e(\"readable-stream\").Readable, o = { objectMode: !0 }, s = { clean: !0 }; function a(e) { if (!(this instanceof a)) return new a(e); this.options = e || {}, this.options = n(s, e), this._inflights = new Map } a.prototype.put = function (e, t) { return this._inflights.set(e.messageId, e), t && t(), this }, a.prototype.createStream = function () { var e = new i(o), t = !1, r = [], n = 0; return this._inflights.forEach(function (e, t) { r.push(e) }), e._read = function () { !t && n < r.length ? this.push(r[n++]) : this.push(null) }, e.destroy = function () { if (!t) { var e = this; t = !0, setTimeout(function () { e.emit(\"close\") }, 0) } }, e }, a.prototype.del = function (e, t) { return (e = this._inflights.get(e.messageId)) ? (this._inflights.delete(e.messageId), t(null, e)) : t && t(new Error(\"missing packet\")), this }, a.prototype.get = function (e, t) { return (e = this._inflights.get(e.messageId)) ? t(null, e) : t && t(new Error(\"missing packet\")), this }, a.prototype.close = function (e) { this.options.clean && (this._inflights = null), e && e() }, t.exports = a }, { \"readable-stream\": 65, xtend: 76 }], 8: [function (e, t, r) { \"use strict\"; function n(e) { for (var t = e.split(\"/\"), r = 0; r < t.length; r++)if (\"+\" !== t[r]) { if (\"#\" === t[r]) return r === t.length - 1; if (-1 !== t[r].indexOf(\"+\") || -1 !== t[r].indexOf(\"#\")) return !1 } return !0 } t.exports = { validateTopics: function (e) { if (0 === e.length) return \"empty_topic_list\"; for (var t = 0; t < e.length; t++)if (!n(e[t])) return e[t]; return null } } }, {}], 9: [function (e, t, r) { (function (r) { (function () { \"use strict\"; var n = e(\"../client\"), i = e(\"../store\"), o = e(\"url\"), s = e(\"xtend\"), a = e(\"debug\")(\"mqttjs\"), u = {}; function c(e, t) { if (a(\"connecting to an MQTT broker...\"), \"object\" != typeof e || t || (t = e, e = null), t = t || {}, e) { var r = o.parse(e, !0); if (null != r.port && (r.port = Number(r.port)), null === (t = s(r, t)).protocol) throw new Error(\"Missing protocol\"); t.protocol = t.protocol.replace(/:$/, \"\") } if (function (e) { var t; e.auth && ((t = e.auth.match(/^(.+):(.+)$/)) ? (e.username = t[1], e.password = t[2]) : e.username = e.auth) }(t), t.query && \"string\" == typeof t.query.clientId && (t.clientId = t.query.clientId), t.cert && t.key) { if (!t.protocol) throw new Error(\"Missing secure protocol key\"); if (-1 === [\"mqtts\", \"wss\", \"wxs\", \"alis\"].indexOf(t.protocol)) switch (t.protocol) { case \"mqtt\": t.protocol = \"mqtts\"; break; case \"ws\": t.protocol = \"wss\"; break; case \"wx\": t.protocol = \"wxs\"; break; case \"ali\": t.protocol = \"alis\"; break; default: throw new Error('Unknown protocol for secure connection: \"' + t.protocol + '\"!') } } if (!u[t.protocol]) { var i = -1 !== [\"mqtts\", \"wss\"].indexOf(t.protocol); t.protocol = [\"mqtt\", \"mqtts\", \"ws\", \"wss\", \"wx\", \"wxs\", \"ali\", \"alis\"].filter(function (e, t) { return (!i || t % 2 != 0) && \"function\" == typeof u[e] })[0] } if (!1 === t.clean && !t.clientId) throw new Error(\"Missing clientId for unclean clients\"); t.protocol && (t.defaultProtocol = t.protocol); var c = new n(function (e) { return t.servers && (e._reconnectCount && e._reconnectCount !== t.servers.length || (e._reconnectCount = 0), t.host = t.servers[e._reconnectCount].host, t.port = t.servers[e._reconnectCount].port, t.protocol = t.servers[e._reconnectCount].protocol ? t.servers[e._reconnectCount].protocol : t.defaultProtocol, t.hostname = t.host, e._reconnectCount++), a(\"calling streambuilder for\", t.protocol), u[t.protocol](e, t) }, t); return c.on(\"error\", function () { }), c } void 0 !== r && \"browser\" !== r.title || \"function\" != typeof __webpack_require__ ? (u.mqtt = e(\"./tcp\"), u.tcp = e(\"./tcp\"), u.ssl = e(\"./tls\"), u.tls = e(\"./tls\"), u.mqtts = e(\"./tls\")) : (u.wx = e(\"./wx\"), u.wxs = e(\"./wx\"), u.ali = e(\"./ali\"), u.alis = e(\"./ali\")), u.ws = e(\"./ws\"), u.wss = e(\"./ws\"), t.exports = c, t.exports.connect = c, t.exports.MqttClient = n, t.exports.Store = i }).call(this) }).call(this, e(\"_process\")) }, { \"../client\": 1, \"../store\": 7, \"./ali\": 2, \"./tcp\": 3, \"./tls\": 4, \"./ws\": 5, \"./wx\": 6, _process: 46, debug: 16, url: 71, xtend: 76 }], 10: [function (e, t, r) { \"use strict\"; r.byteLength = function (e) { var t = c(e), r = t[0], n = t[1]; return 3 * (r + n) / 4 - n }, r.toByteArray = function (e) { var t, r, n = c(e), s = n[0], a = n[1], u = new o(function (e, t, r) { return 3 * (t + r) / 4 - r }(0, s, a)), l = 0, f = a > 0 ? s - 4 : s; for (r = 0; r < f; r += 4)t = i[e.charCodeAt(r)] << 18 | i[e.charCodeAt(r + 1)] << 12 | i[e.charCodeAt(r + 2)] << 6 | i[e.charCodeAt(r + 3)], u[l++] = t >> 16 & 255, u[l++] = t >> 8 & 255, u[l++] = 255 & t; 2 === a && (t = i[e.charCodeAt(r)] << 2 | i[e.charCodeAt(r + 1)] >> 4, u[l++] = 255 & t); 1 === a && (t = i[e.charCodeAt(r)] << 10 | i[e.charCodeAt(r + 1)] << 4 | i[e.charCodeAt(r + 2)] >> 2, u[l++] = t >> 8 & 255, u[l++] = 255 & t); return u }, r.fromByteArray = function (e) { for (var t, r = e.length, i = r % 3, o = [], s = 0, a = r - i; s < a; s += 16383)o.push(l(e, s, s + 16383 > a ? a : s + 16383)); 1 === i ? (t = e[r - 1], o.push(n[t >> 2] + n[t << 4 & 63] + \"==\")) : 2 === i && (t = (e[r - 2] << 8) + e[r - 1], o.push(n[t >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + \"=\")); return o.join(\"\") }; for (var n = [], i = [], o = \"undefined\" != typeof Uint8Array ? Uint8Array : Array, s = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", a = 0, u = s.length; a < u; ++a)n[a] = s[a], i[s.charCodeAt(a)] = a; function c(e) { var t = e.length; if (t % 4 > 0) throw new Error(\"Invalid string. Length must be a multiple of 4\"); var r = e.indexOf(\"=\"); return -1 === r && (r = t), [r, r === t ? 0 : 4 - r % 4] } function l(e, t, r) { for (var i, o, s = [], a = t; a < r; a += 3)i = (e[a] << 16 & 16711680) + (e[a + 1] << 8 & 65280) + (255 & e[a + 2]), s.push(n[(o = i) >> 18 & 63] + n[o >> 12 & 63] + n[o >> 6 & 63] + n[63 & o]); return s.join(\"\") } i[\"-\".charCodeAt(0)] = 62, i[\"_\".charCodeAt(0)] = 63 }, {}], 11: [function (e, t, r) { \"use strict\"; const { Buffer: n } = e(\"buffer\"), i = Symbol.for(\"BufferList\"); function o(e) { if (!(this instanceof o)) return new o(e); o._init.call(this, e) } o._init = function (e) { Object.defineProperty(this, i, { value: !0 }), this._bufs = [], this.length = 0, e && this.append(e) }, o.prototype._new = function (e) { return new o(e) }, o.prototype._offset = function (e) { if (0 === e) return [0, 0]; let t = 0; for (let r = 0; r < this._bufs.length; r++) { const n = t + this._bufs[r].length; if (e < n || r === this._bufs.length - 1) return [r, e - t]; t = n } }, o.prototype._reverseOffset = function (e) { const t = e[0]; let r = e[1]; for (let e = 0; e < t; e++)r += this._bufs[e].length; return r }, o.prototype.get = function (e) { if (e > this.length || e < 0) return; const t = this._offset(e); return this._bufs[t[0]][t[1]] }, o.prototype.slice = function (e, t) { return \"number\" == typeof e && e < 0 && (e += this.length), \"number\" == typeof t && t < 0 && (t += this.length), this.copy(null, 0, e, t) }, o.prototype.copy = function (e, t, r, i) { if ((\"number\" != typeof r || r < 0) && (r = 0), (\"number\" != typeof i || i > this.length) && (i = this.length), r >= this.length) return e || n.alloc(0); if (i <= 0) return e || n.alloc(0); const o = !!e, s = this._offset(r), a = i - r; let u = a, c = o && t || 0, l = s[1]; if (0 === r && i === this.length) { if (!o) return 1 === this._bufs.length ? this._bufs[0] : n.concat(this._bufs, this.length); for (let t = 0; t < this._bufs.length; t++)this._bufs[t].copy(e, c), c += this._bufs[t].length; return e } if (u <= this._bufs[s[0]].length - l) return o ? this._bufs[s[0]].copy(e, t, l, l + u) : this._bufs[s[0]].slice(l, l + u); o || (e = n.allocUnsafe(a)); for (let t = s[0]; t < this._bufs.length; t++) { const r = this._bufs[t].length - l; if (!(u > r)) { this._bufs[t].copy(e, c, l, l + u), c += r; break } this._bufs[t].copy(e, c, l), c += r, u -= r, l && (l = 0) } return e.length > c ? e.slice(0, c) : e }, o.prototype.shallowSlice = function (e, t) { if (e = e || 0, t = \"number\" != typeof t ? this.length : t, e < 0 && (e += this.length), t < 0 && (t += this.length), e === t) return this._new(); const r = this._offset(e), n = this._offset(t), i = this._bufs.slice(r[0], n[0] + 1); return 0 === n[1] ? i.pop() : i[i.length - 1] = i[i.length - 1].slice(0, n[1]), 0 !== r[1] && (i[0] = i[0].slice(r[1])), this._new(i) }, o.prototype.toString = function (e, t, r) { return this.slice(t, r).toString(e) }, o.prototype.consume = function (e) { if (e = Math.trunc(e), Number.isNaN(e) || e <= 0) return this; for (; this._bufs.length;) { if (!(e >= this._bufs[0].length)) { this._bufs[0] = this._bufs[0].slice(e), this.length -= e; break } e -= this._bufs[0].length, this.length -= this._bufs[0].length, this._bufs.shift() } return this }, o.prototype.duplicate = function () { const e = this._new(); for (let t = 0; t < this._bufs.length; t++)e.append(this._bufs[t]); return e }, o.prototype.append = function (e) { if (null == e) return this; if (e.buffer) this._appendBuffer(n.from(e.buffer, e.byteOffset, e.byteLength)); else if (Array.isArray(e)) for (let t = 0; t < e.length; t++)this.append(e[t]); else if (this._isBufferList(e)) for (let t = 0; t < e._bufs.length; t++)this.append(e._bufs[t]); else \"number\" == typeof e && (e = e.toString()), this._appendBuffer(n.from(e)); return this }, o.prototype._appendBuffer = function (e) { this._bufs.push(e), this.length += e.length }, o.prototype.indexOf = function (e, t, r) { if (void 0 === r && \"string\" == typeof t && (r = t, t = void 0), \"function\" == typeof e || Array.isArray(e)) throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.'); if (\"number\" == typeof e ? e = n.from([e]) : \"string\" == typeof e ? e = n.from(e, r) : this._isBufferList(e) ? e = e.slice() : Array.isArray(e.buffer) ? e = n.from(e.buffer, e.byteOffset, e.byteLength) : n.isBuffer(e) || (e = n.from(e)), t = Number(t || 0), isNaN(t) && (t = 0), t < 0 && (t = this.length + t), t < 0 && (t = 0), 0 === e.length) return t > this.length ? this.length : t; const i = this._offset(t); let o = i[0], s = i[1]; for (; o < this._bufs.length; o++) { const t = this._bufs[o]; for (; s < t.length;) { if (t.length - s >= e.length) { const r = t.indexOf(e, s); if (-1 !== r) return this._reverseOffset([o, r]); s = t.length - e.length + 1 } else { const t = this._reverseOffset([o, s]); if (this._match(t, e)) return t; s++ } } s = 0 } return -1 }, o.prototype._match = function (e, t) { if (this.length - e < t.length) return !1; for (let r = 0; r < t.length; r++)if (this.get(e + r) !== t[r]) return !1; return !0 }, function () { const e = { readDoubleBE: 8, readDoubleLE: 8, readFloatBE: 4, readFloatLE: 4, readInt32BE: 4, readInt32LE: 4, readUInt32BE: 4, readUInt32LE: 4, readInt16BE: 2, readInt16LE: 2, readUInt16BE: 2, readUInt16LE: 2, readInt8: 1, readUInt8: 1, readIntBE: null, readIntLE: null, readUIntBE: null, readUIntLE: null }; for (const t in e) !function (t) { o.prototype[t] = null === e[t] ? function (e, r) { return this.slice(e, e + r)[t](0, r) } : function (r) { return this.slice(r, r + e[t])[t](0) } }(t) }(), o.prototype._isBufferList = function (e) { return e instanceof o || o.isBufferList(e) }, o.isBufferList = function (e) { return null != e && e[i] }, t.exports = o }, { buffer: 14 }], 12: [function (e, t, r) { \"use strict\"; const n = e(\"readable-stream\").Duplex, i = e(\"inherits\"), o = e(\"./BufferList\"); function s(e) { if (!(this instanceof s)) return new s(e); if (\"function\" == typeof e) { this._callback = e; const t = function (e) { this._callback && (this._callback(e), this._callback = null) }.bind(this); this.on(\"pipe\", function (e) { e.on(\"error\", t) }), this.on(\"unpipe\", function (e) { e.removeListener(\"error\", t) }), e = null } o._init.call(this, e), n.call(this) } i(s, n), Object.assign(s.prototype, o.prototype), s.prototype._new = function (e) { return new s(e) }, s.prototype._write = function (e, t, r) { this._appendBuffer(e), \"function\" == typeof r && r() }, s.prototype._read = function (e) { if (!this.length) return this.push(null); e = Math.min(e, this.length), this.push(this.slice(0, e)), this.consume(e) }, s.prototype.end = function (e) { n.prototype.end.call(this, e), this._callback && (this._callback(null, this.slice()), this._callback = null) }, s.prototype._destroy = function (e, t) { this._bufs.length = 0, this.length = 0, t(e) }, s.prototype._isBufferList = function (e) { return e instanceof s || e instanceof o || s.isBufferList(e) }, s.isBufferList = o.isBufferList, t.exports = s, t.exports.BufferListStream = s, t.exports.BufferList = o }, { \"./BufferList\": 11, inherits: 33, \"readable-stream\": 65 }], 13: [function (e, t, r) { }, {}], 14: [function (e, t, r) { (function (t) { (function () { \"use strict\"; var t = e(\"base64-js\"), n = e(\"ieee754\"); r.Buffer = s, r.SlowBuffer = function (e) { +e != e && (e = 0); return s.alloc(+e) }, r.INSPECT_MAX_BYTES = 50; var i = 2147483647; function o(e) { if (e > i) throw new RangeError('The value \"' + e + '\" is invalid for option \"size\"'); var t = new Uint8Array(e); return t.__proto__ = s.prototype, t } function s(e, t, r) { if (\"number\" == typeof e) { if (\"string\" == typeof t) throw new TypeError('The \"string\" argument must be of type string. Received type number'); return c(e) } return a(e, t, r) } function a(e, t, r) { if (\"string\" == typeof e) return function (e, t) { \"string\" == typeof t && \"\" !== t || (t = \"utf8\"); if (!s.isEncoding(t)) throw new TypeError(\"Unknown encoding: \" + t); var r = 0 | h(e, t), n = o(r), i = n.write(e, t); i !== r && (n = n.slice(0, i)); return n }(e, t); if (ArrayBuffer.isView(e)) return l(e); if (null == e) throw TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof e); if (q(e, ArrayBuffer) || e && q(e.buffer, ArrayBuffer)) return function (e, t, r) { if (t < 0 || e.byteLength < t) throw new RangeError('\"offset\" is outside of buffer bounds'); if (e.byteLength < t + (r || 0)) throw new RangeError('\"length\" is outside of buffer bounds'); var n; n = void 0 === t && void 0 === r ? new Uint8Array(e) : void 0 === r ? new Uint8Array(e, t) : new Uint8Array(e, t, r); return n.__proto__ = s.prototype, n }(e, t, r); if (\"number\" == typeof e) throw new TypeError('The \"value\" argument must not be of type number. Received type number'); var n = e.valueOf && e.valueOf(); if (null != n && n !== e) return s.from(n, t, r); var i = function (e) { if (s.isBuffer(e)) { var t = 0 | f(e.length), r = o(t); return 0 === r.length ? r : (e.copy(r, 0, 0, t), r) } if (void 0 !== e.length) return \"number\" != typeof e.length || D(e.length) ? o(0) : l(e); if (\"Buffer\" === e.type && Array.isArray(e.data)) return l(e.data) }(e); if (i) return i; if (\"undefined\" != typeof Symbol && null != Symbol.toPrimitive && \"function\" == typeof e[Symbol.toPrimitive]) return s.from(e[Symbol.toPrimitive](\"string\"), t, r); throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof e) } function u(e) { if (\"number\" != typeof e) throw new TypeError('\"size\" argument must be of type number'); if (e < 0) throw new RangeError('The value \"' + e + '\" is invalid for option \"size\"') } function c(e) { return u(e), o(e < 0 ? 0 : 0 | f(e)) } function l(e) { for (var t = e.length < 0 ? 0 : 0 | f(e.length), r = o(t), n = 0; n < t; n += 1)r[n] = 255 & e[n]; return r } function f(e) { if (e >= i) throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\" + i.toString(16) + \" bytes\"); return 0 | e } function h(e, t) { if (s.isBuffer(e)) return e.length; if (ArrayBuffer.isView(e) || q(e, ArrayBuffer)) return e.byteLength; if (\"string\" != typeof e) throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e); var r = e.length, n = arguments.length > 2 && !0 === arguments[2]; if (!n && 0 === r) return 0; for (var i = !1; ;)switch (t) { case \"ascii\": case \"latin1\": case \"binary\": return r; case \"utf8\": case \"utf-8\": return j(e).length; case \"ucs2\": case \"ucs-2\": case \"utf16le\": case \"utf-16le\": return 2 * r; case \"hex\": return r >>> 1; case \"base64\": return U(e).length; default: if (i) return n ? -1 : j(e).length; t = (\"\" + t).toLowerCase(), i = !0 } } function p(e, t, r) { var n = e[t]; e[t] = e[r], e[r] = n } function d(e, t, r, n, i) { if (0 === e.length) return -1; if (\"string\" == typeof r ? (n = r, r = 0) : r > 2147483647 ? r = 2147483647 : r < -2147483648 && (r = -2147483648), D(r = +r) && (r = i ? 0 : e.length - 1), r < 0 && (r = e.length + r), r >= e.length) { if (i) return -1; r = e.length - 1 } else if (r < 0) { if (!i) return -1; r = 0 } if (\"string\" == typeof t && (t = s.from(t, n)), s.isBuffer(t)) return 0 === t.length ? -1 : g(e, t, r, n, i); if (\"number\" == typeof t) return t &= 255, \"function\" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(e, t, r) : Uint8Array.prototype.lastIndexOf.call(e, t, r) : g(e, [t], r, n, i); throw new TypeError(\"val must be string, number or Buffer\") } function g(e, t, r, n, i) { var o, s = 1, a = e.length, u = t.length; if (void 0 !== n && (\"ucs2\" === (n = String(n).toLowerCase()) || \"ucs-2\" === n || \"utf16le\" === n || \"utf-16le\" === n)) { if (e.length < 2 || t.length < 2) return -1; s = 2, a /= 2, u /= 2, r /= 2 } function c(e, t) { return 1 === s ? e[t] : e.readUInt16BE(t * s) } if (i) { var l = -1; for (o = r; o < a; o++)if (c(e, o) === c(t, -1 === l ? 0 : o - l)) { if (-1 === l && (l = o), o - l + 1 === u) return l * s } else -1 !== l && (o -= o - l), l = -1 } else for (r + u > a && (r = a - u), o = r; o >= 0; o--) { for (var f = !0, h = 0; h < u; h++)if (c(e, o + h) !== c(t, h)) { f = !1; break } if (f) return o } return -1 } function b(e, t, r, n) { r = Number(r) || 0; var i = e.length - r; n ? (n = Number(n)) > i && (n = i) : n = i; var o = t.length; n > o / 2 && (n = o / 2); for (var s = 0; s < n; ++s) { var a = parseInt(t.substr(2 * s, 2), 16); if (D(a)) return s; e[r + s] = a } return s } function m(e, t, r, n) { return N(j(t, e.length - r), e, r, n) } function y(e, t, r, n) { return N(function (e) { for (var t = [], r = 0; r < e.length; ++r)t.push(255 & e.charCodeAt(r)); return t }(t), e, r, n) } function _(e, t, r, n) { return y(e, t, r, n) } function w(e, t, r, n) { return N(U(t), e, r, n) } function v(e, t, r, n) { return N(function (e, t) { for (var r, n, i, o = [], s = 0; s < e.length && !((t -= 2) < 0); ++s)r = e.charCodeAt(s), n = r >> 8, i = r % 256, o.push(i), o.push(n); return o }(t, e.length - r), e, r, n) } function S(e, r, n) { return 0 === r && n === e.length ? t.fromByteArray(e) : t.fromByteArray(e.slice(r, n)) } function E(e, t, r) { r = Math.min(e.length, r); for (var n = [], i = t; i < r;) { var o, s, a, u, c = e[i], l = null, f = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1; if (i + f <= r) switch (f) { case 1: c < 128 && (l = c); break; case 2: 128 == (192 & (o = e[i + 1])) && (u = (31 & c) << 6 | 63 & o) > 127 && (l = u); break; case 3: o = e[i + 1], s = e[i + 2], 128 == (192 & o) && 128 == (192 & s) && (u = (15 & c) << 12 | (63 & o) << 6 | 63 & s) > 2047 && (u < 55296 || u > 57343) && (l = u); break; case 4: o = e[i + 1], s = e[i + 2], a = e[i + 3], 128 == (192 & o) && 128 == (192 & s) && 128 == (192 & a) && (u = (15 & c) << 18 | (63 & o) << 12 | (63 & s) << 6 | 63 & a) > 65535 && u < 1114112 && (l = u) }null === l ? (l = 65533, f = 1) : l > 65535 && (l -= 65536, n.push(l >>> 10 & 1023 | 55296), l = 56320 | 1023 & l), n.push(l), i += f } return function (e) { var t = e.length; if (t <= k) return String.fromCharCode.apply(String, e); var r = \"\", n = 0; for (; n < t;)r += String.fromCharCode.apply(String, e.slice(n, n += k)); return r }(n) } r.kMaxLength = i, s.TYPED_ARRAY_SUPPORT = function () { try { var e = new Uint8Array(1); return e.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42 } }, 42 === e.foo() } catch (e) { return !1 } }(), s.TYPED_ARRAY_SUPPORT || \"undefined\" == typeof console || \"function\" != typeof console.error || console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"), Object.defineProperty(s.prototype, \"parent\", { enumerable: !0, get: function () { if (s.isBuffer(this)) return this.buffer } }), Object.defineProperty(s.prototype, \"offset\", { enumerable: !0, get: function () { if (s.isBuffer(this)) return this.byteOffset } }), \"undefined\" != typeof Symbol && null != Symbol.species && s[Symbol.species] === s && Object.defineProperty(s, Symbol.species, { value: null, configurable: !0, enumerable: !1, writable: !1 }), s.poolSize = 8192, s.from = function (e, t, r) { return a(e, t, r) }, s.prototype.__proto__ = Uint8Array.prototype, s.__proto__ = Uint8Array, s.alloc = function (e, t, r) { return function (e, t, r) { return u(e), e <= 0 ? o(e) : void 0 !== t ? \"string\" == typeof r ? o(e).fill(t, r) : o(e).fill(t) : o(e) }(e, t, r) }, s.allocUnsafe = function (e) { return c(e) }, s.allocUnsafeSlow = function (e) { return c(e) }, s.isBuffer = function (e) { return null != e && !0 === e._isBuffer && e !== s.prototype }, s.compare = function (e, t) { if (q(e, Uint8Array) && (e = s.from(e, e.offset, e.byteLength)), q(t, Uint8Array) && (t = s.from(t, t.offset, t.byteLength)), !s.isBuffer(e) || !s.isBuffer(t)) throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'); if (e === t) return 0; for (var r = e.length, n = t.length, i = 0, o = Math.min(r, n); i < o; ++i)if (e[i] !== t[i]) { r = e[i], n = t[i]; break } return r < n ? -1 : n < r ? 1 : 0 }, s.isEncoding = function (e) { switch (String(e).toLowerCase()) { case \"hex\": case \"utf8\": case \"utf-8\": case \"ascii\": case \"latin1\": case \"binary\": case \"base64\": case \"ucs2\": case \"ucs-2\": case \"utf16le\": case \"utf-16le\": return !0; default: return !1 } }, s.concat = function (e, t) { if (!Array.isArray(e)) throw new TypeError('\"list\" argument must be an Array of Buffers'); if (0 === e.length) return s.alloc(0); var r; if (void 0 === t) for (t = 0, r = 0; r < e.length; ++r)t += e[r].length; var n = s.allocUnsafe(t), i = 0; for (r = 0; r < e.length; ++r) { var o = e[r]; if (q(o, Uint8Array) && (o = s.from(o)), !s.isBuffer(o)) throw new TypeError('\"list\" argument must be an Array of Buffers'); o.copy(n, i), i += o.length } return n }, s.byteLength = h, s.prototype._isBuffer = !0, s.prototype.swap16 = function () { var e = this.length; if (e % 2 != 0) throw new RangeError(\"Buffer size must be a multiple of 16-bits\"); for (var t = 0; t < e; t += 2)p(this, t, t + 1); return this }, s.prototype.swap32 = function () { var e = this.length; if (e % 4 != 0) throw new RangeError(\"Buffer size must be a multiple of 32-bits\"); for (var t = 0; t < e; t += 4)p(this, t, t + 3), p(this, t + 1, t + 2); return this }, s.prototype.swap64 = function () { var e = this.length; if (e % 8 != 0) throw new RangeError(\"Buffer size must be a multiple of 64-bits\"); for (var t = 0; t < e; t += 8)p(this, t, t + 7), p(this, t + 1, t + 6), p(this, t + 2, t + 5), p(this, t + 3, t + 4); return this }, s.prototype.toString = function () { var e = this.length; return 0 === e ? \"\" : 0 === arguments.length ? E(this, 0, e) : function (e, t, r) { var n = !1; if ((void 0 === t || t < 0) && (t = 0), t > this.length) return \"\"; if ((void 0 === r || r > this.length) && (r = this.length), r <= 0) return \"\"; if ((r >>>= 0) <= (t >>>= 0)) return \"\"; for (e || (e = \"utf8\"); ;)switch (e) { case \"hex\": return T(this, t, r); case \"utf8\": case \"utf-8\": return E(this, t, r); case \"ascii\": return I(this, t, r); case \"latin1\": case \"binary\": return C(this, t, r); case \"base64\": return S(this, t, r); case \"ucs2\": case \"ucs-2\": case \"utf16le\": case \"utf-16le\": return x(this, t, r); default: if (n) throw new TypeError(\"Unknown encoding: \" + e); e = (e + \"\").toLowerCase(), n = !0 } }.apply(this, arguments) }, s.prototype.toLocaleString = s.prototype.toString, s.prototype.equals = function (e) { if (!s.isBuffer(e)) throw new TypeError(\"Argument must be a Buffer\"); return this === e || 0 === s.compare(this, e) }, s.prototype.inspect = function () { var e = \"\", t = r.INSPECT_MAX_BYTES; return e = this.toString(\"hex\", 0, t).replace(/(.{2})/g, \"$1 \").trim(), this.length > t && (e += \" ... \"), \"<Buffer \" + e + \">\" }, s.prototype.compare = function (e, t, r, n, i) { if (q(e, Uint8Array) && (e = s.from(e, e.offset, e.byteLength)), !s.isBuffer(e)) throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e); if (void 0 === t && (t = 0), void 0 === r && (r = e ? e.length : 0), void 0 === n && (n = 0), void 0 === i && (i = this.length), t < 0 || r > e.length || n < 0 || i > this.length) throw new RangeError(\"out of range index\"); if (n >= i && t >= r) return 0; if (n >= i) return -1; if (t >= r) return 1; if (t >>>= 0, r >>>= 0, n >>>= 0, i >>>= 0, this === e) return 0; for (var o = i - n, a = r - t, u = Math.min(o, a), c = this.slice(n, i), l = e.slice(t, r), f = 0; f < u; ++f)if (c[f] !== l[f]) { o = c[f], a = l[f]; break } return o < a ? -1 : a < o ? 1 : 0 }, s.prototype.includes = function (e, t, r) { return -1 !== this.indexOf(e, t, r) }, s.prototype.indexOf = function (e, t, r) { return d(this, e, t, r, !0) }, s.prototype.lastIndexOf = function (e, t, r) { return d(this, e, t, r, !1) }, s.prototype.write = function (e, t, r, n) { if (void 0 === t) n = \"utf8\", r = this.length, t = 0; else if (void 0 === r && \"string\" == typeof t) n = t, r = this.length, t = 0; else { if (!isFinite(t)) throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\"); t >>>= 0, isFinite(r) ? (r >>>= 0, void 0 === n && (n = \"utf8\")) : (n = r, r = void 0) } var i = this.length - t; if ((void 0 === r || r > i) && (r = i), e.length > 0 && (r < 0 || t < 0) || t > this.length) throw new RangeError(\"Attempt to write outside buffer bounds\"); n || (n = \"utf8\"); for (var o = !1; ;)switch (n) { case \"hex\": return b(this, e, t, r); case \"utf8\": case \"utf-8\": return m(this, e, t, r); case \"ascii\": return y(this, e, t, r); case \"latin1\": case \"binary\": return _(this, e, t, r); case \"base64\": return w(this, e, t, r); case \"ucs2\": case \"ucs-2\": case \"utf16le\": case \"utf-16le\": return v(this, e, t, r); default: if (o) throw new TypeError(\"Unknown encoding: \" + n); n = (\"\" + n).toLowerCase(), o = !0 } }, s.prototype.toJSON = function () { return { type: \"Buffer\", data: Array.prototype.slice.call(this._arr || this, 0) } }; var k = 4096; function I(e, t, r) { var n = \"\"; r = Math.min(e.length, r); for (var i = t; i < r; ++i)n += String.fromCharCode(127 & e[i]); return n } function C(e, t, r) { var n = \"\"; r = Math.min(e.length, r); for (var i = t; i < r; ++i)n += String.fromCharCode(e[i]); return n } function T(e, t, r) { var n = e.length; (!t || t < 0) && (t = 0), (!r || r < 0 || r > n) && (r = n); for (var i = \"\", o = t; o < r; ++o)i += L(e[o]); return i } function x(e, t, r) { for (var n = e.slice(t, r), i = \"\", o = 0; o < n.length; o += 2)i += String.fromCharCode(n[o] + 256 * n[o + 1]); return i } function R(e, t, r) { if (e % 1 != 0 || e < 0) throw new RangeError(\"offset is not uint\"); if (e + t > r) throw new RangeError(\"Trying to access beyond buffer length\") } function A(e, t, r, n, i, o) { if (!s.isBuffer(e)) throw new TypeError('\"buffer\" argument must be a Buffer instance'); if (t > i || t < o) throw new RangeError('\"value\" argument is out of bounds'); if (r + n > e.length) throw new RangeError(\"Index out of range\") } function M(e, t, r, n, i, o) { if (r + n > e.length) throw new RangeError(\"Index out of range\"); if (r < 0) throw new RangeError(\"Index out of range\") } function O(e, t, r, i, o) { return t = +t, r >>>= 0, o || M(e, 0, r, 4), n.write(e, t, r, i, 23, 4), r + 4 } function P(e, t, r, i, o) { return t = +t, r >>>= 0, o || M(e, 0, r, 8), n.write(e, t, r, i, 52, 8), r + 8 } s.prototype.slice = function (e, t) { var r = this.length; e = ~~e, t = void 0 === t ? r : ~~t, e < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r), t < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r), t < e && (t = e); var n = this.subarray(e, t); return n.__proto__ = s.prototype, n }, s.prototype.readUIntLE = function (e, t, r) { e >>>= 0, t >>>= 0, r || R(e, t, this.length); for (var n = this[e], i = 1, o = 0; ++o < t && (i *= 256);)n += this[e + o] * i; return n }, s.prototype.readUIntBE = function (e, t, r) { e >>>= 0, t >>>= 0, r || R(e, t, this.length); for (var n = this[e + --t], i = 1; t > 0 && (i *= 256);)n += this[e + --t] * i; return n }, s.prototype.readUInt8 = function (e, t) { return e >>>= 0, t || R(e, 1, this.length), this[e] }, s.prototype.readUInt16LE = function (e, t) { return e >>>= 0, t || R(e, 2, this.length), this[e] | this[e + 1] << 8 }, s.prototype.readUInt16BE = function (e, t) { return e >>>= 0, t || R(e, 2, this.length), this[e] << 8 | this[e + 1] }, s.prototype.readUInt32LE = function (e, t) { return e >>>= 0, t || R(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3] }, s.prototype.readUInt32BE = function (e, t) { return e >>>= 0, t || R(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]) }, s.prototype.readIntLE = function (e, t, r) { e >>>= 0, t >>>= 0, r || R(e, t, this.length); for (var n = this[e], i = 1, o = 0; ++o < t && (i *= 256);)n += this[e + o] * i; return n >= (i *= 128) && (n -= Math.pow(2, 8 * t)), n }, s.prototype.readIntBE = function (e, t, r) { e >>>= 0, t >>>= 0, r || R(e, t, this.length); for (var n = t, i = 1, o = this[e + --n]; n > 0 && (i *= 256);)o += this[e + --n] * i; return o >= (i *= 128) && (o -= Math.pow(2, 8 * t)), o }, s.prototype.readInt8 = function (e, t) { return e >>>= 0, t || R(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e] }, s.prototype.readInt16LE = function (e, t) { e >>>= 0, t || R(e, 2, this.length); var r = this[e] | this[e + 1] << 8; return 32768 & r ? 4294901760 | r : r }, s.prototype.readInt16BE = function (e, t) { e >>>= 0, t || R(e, 2, this.length); var r = this[e + 1] | this[e] << 8; return 32768 & r ? 4294901760 | r : r }, s.prototype.readInt32LE = function (e, t) { return e >>>= 0, t || R(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24 }, s.prototype.readInt32BE = function (e, t) { return e >>>= 0, t || R(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3] }, s.prototype.readFloatLE = function (e, t) { return e >>>= 0, t || R(e, 4, this.length), n.read(this, e, !0, 23, 4) }, s.prototype.readFloatBE = function (e, t) { return e >>>= 0, t || R(e, 4, this.length), n.read(this, e, !1, 23, 4) }, s.prototype.readDoubleLE = function (e, t) { return e >>>= 0, t || R(e, 8, this.length), n.read(this, e, !0, 52, 8) }, s.prototype.readDoubleBE = function (e, t) { return e >>>= 0, t || R(e, 8, this.length), n.read(this, e, !1, 52, 8) }, s.prototype.writeUIntLE = function (e, t, r, n) { (e = +e, t >>>= 0, r >>>= 0, n) || A(this, e, t, r, Math.pow(2, 8 * r) - 1, 0); var i = 1, o = 0; for (this[t] = 255 & e; ++o < r && (i *= 256);)this[t + o] = e / i & 255; return t + r }, s.prototype.writeUIntBE = function (e, t, r, n) { (e = +e, t >>>= 0, r >>>= 0, n) || A(this, e, t, r, Math.pow(2, 8 * r) - 1, 0); var i = r - 1, o = 1; for (this[t + i] = 255 & e; --i >= 0 && (o *= 256);)this[t + i] = e / o & 255; return t + r }, s.prototype.writeUInt8 = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 1, 255, 0), this[t] = 255 & e, t + 1 }, s.prototype.writeUInt16LE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 2, 65535, 0), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2 }, s.prototype.writeUInt16BE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 2, 65535, 0), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2 }, s.prototype.writeUInt32LE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 4, 4294967295, 0), this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e, t + 4 }, s.prototype.writeUInt32BE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 4, 4294967295, 0), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4 }, s.prototype.writeIntLE = function (e, t, r, n) { if (e = +e, t >>>= 0, !n) { var i = Math.pow(2, 8 * r - 1); A(this, e, t, r, i - 1, -i) } var o = 0, s = 1, a = 0; for (this[t] = 255 & e; ++o < r && (s *= 256);)e < 0 && 0 === a && 0 !== this[t + o - 1] && (a = 1), this[t + o] = (e / s >> 0) - a & 255; return t + r }, s.prototype.writeIntBE = function (e, t, r, n) { if (e = +e, t >>>= 0, !n) { var i = Math.pow(2, 8 * r - 1); A(this, e, t, r, i - 1, -i) } var o = r - 1, s = 1, a = 0; for (this[t + o] = 255 & e; --o >= 0 && (s *= 256);)e < 0 && 0 === a && 0 !== this[t + o + 1] && (a = 1), this[t + o] = (e / s >> 0) - a & 255; return t + r }, s.prototype.writeInt8 = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 1, 127, -128), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1 }, s.prototype.writeInt16LE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 2, 32767, -32768), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2 }, s.prototype.writeInt16BE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 2, 32767, -32768), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2 }, s.prototype.writeInt32LE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 4, 2147483647, -2147483648), this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24, t + 4 }, s.prototype.writeInt32BE = function (e, t, r) { return e = +e, t >>>= 0, r || A(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4 }, s.prototype.writeFloatLE = function (e, t, r) { return O(this, e, t, !0, r) }, s.prototype.writeFloatBE = function (e, t, r) { return O(this, e, t, !1, r) }, s.prototype.writeDoubleLE = function (e, t, r) { return P(this, e, t, !0, r) }, s.prototype.writeDoubleBE = function (e, t, r) { return P(this, e, t, !1, r) }, s.prototype.copy = function (e, t, r, n) { if (!s.isBuffer(e)) throw new TypeError(\"argument should be a Buffer\"); if (r || (r = 0), n || 0 === n || (n = this.length), t >= e.length && (t = e.length), t || (t = 0), n > 0 && n < r && (n = r), n === r) return 0; if (0 === e.length || 0 === this.length) return 0; if (t < 0) throw new RangeError(\"targetStart out of bounds\"); if (r < 0 || r >= this.length) throw new RangeError(\"Index out of range\"); if (n < 0) throw new RangeError(\"sourceEnd out of bounds\"); n > this.length && (n = this.length), e.length - t < n - r && (n = e.length - t + r); var i = n - r; if (this === e && \"function\" == typeof Uint8Array.prototype.copyWithin) this.copyWithin(t, r, n); else if (this === e && r < t && t < n) for (var o = i - 1; o >= 0; --o)e[o + t] = this[o + r]; else Uint8Array.prototype.set.call(e, this.subarray(r, n), t); return i }, s.prototype.fill = function (e, t, r, n) { if (\"string\" == typeof e) { if (\"string\" == typeof t ? (n = t, t = 0, r = this.length) : \"string\" == typeof r && (n = r, r = this.length), void 0 !== n && \"string\" != typeof n) throw new TypeError(\"encoding must be a string\"); if (\"string\" == typeof n && !s.isEncoding(n)) throw new TypeError(\"Unknown encoding: \" + n); if (1 === e.length) { var i = e.charCodeAt(0); (\"utf8\" === n && i < 128 || \"latin1\" === n) && (e = i) } } else \"number\" == typeof e && (e &= 255); if (t < 0 || this.length < t || this.length < r) throw new RangeError(\"Out of range index\"); if (r <= t) return this; var o; if (t >>>= 0, r = void 0 === r ? this.length : r >>> 0, e || (e = 0), \"number\" == typeof e) for (o = t; o < r; ++o)this[o] = e; else { var a = s.isBuffer(e) ? e : s.from(e, n), u = a.length; if (0 === u) throw new TypeError('The value \"' + e + '\" is invalid for argument \"value\"'); for (o = 0; o < r - t; ++o)this[o + t] = a[o % u] } return this }; var B = /[^+/0-9A-Za-z-_]/g; function L(e) { return e < 16 ? \"0\" + e.toString(16) : e.toString(16) } function j(e, t) { var r; t = t || 1 / 0; for (var n = e.length, i = null, o = [], s = 0; s < n; ++s) { if ((r = e.charCodeAt(s)) > 55295 && r < 57344) { if (!i) { if (r > 56319) { (t -= 3) > -1 && o.push(239, 191, 189); continue } if (s + 1 === n) { (t -= 3) > -1 && o.push(239, 191, 189); continue } i = r; continue } if (r < 56320) { (t -= 3) > -1 && o.push(239, 191, 189), i = r; continue } r = 65536 + (i - 55296 << 10 | r - 56320) } else i && (t -= 3) > -1 && o.push(239, 191, 189); if (i = null, r < 128) { if ((t -= 1) < 0) break; o.push(r) } else if (r < 2048) { if ((t -= 2) < 0) break; o.push(r >> 6 | 192, 63 & r | 128) } else if (r < 65536) { if ((t -= 3) < 0) break; o.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128) } else { if (!(r < 1114112)) throw new Error(\"Invalid code point\"); if ((t -= 4) < 0) break; o.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128) } } return o } function U(e) { return t.toByteArray(function (e) { if ((e = (e = e.split(\"=\")[0]).trim().replace(B, \"\")).length < 2) return \"\"; for (; e.length % 4 != 0;)e += \"=\"; return e }(e)) } function N(e, t, r, n) { for (var i = 0; i < n && !(i + r >= t.length || i >= e.length); ++i)t[i + r] = e[i]; return i } function q(e, t) { return e instanceof t || null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name } function D(e) { return e != e } }).call(this) }).call(this, e(\"buffer\").Buffer) }, { \"base64-js\": 10, buffer: 14, ieee754: 32 }], 15: [function (e, t, r) { (function (e) { (function () { function t(e) { return Object.prototype.toString.call(e) } r.isArray = function (e) { return Array.isArray ? Array.isArray(e) : \"[object Array]\" === t(e) }, r.isBoolean = function (e) { return \"boolean\" == typeof e }, r.isNull = function (e) { return null === e }, r.isNullOrUndefined = function (e) { return null == e }, r.isNumber = function (e) { return \"number\" == typeof e }, r.isString = function (e) { return \"string\" == typeof e }, r.isSymbol = function (e) { return \"symbol\" == typeof e }, r.isUndefined = function (e) { return void 0 === e }, r.isRegExp = function (e) { return \"[object RegExp]\" === t(e) }, r.isObject = function (e) { return \"object\" == typeof e && null !== e }, r.isDate = function (e) { return \"[object Date]\" === t(e) }, r.isError = function (e) { return \"[object Error]\" === t(e) || e instanceof Error }, r.isFunction = function (e) { return \"function\" == typeof e }, r.isPrimitive = function (e) { return null === e || \"boolean\" == typeof e || \"number\" == typeof e || \"string\" == typeof e || \"symbol\" == typeof e || void 0 === e }, r.isBuffer = e.isBuffer }).call(this) }).call(this, { isBuffer: e(\"../../is-buffer/index.js\") }) }, { \"../../is-buffer/index.js\": 34 }], 16: [function (e, t, r) { (function (n) { (function () { r.formatArgs = function (e) { if (e[0] = (this.useColors ? \"%c\" : \"\") + this.namespace + (this.useColors ? \" %c\" : \" \") + e[0] + (this.useColors ? \"%c \" : \" \") + \"+\" + t.exports.humanize(this.diff), !this.useColors) return; const r = \"color: \" + this.color; e.splice(1, 0, r, \"color: inherit\"); let n = 0, i = 0; e[0].replace(/%[a-zA-Z%]/g, e => { \"%%\" !== e && \"%c\" === e && (i = ++n) }), e.splice(i, 0, r) }, r.save = function (e) { try { e ? r.storage.setItem(\"debug\", e) : r.storage.removeItem(\"debug\") } catch (e) { } }, r.load = function () { let e; try { e = r.storage.getItem(\"debug\") } catch (e) { } !e && void 0 !== n && \"env\" in n && (e = n.env.DEBUG); return e }, r.useColors = function () { if (\"undefined\" != typeof window && window.process && (\"renderer\" === window.process.type || window.process.__nwjs)) return !0; if (\"undefined\" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) return !1; return \"undefined\" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || \"undefined\" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || \"undefined\" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || \"undefined\" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/) }, r.storage = function () { try { return localStorage } catch (e) { } }(), r.destroy = (() => { let e = !1; return () => { e || (e = !0, console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")) } })(), r.colors = [\"#0000CC\", \"#0000FF\", \"#0033CC\", \"#0033FF\", \"#0066CC\", \"#0066FF\", \"#0099CC\", \"#0099FF\", \"#00CC00\", \"#00CC33\", \"#00CC66\", \"#00CC99\", \"#00CCCC\", \"#00CCFF\", \"#3300CC\", \"#3300FF\", \"#3333CC\", \"#3333FF\", \"#3366CC\", \"#3366FF\", \"#3399CC\", \"#3399FF\", \"#33CC00\", \"#33CC33\", \"#33CC66\", \"#33CC99\", \"#33CCCC\", \"#33CCFF\", \"#6600CC\", \"#6600FF\", \"#6633CC\", \"#6633FF\", \"#66CC00\", \"#66CC33\", \"#9900CC\", \"#9900FF\", \"#9933CC\", \"#9933FF\", \"#99CC00\", \"#99CC33\", \"#CC0000\", \"#CC0033\", \"#CC0066\", \"#CC0099\", \"#CC00CC\", \"#CC00FF\", \"#CC3300\", \"#CC3333\", \"#CC3366\", \"#CC3399\", \"#CC33CC\", \"#CC33FF\", \"#CC6600\", \"#CC6633\", \"#CC9900\", \"#CC9933\", \"#CCCC00\", \"#CCCC33\", \"#FF0000\", \"#FF0033\", \"#FF0066\", \"#FF0099\", \"#FF00CC\", \"#FF00FF\", \"#FF3300\", \"#FF3333\", \"#FF3366\", \"#FF3399\", \"#FF33CC\", \"#FF33FF\", \"#FF6600\", \"#FF6633\", \"#FF9900\", \"#FF9933\", \"#FFCC00\", \"#FFCC33\"], r.log = console.debug || console.log || (() => { }), t.exports = e(\"./common\")(r); const { formatters: i } = t.exports; i.j = function (e) { try { return JSON.stringify(e) } catch (e) { return \"[UnexpectedJSONParseError]: \" + e.message } } }).call(this) }).call(this, e(\"_process\")) }, { \"./common\": 17, _process: 46 }], 17: [function (e, t, r) { t.exports = function (t) { function r(e) { let t, i = null; function o(...e) { if (!o.enabled) return; const n = o, i = Number(new Date), s = i - (t || i); n.diff = s, n.prev = t, n.curr = i, t = i, e[0] = r.coerce(e[0]), \"string\" != typeof e[0] && e.unshift(\"%O\"); let a = 0; e[0] = e[0].replace(/%([a-zA-Z%])/g, (t, i) => { if (\"%%\" === t) return \"%\"; a++; const o = r.formatters[i]; if (\"function\" == typeof o) { const r = e[a]; t = o.call(n, r), e.splice(a, 1), a-- } return t }), r.formatArgs.call(n, e), (n.log || r.log).apply(n, e) } return o.namespace = e, o.useColors = r.useColors(), o.color = r.selectColor(e), o.extend = n, o.destroy = r.destroy, Object.defineProperty(o, \"enabled\", { enumerable: !0, configurable: !1, get: () => null === i ? r.enabled(e) : i, set: e => { i = e } }), \"function\" == typeof r.init && r.init(o), o } function n(e, t) { const n = r(this.namespace + (void 0 === t ? \":\" : t) + e); return n.log = this.log, n } function i(e) { return e.toString().substring(2, e.toString().length - 2).replace(/\\.\\*\\?$/, \"*\") } return r.debug = r, r.default = r, r.coerce = function (e) { return e instanceof Error ? e.stack || e.message : e }, r.disable = function () { const e = [...r.names.map(i), ...r.skips.map(i).map(e => \"-\" + e)].join(\",\"); return r.enable(\"\"), e }, r.enable = function (e) { let t; r.save(e), r.names = [], r.skips = []; const n = (\"string\" == typeof e ? e : \"\").split(/[\\s,]+/), i = n.length; for (t = 0; t < i; t++)n[t] && (\"-\" === (e = n[t].replace(/\\*/g, \".*?\"))[0] ? r.skips.push(new RegExp(\"^\" + e.substr(1) + \"$\")) : r.names.push(new RegExp(\"^\" + e + \"$\"))) }, r.enabled = function (e) { if (\"*\" === e[e.length - 1]) return !0; let t, n; for (t = 0, n = r.skips.length; t < n; t++)if (r.skips[t].test(e)) return !1; for (t = 0, n = r.names.length; t < n; t++)if (r.names[t].test(e)) return !0; return !1 }, r.humanize = e(\"ms\"), r.destroy = function () { console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\") }, Object.keys(t).forEach(e => { r[e] = t[e] }), r.names = [], r.skips = [], r.formatters = {}, r.selectColor = function (e) { let t = 0; for (let r = 0; r < e.length; r++)t = (t << 5) - t + e.charCodeAt(r), t |= 0; return r.colors[Math.abs(t) % r.colors.length] }, r.enable(r.load()), r } }, { ms: 43 }], 18: [function (e, t, r) { (function (r, n) { (function () { var i = e(\"readable-stream\"), o = e(\"end-of-stream\"), s = e(\"inherits\"), a = e(\"stream-shift\"), u = n.from && n.from !== Uint8Array.from ? n.from([0]) : new n([0]), c = function (e, t) { e._corked ? e.once(\"uncork\", t) : t() }, l = function (e, t) { return function (r) { r ? function (e, t) { e._autoDestroy && e.destroy(t) }(e, \"premature close\" === r.message ? null : r) : t && !e._ended && e.end() } }, f = function (e, t, r) { if (!(this instanceof f)) return new f(e, t, r); i.Duplex.call(this, r), this._writable = null, this._readable = null, this._readable2 = null, this._autoDestroy = !r || !1 !== r.autoDestroy, this._forwardDestroy = !r || !1 !== r.destroy, this._forwardEnd = !r || !1 !== r.end, this._corked = 1, this._ondrain = null, this._drained = !1, this._forwarding = !1, this._unwrite = null, this._unread = null, this._ended = !1, this.destroyed = !1, e && this.setWritable(e), t && this.setReadable(t) }; s(f, i.Duplex), f.obj = function (e, t, r) { return r || (r = {}), r.objectMode = !0, r.highWaterMark = 16, new f(e, t, r) }, f.prototype.cork = function () { 1 == ++this._corked && this.emit(\"cork\") }, f.prototype.uncork = function () { this._corked && 0 == --this._corked && this.emit(\"uncork\") }, f.prototype.setWritable = function (e) { if (this._unwrite && this._unwrite(), this.destroyed) e && e.destroy && e.destroy(); else if (null !== e && !1 !== e) { var t = this, n = o(e, { writable: !0, readable: !1 }, l(this, this._forwardEnd)), i = function () { var e = t._ondrain; t._ondrain = null, e && e() }; this._unwrite && r.nextTick(i), this._writable = e, this._writable.on(\"drain\", i), this._unwrite = function () { t._writable.removeListener(\"drain\", i), n() }, this.uncork() } else this.end() }, f.prototype.setReadable = function (e) { if (this._unread && this._unread(), this.destroyed) e && e.destroy && e.destroy(); else { if (null === e || !1 === e) return this.push(null), void this.resume(); var t, r = this, n = o(e, { writable: !1, readable: !0 }, l(this)), s = function () { r._forward() }, a = function () { r.push(null) }; this._drained = !0, this._readable = e, this._readable2 = e._readableState ? e : (t = e, new i.Readable({ objectMode: !0, highWaterMark: 16 }).wrap(t)), this._readable2.on(\"readable\", s), this._readable2.on(\"end\", a), this._unread = function () { r._readable2.removeListener(\"readable\", s), r._readable2.removeListener(\"end\", a), n() }, this._forward() } }, f.prototype._read = function () { this._drained = !0, this._forward() }, f.prototype._forward = function () { if (!this._forwarding && this._readable2 && this._drained) { var e; for (this._forwarding = !0; this._drained && null !== (e = a(this._readable2));)this.destroyed || (this._drained = this.push(e)); this._forwarding = !1 } }, f.prototype.destroy = function (e) { if (!this.destroyed) { this.destroyed = !0; var t = this; r.nextTick(function () { t._destroy(e) }) } }, f.prototype._destroy = function (e) { if (e) { var t = this._ondrain; this._ondrain = null, t ? t(e) : this.emit(\"error\", e) } this._forwardDestroy && (this._readable && this._readable.destroy && this._readable.destroy(), this._writable && this._writable.destroy && this._writable.destroy()), this.emit(\"close\") }, f.prototype._write = function (e, t, r) { return this.destroyed ? r() : this._corked ? c(this, this._write.bind(this, e, t, r)) : e === u ? this._finish(r) : this._writable ? void (!1 === this._writable.write(e) ? this._ondrain = r : r()) : r() }, f.prototype._finish = function (e) { var t = this; this.emit(\"preend\"), c(this, function () { var r, n; r = t._forwardEnd && t._writable, n = function () { !1 === t._writableState.prefinished && (t._writableState.prefinished = !0), t.emit(\"prefinish\"), c(t, e) }, r ? r._writableState && r._writableState.finished ? n() : r._writableState ? r.end(n) : (r.end(), n()) : n() }) }, f.prototype.end = function (e, t, r) { return \"function\" == typeof e ? this.end(null, null, e) : \"function\" == typeof t ? this.end(e, null, t) : (this._ended = !0, e && this.write(e), this._writableState.ending || this.write(u), i.Writable.prototype.end.call(this, r)) }, t.exports = f }).call(this) }).call(this, e(\"_process\"), e(\"buffer\").Buffer) }, { _process: 46, buffer: 14, \"end-of-stream\": 30, inherits: 33, \"readable-stream\": 27, \"stream-shift\": 68 }], 19: [function (e, t, r) { \"use strict\"; var n = e(\"process-nextick-args\"), i = Object.keys || function (e) { var t = []; for (var r in e) t.push(r); return t }; t.exports = f; var o = Object.create(e(\"core-util-is\")); o.inherits = e(\"inherits\"); var s = e(\"./_stream_readable\"), a = e(\"./_stream_writable\"); o.inherits(f, s); for (var u = i(a.prototype), c = 0; c < u.length; c++) { var l = u[c]; f.prototype[l] || (f.prototype[l] = a.prototype[l]) } function f(e) { if (!(this instanceof f)) return new f(e); s.call(this, e), a.call(this, e), e && !1 === e.readable && (this.readable = !1), e && !1 === e.writable && (this.writable = !1), this.allowHalfOpen = !0, e && !1 === e.allowHalfOpen && (this.allowHalfOpen = !1), this.once(\"end\", h) } function h() { this.allowHalfOpen || this._writableState.ended || n.nextTick(p, this) } function p(e) { e.end() } Object.defineProperty(f.prototype, \"writableHighWaterMark\", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), Object.defineProperty(f.prototype, \"destroyed\", { get: function () { return void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed && this._writableState.destroyed) }, set: function (e) { void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = e, this._writableState.destroyed = e) } }), f.prototype._destroy = function (e, t) { this.push(null), this.end(), n.nextTick(t, e) } }, { \"./_stream_readable\": 21, \"./_stream_writable\": 23, \"core-util-is\": 15, inherits: 33, \"process-nextick-args\": 45 }], 20: [function (e, t, r) { \"use strict\"; t.exports = o; var n = e(\"./_stream_transform\"), i = Object.create(e(\"core-util-is\")); function o(e) { if (!(this instanceof o)) return new o(e); n.call(this, e) } i.inherits = e(\"inherits\"), i.inherits(o, n), o.prototype._transform = function (e, t, r) { r(null, e) } }, { \"./_stream_transform\": 22, \"core-util-is\": 15, inherits: 33 }], 21: [function (e, t, r) { (function (r, n) { (function () { \"use strict\"; var i = e(\"process-nextick-args\"); t.exports = _; var o, s = e(\"isarray\"); _.ReadableState = y; e(\"events\").EventEmitter; var a = function (e, t) { return e.listeners(t).length }, u = e(\"./internal/streams/stream\"), c = e(\"safe-buffer\").Buffer, l = n.Uint8Array || function () { }; var f = Object.create(e(\"core-util-is\")); f.inherits = e(\"inherits\"); var h = e(\"util\"), p = void 0; p = h && h.debuglog ? h.debuglog(\"stream\") : function () { }; var d, g = e(\"./internal/streams/BufferList\"), b = e(\"./internal/streams/destroy\"); f.inherits(_, u); var m = [\"error\", \"close\", \"destroy\", \"pause\", \"resume\"]; function y(t, r) { o = o || e(\"./_stream_duplex\"), t = t || {}; var n = r instanceof o; this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.readableObjectMode); var i = t.highWaterMark, s = t.readableHighWaterMark, a = this.objectMode ? 16 : 16384; this.highWaterMark = i || 0 === i ? i : n && (s || 0 === s) ? s : a, this.highWaterMark = Math.floor(this.highWaterMark), this.buffer = new g, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.destroyed = !1, this.defaultEncoding = t.defaultEncoding || \"utf8\", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, t.encoding && (d || (d = e(\"string_decoder/\").StringDecoder), this.decoder = new d(t.encoding), this.encoding = t.encoding) } function _(t) { if (o = o || e(\"./_stream_duplex\"), !(this instanceof _)) return new _(t); this._readableState = new y(t, this), this.readable = !0, t && (\"function\" == typeof t.read && (this._read = t.read), \"function\" == typeof t.destroy && (this._destroy = t.destroy)), u.call(this) } function w(e, t, r, n, i) { var o, s = e._readableState; null === t ? (s.reading = !1, function (e, t) { if (t.ended) return; if (t.decoder) { var r = t.decoder.end(); r && r.length && (t.buffer.push(r), t.length += t.objectMode ? 1 : r.length) } t.ended = !0, k(e) }(e, s)) : (i || (o = function (e, t) { var r; n = t, c.isBuffer(n) || n instanceof l || \"string\" == typeof t || void 0 === t || e.objectMode || (r = new TypeError(\"Invalid non-string/buffer chunk\")); var n; return r }(s, t)), o ? e.emit(\"error\", o) : s.objectMode || t && t.length > 0 ? (\"string\" == typeof t || s.objectMode || Object.getPrototypeOf(t) === c.prototype || (t = function (e) { return c.from(e) }(t)), n ? s.endEmitted ? e.emit(\"error\", new Error(\"stream.unshift() after end event\")) : v(e, s, t, !0) : s.ended ? e.emit(\"error\", new Error(\"stream.push() after EOF\")) : (s.reading = !1, s.decoder && !r ? (t = s.decoder.write(t), s.objectMode || 0 !== t.length ? v(e, s, t, !1) : C(e, s)) : v(e, s, t, !1))) : n || (s.reading = !1)); return function (e) { return !e.ended && (e.needReadable || e.length < e.highWaterMark || 0 === e.length) }(s) } function v(e, t, r, n) { t.flowing && 0 === t.length && !t.sync ? (e.emit(\"data\", r), e.read(0)) : (t.length += t.objectMode ? 1 : r.length, n ? t.buffer.unshift(r) : t.buffer.push(r), t.needReadable && k(e)), C(e, t) } Object.defineProperty(_.prototype, \"destroyed\", { get: function () { return void 0 !== this._readableState && this._readableState.destroyed }, set: function (e) { this._readableState && (this._readableState.destroyed = e) } }), _.prototype.destroy = b.destroy, _.prototype._undestroy = b.undestroy, _.prototype._destroy = function (e, t) { this.push(null), t(e) }, _.prototype.push = function (e, t) { var r, n = this._readableState; return n.objectMode ? r = !0 : \"string\" == typeof e && ((t = t || n.defaultEncoding) !== n.encoding && (e = c.from(e, t), t = \"\"), r = !0), w(this, e, t, !1, r) }, _.prototype.unshift = function (e) { return w(this, e, null, !0, !1) }, _.prototype.isPaused = function () { return !1 === this._readableState.flowing }, _.prototype.setEncoding = function (t) { return d || (d = e(\"string_decoder/\").StringDecoder), this._readableState.decoder = new d(t), this._readableState.encoding = t, this }; var S = 8388608; function E(e, t) { return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e != e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = function (e) { return e >= S ? e = S : (e-- , e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, e |= e >>> 16, e++), e }(e)), e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0, 0)) } function k(e) { var t = e._readableState; t.needReadable = !1, t.emittedReadable || (p(\"emitReadable\", t.flowing), t.emittedReadable = !0, t.sync ? i.nextTick(I, e) : I(e)) } function I(e) { p(\"emit readable\"), e.emit(\"readable\"), A(e) } function C(e, t) { t.readingMore || (t.readingMore = !0, i.nextTick(T, e, t)) } function T(e, t) { for (var r = t.length; !t.reading && !t.flowing && !t.ended && t.length < t.highWaterMark && (p(\"maybeReadMore read 0\"), e.read(0), r !== t.length);)r = t.length; t.readingMore = !1 } function x(e) { p(\"readable nexttick read 0\"), e.read(0) } function R(e, t) { t.reading || (p(\"resume read 0\"), e.read(0)), t.resumeScheduled = !1, t.awaitDrain = 0, e.emit(\"resume\"), A(e), t.flowing && !t.reading && e.read(0) } function A(e) { var t = e._readableState; for (p(\"flow\", t.flowing); t.flowing && null !== e.read();); } function M(e, t) { return 0 === t.length ? null : (t.objectMode ? r = t.buffer.shift() : !e || e >= t.length ? (r = t.decoder ? t.buffer.join(\"\") : 1 === t.buffer.length ? t.buffer.head.data : t.buffer.concat(t.length), t.buffer.clear()) : r = function (e, t, r) { var n; e < t.head.data.length ? (n = t.head.data.slice(0, e), t.head.data = t.head.data.slice(e)) : n = e === t.head.data.length ? t.shift() : r ? function (e, t) { var r = t.head, n = 1, i = r.data; e -= i.length; for (; r = r.next;) { var o = r.data, s = e > o.length ? o.length : e; if (s === o.length ? i += o : i += o.slice(0, e), 0 === (e -= s)) { s === o.length ? (++n, r.next ? t.head = r.next : t.head = t.tail = null) : (t.head = r, r.data = o.slice(s)); break } ++n } return t.length -= n, i }(e, t) : function (e, t) { var r = c.allocUnsafe(e), n = t.head, i = 1; n.data.copy(r), e -= n.data.length; for (; n = n.next;) { var o = n.data, s = e > o.length ? o.length : e; if (o.copy(r, r.length - e, 0, s), 0 === (e -= s)) { s === o.length ? (++i, n.next ? t.head = n.next : t.head = t.tail = null) : (t.head = n, n.data = o.slice(s)); break } ++i } return t.length -= i, r }(e, t); return n }(e, t.buffer, t.decoder), r); var r } function O(e) { var t = e._readableState; if (t.length > 0) throw new Error('\"endReadable()\" called on non-empty stream'); t.endEmitted || (t.ended = !0, i.nextTick(P, t, e)) } function P(e, t) { e.endEmitted || 0 !== e.length || (e.endEmitted = !0, t.readable = !1, t.emit(\"end\")) } function B(e, t) { for (var r = 0, n = e.length; r < n; r++)if (e[r] === t) return r; return -1 } _.prototype.read = function (e) { p(\"read\", e), e = parseInt(e, 10); var t = this._readableState, r = e; if (0 !== e && (t.emittedReadable = !1), 0 === e && t.needReadable && (t.length >= t.highWaterMark || t.ended)) return p(\"read: emitReadable\", t.length, t.ended), 0 === t.length && t.ended ? O(this) : k(this), null; if (0 === (e = E(e, t)) && t.ended) return 0 === t.length && O(this), null; var n, i = t.needReadable; return p(\"need readable\", i), (0 === t.length || t.length - e < t.highWaterMark) && p(\"length less than watermark\", i = !0), t.ended || t.reading ? p(\"reading or ended\", i = !1) : i && (p(\"do read\"), t.reading = !0, t.sync = !0, 0 === t.length && (t.needReadable = !0), this._read(t.highWaterMark), t.sync = !1, t.reading || (e = E(r, t))), null === (n = e > 0 ? M(e, t) : null) ? (t.needReadable = !0, e = 0) : t.length -= e, 0 === t.length && (t.ended || (t.needReadable = !0), r !== e && t.ended && O(this)), null !== n && this.emit(\"data\", n), n }, _.prototype._read = function (e) { this.emit(\"error\", new Error(\"_read() is not implemented\")) }, _.prototype.pipe = function (e, t) { var n = this, o = this._readableState; switch (o.pipesCount) { case 0: o.pipes = e; break; case 1: o.pipes = [o.pipes, e]; break; default: o.pipes.push(e) }o.pipesCount += 1, p(\"pipe count=%d opts=%j\", o.pipesCount, t); var u = (!t || !1 !== t.end) && e !== r.stdout && e !== r.stderr ? l : _; function c(t, r) { p(\"onunpipe\"), t === n && r && !1 === r.hasUnpiped && (r.hasUnpiped = !0, p(\"cleanup\"), e.removeListener(\"close\", m), e.removeListener(\"finish\", y), e.removeListener(\"drain\", f), e.removeListener(\"error\", b), e.removeListener(\"unpipe\", c), n.removeListener(\"end\", l), n.removeListener(\"end\", _), n.removeListener(\"data\", g), h = !0, !o.awaitDrain || e._writableState && !e._writableState.needDrain || f()) } function l() { p(\"onend\"), e.end() } o.endEmitted ? i.nextTick(u) : n.once(\"end\", u), e.on(\"unpipe\", c); var f = function (e) { return function () { var t = e._readableState; p(\"pipeOnDrain\", t.awaitDrain), t.awaitDrain && t.awaitDrain-- , 0 === t.awaitDrain && a(e, \"data\") && (t.flowing = !0, A(e)) } }(n); e.on(\"drain\", f); var h = !1; var d = !1; function g(t) { p(\"ondata\"), d = !1, !1 !== e.write(t) || d || ((1 === o.pipesCount && o.pipes === e || o.pipesCount > 1 && -1 !== B(o.pipes, e)) && !h && (p(\"false write response, pause\", n._readableState.awaitDrain), n._readableState.awaitDrain++ , d = !0), n.pause()) } function b(t) { p(\"onerror\", t), _(), e.removeListener(\"error\", b), 0 === a(e, \"error\") && e.emit(\"error\", t) } function m() { e.removeListener(\"finish\", y), _() } function y() { p(\"onfinish\"), e.removeListener(\"close\", m), _() } function _() { p(\"unpipe\"), n.unpipe(e) } return n.on(\"data\", g), function (e, t, r) { if (\"function\" == typeof e.prependListener) return e.prependListener(t, r); e._events && e._events[t] ? s(e._events[t]) ? e._events[t].unshift(r) : e._events[t] = [r, e._events[t]] : e.on(t, r) }(e, \"error\", b), e.once(\"close\", m), e.once(\"finish\", y), e.emit(\"pipe\", n), o.flowing || (p(\"pipe resume\"), n.resume()), e }, _.prototype.unpipe = function (e) { var t = this._readableState, r = { hasUnpiped: !1 }; if (0 === t.pipesCount) return this; if (1 === t.pipesCount) return e && e !== t.pipes ? this : (e || (e = t.pipes), t.pipes = null, t.pipesCount = 0, t.flowing = !1, e && e.emit(\"unpipe\", this, r), this); if (!e) { var n = t.pipes, i = t.pipesCount; t.pipes = null, t.pipesCount = 0, t.flowing = !1; for (var o = 0; o < i; o++)n[o].emit(\"unpipe\", this, r); return this } var s = B(t.pipes, e); return -1 === s ? this : (t.pipes.splice(s, 1), t.pipesCount -= 1, 1 === t.pipesCount && (t.pipes = t.pipes[0]), e.emit(\"unpipe\", this, r), this) }, _.prototype.on = function (e, t) { var r = u.prototype.on.call(this, e, t); if (\"data\" === e) !1 !== this._readableState.flowing && this.resume(); else if (\"readable\" === e) { var n = this._readableState; n.endEmitted || n.readableListening || (n.readableListening = n.needReadable = !0, n.emittedReadable = !1, n.reading ? n.length && k(this) : i.nextTick(x, this)) } return r }, _.prototype.addListener = _.prototype.on, _.prototype.resume = function () { var e = this._readableState; return e.flowing || (p(\"resume\"), e.flowing = !0, function (e, t) { t.resumeScheduled || (t.resumeScheduled = !0, i.nextTick(R, e, t)) }(this, e)), this }, _.prototype.pause = function () { return p(\"call pause flowing=%j\", this._readableState.flowing), !1 !== this._readableState.flowing && (p(\"pause\"), this._readableState.flowing = !1, this.emit(\"pause\")), this }, _.prototype.wrap = function (e) { var t = this, r = this._readableState, n = !1; for (var i in e.on(\"end\", function () { if (p(\"wrapped end\"), r.decoder && !r.ended) { var e = r.decoder.end(); e && e.length && t.push(e) } t.push(null) }), e.on(\"data\", function (i) { (p(\"wrapped data\"), r.decoder && (i = r.decoder.write(i)), !r.objectMode || null !== i && void 0 !== i) && ((r.objectMode || i && i.length) && (t.push(i) || (n = !0, e.pause()))) }), e) void 0 === this[i] && \"function\" == typeof e[i] && (this[i] = function (t) { return function () { return e[t].apply(e, arguments) } }(i)); for (var o = 0; o < m.length; o++)e.on(m[o], this.emit.bind(this, m[o])); return this._read = function (t) { p(\"wrapped _read\", t), n && (n = !1, e.resume()) }, this }, Object.defineProperty(_.prototype, \"readableHighWaterMark\", { enumerable: !1, get: function () { return this._readableState.highWaterMark } }), _._fromList = M }).call(this) }).call(this, e(\"_process\"), \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {}) }, { \"./_stream_duplex\": 19, \"./internal/streams/BufferList\": 24, \"./internal/streams/destroy\": 25, \"./internal/streams/stream\": 26, _process: 46, \"core-util-is\": 15, events: 31, inherits: 33, isarray: 35, \"process-nextick-args\": 45, \"safe-buffer\": 28, \"string_decoder/\": 29, util: 13 }], 22: [function (e, t, r) { \"use strict\"; t.exports = o; var n = e(\"./_stream_duplex\"), i = Object.create(e(\"core-util-is\")); function o(e) { if (!(this instanceof o)) return new o(e); n.call(this, e), this._transformState = { afterTransform: function (e, t) { var r = this._transformState; r.transforming = !1; var n = r.writecb; if (!n) return this.emit(\"error\", new Error(\"write callback called multiple times\")); r.writechunk = null, r.writecb = null, null != t && this.push(t), n(e); var i = this._readableState; i.reading = !1, (i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark) }.bind(this), needTransform: !1, transforming: !1, writecb: null, writechunk: null, writeencoding: null }, this._readableState.needReadable = !0, this._readableState.sync = !1, e && (\"function\" == typeof e.transform && (this._transform = e.transform), \"function\" == typeof e.flush && (this._flush = e.flush)), this.on(\"prefinish\", s) } function s() { var e = this; \"function\" == typeof this._flush ? this._flush(function (t, r) { a(e, t, r) }) : a(this, null, null) } function a(e, t, r) { if (t) return e.emit(\"error\", t); if (null != r && e.push(r), e._writableState.length) throw new Error(\"Calling transform done when ws.length != 0\"); if (e._transformState.transforming) throw new Error(\"Calling transform done when still transforming\"); return e.push(null) } i.inherits = e(\"inherits\"), i.inherits(o, n), o.prototype.push = function (e, t) { return this._transformState.needTransform = !1, n.prototype.push.call(this, e, t) }, o.prototype._transform = function (e, t, r) { throw new Error(\"_transform() is not implemented\") }, o.prototype._write = function (e, t, r) { var n = this._transformState; if (n.writecb = r, n.writechunk = e, n.writeencoding = t, !n.transforming) { var i = this._readableState; (n.needTransform || i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark) } }, o.prototype._read = function (e) { var t = this._transformState; null !== t.writechunk && t.writecb && !t.transforming ? (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform)) : t.needTransform = !0 }, o.prototype._destroy = function (e, t) { var r = this; n.prototype._destroy.call(this, e, function (e) { t(e), r.emit(\"close\") }) } }, { \"./_stream_duplex\": 19, \"core-util-is\": 15, inherits: 33 }], 23: [function (e, t, r) { (function (r, n, i) { (function () { \"use strict\"; var o = e(\"process-nextick-args\"); function s(e) { var t = this; this.next = null, this.entry = null, this.finish = function () { !function (e, t, r) { var n = e.entry; e.entry = null; for (; n;) { var i = n.callback; t.pendingcb-- , i(r), n = n.next } t.corkedRequestsFree ? t.corkedRequestsFree.next = e : t.corkedRequestsFree = e }(t, e) } } t.exports = y; var a, u = !r.browser && [\"v0.10\", \"v0.9.\"].indexOf(r.version.slice(0, 5)) > -1 ? i : o.nextTick; y.WritableState = m; var c = Object.create(e(\"core-util-is\")); c.inherits = e(\"inherits\"); var l = { deprecate: e(\"util-deprecate\") }, f = e(\"./internal/streams/stream\"), h = e(\"safe-buffer\").Buffer, p = n.Uint8Array || function () { }; var d, g = e(\"./internal/streams/destroy\"); function b() { } function m(t, r) { a = a || e(\"./_stream_duplex\"), t = t || {}; var n = r instanceof a; this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.writableObjectMode); var i = t.highWaterMark, c = t.writableHighWaterMark, l = this.objectMode ? 16 : 16384; this.highWaterMark = i || 0 === i ? i : n && (c || 0 === c) ? c : l, this.highWaterMark = Math.floor(this.highWaterMark), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1; var f = !1 === t.decodeStrings; this.decodeStrings = !f, this.defaultEncoding = t.defaultEncoding || \"utf8\", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (e) { !function (e, t) { var r = e._writableState, n = r.sync, i = r.writecb; if (function (e) { e.writing = !1, e.writecb = null, e.length -= e.writelen, e.writelen = 0 }(r), t) !function (e, t, r, n, i) { --t.pendingcb, r ? (o.nextTick(i, n), o.nextTick(k, e, t), e._writableState.errorEmitted = !0, e.emit(\"error\", n)) : (i(n), e._writableState.errorEmitted = !0, e.emit(\"error\", n), k(e, t)) }(e, r, n, t, i); else { var s = S(r); s || r.corked || r.bufferProcessing || !r.bufferedRequest || v(e, r), n ? u(w, e, r, s, i) : w(e, r, s, i) } }(r, e) }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.bufferedRequestCount = 0, this.corkedRequestsFree = new s(this) } function y(t) { if (a = a || e(\"./_stream_duplex\"), !(d.call(y, this) || this instanceof a)) return new y(t); this._writableState = new m(t, this), this.writable = !0, t && (\"function\" == typeof t.write && (this._write = t.write), \"function\" == typeof t.writev && (this._writev = t.writev), \"function\" == typeof t.destroy && (this._destroy = t.destroy), \"function\" == typeof t.final && (this._final = t.final)), f.call(this) } function _(e, t, r, n, i, o, s) { t.writelen = n, t.writecb = s, t.writing = !0, t.sync = !0, r ? e._writev(i, t.onwrite) : e._write(i, o, t.onwrite), t.sync = !1 } function w(e, t, r, n) { r || function (e, t) { 0 === t.length && t.needDrain && (t.needDrain = !1, e.emit(\"drain\")) }(e, t), t.pendingcb-- , n(), k(e, t) } function v(e, t) { t.bufferProcessing = !0; var r = t.bufferedRequest; if (e._writev && r && r.next) { var n = t.bufferedRequestCount, i = new Array(n), o = t.corkedRequestsFree; o.entry = r; for (var a = 0, u = !0; r;)i[a] = r, r.isBuf || (u = !1), r = r.next, a += 1; i.allBuffers = u, _(e, t, !0, t.length, i, \"\", o.finish), t.pendingcb++ , t.lastBufferedRequest = null, o.next ? (t.corkedRequestsFree = o.next, o.next = null) : t.corkedRequestsFree = new s(t), t.bufferedRequestCount = 0 } else { for (; r;) { var c = r.chunk, l = r.encoding, f = r.callback; if (_(e, t, !1, t.objectMode ? 1 : c.length, c, l, f), r = r.next, t.bufferedRequestCount-- , t.writing) break } null === r && (t.lastBufferedRequest = null) } t.bufferedRequest = r, t.bufferProcessing = !1 } function S(e) { return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing } function E(e, t) { e._final(function (r) { t.pendingcb-- , r && e.emit(\"error\", r), t.prefinished = !0, e.emit(\"prefinish\"), k(e, t) }) } function k(e, t) { var r = S(t); return r && (!function (e, t) { t.prefinished || t.finalCalled || (\"function\" == typeof e._final ? (t.pendingcb++ , t.finalCalled = !0, o.nextTick(E, e, t)) : (t.prefinished = !0, e.emit(\"prefinish\"))) }(e, t), 0 === t.pendingcb && (t.finished = !0, e.emit(\"finish\"))), r } c.inherits(y, f), m.prototype.getBuffer = function () { for (var e = this.bufferedRequest, t = []; e;)t.push(e), e = e.next; return t }, function () { try { Object.defineProperty(m.prototype, \"buffer\", { get: l.deprecate(function () { return this.getBuffer() }, \"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\", \"DEP0003\") }) } catch (e) { } }(), \"function\" == typeof Symbol && Symbol.hasInstance && \"function\" == typeof Function.prototype[Symbol.hasInstance] ? (d = Function.prototype[Symbol.hasInstance], Object.defineProperty(y, Symbol.hasInstance, { value: function (e) { return !!d.call(this, e) || this === y && (e && e._writableState instanceof m) } })) : d = function (e) { return e instanceof this }, y.prototype.pipe = function () { this.emit(\"error\", new Error(\"Cannot pipe, not readable\")) }, y.prototype.write = function (e, t, r) { var n, i = this._writableState, s = !1, a = !i.objectMode && (n = e, h.isBuffer(n) || n instanceof p); return a && !h.isBuffer(e) && (e = function (e) { return h.from(e) }(e)), \"function\" == typeof t && (r = t, t = null), a ? t = \"buffer\" : t || (t = i.defaultEncoding), \"function\" != typeof r && (r = b), i.ended ? function (e, t) { var r = new Error(\"write after end\"); e.emit(\"error\", r), o.nextTick(t, r) }(this, r) : (a || function (e, t, r, n) { var i = !0, s = !1; return null === r ? s = new TypeError(\"May not write null values to stream\") : \"string\" == typeof r || void 0 === r || t.objectMode || (s = new TypeError(\"Invalid non-string/buffer chunk\")), s && (e.emit(\"error\", s), o.nextTick(n, s), i = !1), i }(this, i, e, r)) && (i.pendingcb++ , s = function (e, t, r, n, i, o) { if (!r) { var s = function (e, t, r) { e.objectMode || !1 === e.decodeStrings || \"string\" != typeof t || (t = h.from(t, r)); return t }(t, n, i); n !== s && (r = !0, i = \"buffer\", n = s) } var a = t.objectMode ? 1 : n.length; t.length += a; var u = t.length < t.highWaterMark; u || (t.needDrain = !0); if (t.writing || t.corked) { var c = t.lastBufferedRequest; t.lastBufferedRequest = { chunk: n, encoding: i, isBuf: r, callback: o, next: null }, c ? c.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest, t.bufferedRequestCount += 1 } else _(e, t, !1, a, n, i, o); return u }(this, i, a, e, t, r)), s }, y.prototype.cork = function () { this._writableState.corked++ }, y.prototype.uncork = function () { var e = this._writableState; e.corked && (e.corked-- , e.writing || e.corked || e.finished || e.bufferProcessing || !e.bufferedRequest || v(this, e)) }, y.prototype.setDefaultEncoding = function (e) { if (\"string\" == typeof e && (e = e.toLowerCase()), !([\"hex\", \"utf8\", \"utf-8\", \"ascii\", \"binary\", \"base64\", \"ucs2\", \"ucs-2\", \"utf16le\", \"utf-16le\", \"raw\"].indexOf((e + \"\").toLowerCase()) > -1)) throw new TypeError(\"Unknown encoding: \" + e); return this._writableState.defaultEncoding = e, this }, Object.defineProperty(y.prototype, \"writableHighWaterMark\", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), y.prototype._write = function (e, t, r) { r(new Error(\"_write() is not implemented\")) }, y.prototype._writev = null, y.prototype.end = function (e, t, r) { var n = this._writableState; \"function\" == typeof e ? (r = e, e = null, t = null) : \"function\" == typeof t && (r = t, t = null), null !== e && void 0 !== e && this.write(e, t), n.corked && (n.corked = 1, this.uncork()), n.ending || n.finished || function (e, t, r) { t.ending = !0, k(e, t), r && (t.finished ? o.nextTick(r) : e.once(\"finish\", r)); t.ended = !0, e.writable = !1 }(this, n, r) }, Object.defineProperty(y.prototype, \"destroyed\", { get: function () { return void 0 !== this._writableState && this._writableState.destroyed }, set: function (e) { this._writableState && (this._writableState.destroyed = e) } }), y.prototype.destroy = g.destroy, y.prototype._undestroy = g.undestroy, y.prototype._destroy = function (e, t) { this.end(), t(e) } }).call(this) }).call(this, e(\"_process\"), \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {}, e(\"timers\").setImmediate) }, { \"./_stream_duplex\": 19, \"./internal/streams/destroy\": 25, \"./internal/streams/stream\": 26, _process: 46, \"core-util-is\": 15, inherits: 33, \"process-nextick-args\": 45, \"safe-buffer\": 28, timers: 70, \"util-deprecate\": 73 }], 24: [function (e, t, r) { \"use strict\"; var n = e(\"safe-buffer\").Buffer, i = e(\"util\"); t.exports = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\") }(this, e), this.head = null, this.tail = null, this.length = 0 } return e.prototype.push = function (e) { var t = { data: e, next: null }; this.length > 0 ? this.tail.next = t : this.head = t, this.tail = t, ++this.length }, e.prototype.unshift = function (e) { var t = { data: e, next: this.head }; 0 === this.length && (this.tail = t), this.head = t, ++this.length }, e.prototype.shift = function () { if (0 !== this.length) { var e = this.head.data; return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, e } }, e.prototype.clear = function () { this.head = this.tail = null, this.length = 0 }, e.prototype.join = function (e) { if (0 === this.length) return \"\"; for (var t = this.head, r = \"\" + t.data; t = t.next;)r += e + t.data; return r }, e.prototype.concat = function (e) { if (0 === this.length) return n.alloc(0); if (1 === this.length) return this.head.data; for (var t, r, i, o = n.allocUnsafe(e >>> 0), s = this.head, a = 0; s;)t = s.data, r = o, i = a, t.copy(r, i), a += s.data.length, s = s.next; return o }, e }(), i && i.inspect && i.inspect.custom && (t.exports.prototype[i.inspect.custom] = function () { var e = i.inspect({ length: this.length }); return this.constructor.name + \" \" + e }) }, { \"safe-buffer\": 28, util: 13 }], 25: [function (e, t, r) { \"use strict\"; var n = e(\"process-nextick-args\"); function i(e, t) { e.emit(\"error\", t) } t.exports = { destroy: function (e, t) { var r = this, o = this._readableState && this._readableState.destroyed, s = this._writableState && this._writableState.destroyed; return o || s ? (t ? t(e) : !e || this._writableState && this._writableState.errorEmitted || n.nextTick(i, this, e), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(e || null, function (e) { !t && e ? (n.nextTick(i, r, e), r._writableState && (r._writableState.errorEmitted = !0)) : t && t(e) }), this) }, undestroy: function () { this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1) } } }, { \"process-nextick-args\": 45 }], 26: [function (e, t, r) { t.exports = e(\"events\").EventEmitter }, { events: 31 }], 27: [function (e, t, r) { (r = t.exports = e(\"./lib/_stream_readable.js\")).Stream = r, r.Readable = r, r.Writable = e(\"./lib/_stream_writable.js\"), r.Duplex = e(\"./lib/_stream_duplex.js\"), r.Transform = e(\"./lib/_stream_transform.js\"), r.PassThrough = e(\"./lib/_stream_passthrough.js\") }, { \"./lib/_stream_duplex.js\": 19, \"./lib/_stream_passthrough.js\": 20, \"./lib/_stream_readable.js\": 21, \"./lib/_stream_transform.js\": 22, \"./lib/_stream_writable.js\": 23 }], 28: [function (e, t, r) { var n = e(\"buffer\"), i = n.Buffer; function o(e, t) { for (var r in e) t[r] = e[r] } function s(e, t, r) { return i(e, t, r) } i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? t.exports = n : (o(n, r), r.Buffer = s), o(i, s), s.from = function (e, t, r) { if (\"number\" == typeof e) throw new TypeError(\"Argument must not be a number\"); return i(e, t, r) }, s.alloc = function (e, t, r) { if (\"number\" != typeof e) throw new TypeError(\"Argument must be a number\"); var n = i(e); return void 0 !== t ? \"string\" == typeof r ? n.fill(t, r) : n.fill(t) : n.fill(0), n }, s.allocUnsafe = function (e) { if (\"number\" != typeof e) throw new TypeError(\"Argument must be a number\"); return i(e) }, s.allocUnsafeSlow = function (e) { if (\"number\" != typeof e) throw new TypeError(\"Argument must be a number\"); return n.SlowBuffer(e) } }, { buffer: 14 }], 29: [function (e, t, r) { \"use strict\"; var n = e(\"safe-buffer\").Buffer, i = n.isEncoding || function (e) { switch ((e = \"\" + e) && e.toLowerCase()) { case \"hex\": case \"utf8\": case \"utf-8\": case \"ascii\": case \"binary\": case \"base64\": case \"ucs2\": case \"ucs-2\": case \"utf16le\": case \"utf-16le\": case \"raw\": return !0; default: return !1 } }; function o(e) { var t; switch (this.encoding = function (e) { var t = function (e) { if (!e) return \"utf8\"; for (var t; ;)switch (e) { case \"utf8\": case \"utf-8\": return \"utf8\"; case \"ucs2\": case \"ucs-2\": case \"utf16le\": case \"utf-16le\": return \"utf16le\"; case \"latin1\": case \"binary\": return \"latin1\"; case \"base64\": case \"ascii\": case \"hex\": return e; default: if (t) return; e = (\"\" + e).toLowerCase(), t = !0 } }(e); if (\"string\" != typeof t && (n.isEncoding === i || !i(e))) throw new Error(\"Unknown encoding: \" + e); return t || e }(e), this.encoding) { case \"utf16le\": this.text = u, this.end = c, t = 4; break; case \"utf8\": this.fillLast = a, t = 4; break; case \"base64\": this.text = l, this.end = f, t = 3; break; default: return this.write = h, void (this.end = p) }this.lastNeed = 0, this.lastTotal = 0, this.lastChar = n.allocUnsafe(t) } function s(e) { return e <= 127 ? 0 : e >> 5 == 6 ? 2 : e >> 4 == 14 ? 3 : e >> 3 == 30 ? 4 : e >> 6 == 2 ? -1 : -2 } function a(e) { var t = this.lastTotal - this.lastNeed, r = function (e, t, r) { if (128 != (192 & t[0])) return e.lastNeed = 0, \"\"; if (e.lastNeed > 1 && t.length > 1) { if (128 != (192 & t[1])) return e.lastNeed = 1, \"\"; if (e.lastNeed > 2 && t.length > 2 && 128 != (192 & t[2])) return e.lastNeed = 2, \"\" } }(this, e); return void 0 !== r ? r : this.lastNeed <= e.length ? (e.copy(this.lastChar, t, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (e.copy(this.lastChar, t, 0, e.length), void (this.lastNeed -= e.length)) } function u(e, t) { if ((e.length - t) % 2 == 0) { var r = e.toString(\"utf16le\", t); if (r) { var n = r.charCodeAt(r.length - 1); if (n >= 55296 && n <= 56319) return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = e[e.length - 2], this.lastChar[1] = e[e.length - 1], r.slice(0, -1) } return r } return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = e[e.length - 1], e.toString(\"utf16le\", t, e.length - 1) } function c(e) { var t = e && e.length ? this.write(e) : \"\"; if (this.lastNeed) { var r = this.lastTotal - this.lastNeed; return t + this.lastChar.toString(\"utf16le\", 0, r) } return t } function l(e, t) { var r = (e.length - t) % 3; return 0 === r ? e.toString(\"base64\", t) : (this.lastNeed = 3 - r, this.lastTotal = 3, 1 === r ? this.lastChar[0] = e[e.length - 1] : (this.lastChar[0] = e[e.length - 2], this.lastChar[1] = e[e.length - 1]), e.toString(\"base64\", t, e.length - r)) } function f(e) { var t = e && e.length ? this.write(e) : \"\"; return this.lastNeed ? t + this.lastChar.toString(\"base64\", 0, 3 - this.lastNeed) : t } function h(e) { return e.toString(this.encoding) } function p(e) { return e && e.length ? this.write(e) : \"\" } r.StringDecoder = o, o.prototype.write = function (e) { if (0 === e.length) return \"\"; var t, r; if (this.lastNeed) { if (void 0 === (t = this.fillLast(e))) return \"\"; r = this.lastNeed, this.lastNeed = 0 } else r = 0; return r < e.length ? t ? t + this.text(e, r) : this.text(e, r) : t || \"\" }, o.prototype.end = function (e) { var t = e && e.length ? this.write(e) : \"\"; return this.lastNeed ? t + \"\" : t }, o.prototype.text = function (e, t) { var r = function (e, t, r) { var n = t.length - 1; if (n < r) return 0; var i = s(t[n]); if (i >= 0) return i > 0 && (e.lastNeed = i - 1), i; if (--n < r || -2 === i) return 0; if ((i = s(t[n])) >= 0) return i > 0 && (e.lastNeed = i - 2), i; if (--n < r || -2 === i) return 0; if ((i = s(t[n])) >= 0) return i > 0 && (2 === i ? i = 0 : e.lastNeed = i - 3), i; return 0 }(this, e, t); if (!this.lastNeed) return e.toString(\"utf8\", t); this.lastTotal = r; var n = e.length - (r - this.lastNeed); return e.copy(this.lastChar, 0, n), e.toString(\"utf8\", t, n) }, o.prototype.fillLast = function (e) { if (this.lastNeed <= e.length) return e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal); e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e.length), this.lastNeed -= e.length } }, { \"safe-buffer\": 28 }], 30: [function (e, t, r) { (function (r) { (function () { var n = e(\"once\"), i = function () { }, o = function (e, t, s) { if (\"function\" == typeof t) return o(e, null, t); t || (t = {}), s = n(s || i); var a = e._writableState, u = e._readableState, c = t.readable || !1 !== t.readable && e.readable, l = t.writable || !1 !== t.writable && e.writable, f = !1, h = function () { e.writable || p() }, p = function () { l = !1, c || s.call(e) }, d = function () { c = !1, l || s.call(e) }, g = function (t) { s.call(e, t ? new Error(\"exited with error code: \" + t) : null) }, b = function (t) { s.call(e, t) }, m = function () { r.nextTick(y) }, y = function () { if (!f) return (!c || u && u.ended && !u.destroyed) && (!l || a && a.ended && !a.destroyed) ? void 0 : s.call(e, new Error(\"premature close\")) }, _ = function () { e.req.on(\"finish\", p) }; return !function (e) { return e.setHeader && \"function\" == typeof e.abort }(e) ? l && !a && (e.on(\"end\", h), e.on(\"close\", h)) : (e.on(\"complete\", p), e.on(\"abort\", m), e.req ? _() : e.on(\"request\", _)), function (e) { return e.stdio && Array.isArray(e.stdio) && 3 === e.stdio.length }(e) && e.on(\"exit\", g), e.on(\"end\", d), e.on(\"finish\", p), !1 !== t.error && e.on(\"error\", b), e.on(\"close\", m), function () { f = !0, e.removeListener(\"complete\", p), e.removeListener(\"abort\", m), e.removeListener(\"request\", _), e.req && e.req.removeListener(\"finish\", p), e.removeListener(\"end\", h), e.removeListener(\"close\", h), e.removeListener(\"finish\", p), e.removeListener(\"exit\", g), e.removeListener(\"end\", d), e.removeListener(\"error\", b), e.removeListener(\"close\", m) } }; t.exports = o }).call(this) }).call(this, e(\"_process\")) }, { _process: 46, once: 44 }], 31: [function (e, t, r) { var n = Object.create || function (e) { var t = function () { }; return t.prototype = e, new t }, i = Object.keys || function (e) { var t = []; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.push(r); return r }, o = Function.prototype.bind || function (e) { var t = this; return function () { return t.apply(e, arguments) } }; function s() { this._events && Object.prototype.hasOwnProperty.call(this, \"_events\") || (this._events = n(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0 } t.exports = s, s.EventEmitter = s, s.prototype._events = void 0, s.prototype._maxListeners = void 0; var a, u = 10; try { var c = {}; Object.defineProperty && Object.defineProperty(c, \"x\", { value: 0 }), a = 0 === c.x } catch (e) { a = !1 } function l(e) { return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners } function f(e, t, r, i) { var o, s, a; if (\"function\" != typeof r) throw new TypeError('\"listener\" argument must be a function'); if ((s = e._events) ? (s.newListener && (e.emit(\"newListener\", t, r.listener ? r.listener : r), s = e._events), a = s[t]) : (s = e._events = n(null), e._eventsCount = 0), a) { if (\"function\" == typeof a ? a = s[t] = i ? [r, a] : [a, r] : i ? a.unshift(r) : a.push(r), !a.warned && (o = l(e)) && o > 0 && a.length > o) { a.warned = !0; var u = new Error(\"Possible EventEmitter memory leak detected. \" + a.length + ' \"' + String(t) + '\" listeners added. Use emitter.setMaxListeners() to increase limit.'); u.name = \"MaxListenersExceededWarning\", u.emitter = e, u.type = t, u.count = a.length, \"object\" == typeof console && console.warn && console.warn(\"%s: %s\", u.name, u.message) } } else a = s[t] = r, ++e._eventsCount; return e } function h() { if (!this.fired) switch (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length) { case 0: return this.listener.call(this.target); case 1: return this.listener.call(this.target, arguments[0]); case 2: return this.listener.call(this.target, arguments[0], arguments[1]); case 3: return this.listener.call(this.target, arguments[0], arguments[1], arguments[2]); default: for (var e = new Array(arguments.length), t = 0; t < e.length; ++t)e[t] = arguments[t]; this.listener.apply(this.target, e) } } function p(e, t, r) { var n = { fired: !1, wrapFn: void 0, target: e, type: t, listener: r }, i = o.call(h, n); return i.listener = r, n.wrapFn = i, i } function d(e, t, r) { var n = e._events; if (!n) return []; var i = n[t]; return i ? \"function\" == typeof i ? r ? [i.listener || i] : [i] : r ? function (e) { for (var t = new Array(e.length), r = 0; r < t.length; ++r)t[r] = e[r].listener || e[r]; return t }(i) : b(i, i.length) : [] } function g(e) { var t = this._events; if (t) { var r = t[e]; if (\"function\" == typeof r) return 1; if (r) return r.length } return 0 } function b(e, t) { for (var r = new Array(t), n = 0; n < t; ++n)r[n] = e[n]; return r } a ? Object.defineProperty(s, \"defaultMaxListeners\", { enumerable: !0, get: function () { return u }, set: function (e) { if (\"number\" != typeof e || e < 0 || e != e) throw new TypeError('\"defaultMaxListeners\" must be a positive number'); u = e } }) : s.defaultMaxListeners = u, s.prototype.setMaxListeners = function (e) { if (\"number\" != typeof e || e < 0 || isNaN(e)) throw new TypeError('\"n\" argument must be a positive number'); return this._maxListeners = e, this }, s.prototype.getMaxListeners = function () { return l(this) }, s.prototype.emit = function (e) { var t, r, n, i, o, s, a = \"error\" === e; if (s = this._events) a = a && null == s.error; else if (!a) return !1; if (a) { if (arguments.length > 1 && (t = arguments[1]), t instanceof Error) throw t; var u = new Error('Unhandled \"error\" event. (' + t + \")\"); throw u.context = t, u } if (!(r = s[e])) return !1; var c = \"function\" == typeof r; switch (n = arguments.length) { case 1: !function (e, t, r) { if (t) e.call(r); else for (var n = e.length, i = b(e, n), o = 0; o < n; ++o)i[o].call(r) }(r, c, this); break; case 2: !function (e, t, r, n) { if (t) e.call(r, n); else for (var i = e.length, o = b(e, i), s = 0; s < i; ++s)o[s].call(r, n) }(r, c, this, arguments[1]); break; case 3: !function (e, t, r, n, i) { if (t) e.call(r, n, i); else for (var o = e.length, s = b(e, o), a = 0; a < o; ++a)s[a].call(r, n, i) }(r, c, this, arguments[1], arguments[2]); break; case 4: !function (e, t, r, n, i, o) { if (t) e.call(r, n, i, o); else for (var s = e.length, a = b(e, s), u = 0; u < s; ++u)a[u].call(r, n, i, o) }(r, c, this, arguments[1], arguments[2], arguments[3]); break; default: for (i = new Array(n - 1), o = 1; o < n; o++)i[o - 1] = arguments[o]; !function (e, t, r, n) { if (t) e.apply(r, n); else for (var i = e.length, o = b(e, i), s = 0; s < i; ++s)o[s].apply(r, n) }(r, c, this, i) }return !0 }, s.prototype.addListener = function (e, t) { return f(this, e, t, !1) }, s.prototype.on = s.prototype.addListener, s.prototype.prependListener = function (e, t) { return f(this, e, t, !0) }, s.prototype.once = function (e, t) { if (\"function\" != typeof t) throw new TypeError('\"listener\" argument must be a function'); return this.on(e, p(this, e, t)), this }, s.prototype.prependOnceListener = function (e, t) { if (\"function\" != typeof t) throw new TypeError('\"listener\" argument must be a function'); return this.prependListener(e, p(this, e, t)), this }, s.prototype.removeListener = function (e, t) { var r, i, o, s, a; if (\"function\" != typeof t) throw new TypeError('\"listener\" argument must be a function'); if (!(i = this._events)) return this; if (!(r = i[e])) return this; if (r === t || r.listener === t) 0 == --this._eventsCount ? this._events = n(null) : (delete i[e], i.removeListener && this.emit(\"removeListener\", e, r.listener || t)); else if (\"function\" != typeof r) { for (o = -1, s = r.length - 1; s >= 0; s--)if (r[s] === t || r[s].listener === t) { a = r[s].listener, o = s; break } if (o < 0) return this; 0 === o ? r.shift() : function (e, t) { for (var r = t, n = r + 1, i = e.length; n < i; r += 1, n += 1)e[r] = e[n]; e.pop() }(r, o), 1 === r.length && (i[e] = r[0]), i.removeListener && this.emit(\"removeListener\", e, a || t) } return this }, s.prototype.removeAllListeners = function (e) { var t, r, o; if (!(r = this._events)) return this; if (!r.removeListener) return 0 === arguments.length ? (this._events = n(null), this._eventsCount = 0) : r[e] && (0 == --this._eventsCount ? this._events = n(null) : delete r[e]), this; if (0 === arguments.length) { var s, a = i(r); for (o = 0; o < a.length; ++o)\"removeListener\" !== (s = a[o]) && this.removeAllListeners(s); return this.removeAllListeners(\"removeListener\"), this._events = n(null), this._eventsCount = 0, this } if (\"function\" == typeof (t = r[e])) this.removeListener(e, t); else if (t) for (o = t.length - 1; o >= 0; o--)this.removeListener(e, t[o]); return this }, s.prototype.listeners = function (e) { return d(this, e, !0) }, s.prototype.rawListeners = function (e) { return d(this, e, !1) }, s.listenerCount = function (e, t) { return \"function\" == typeof e.listenerCount ? e.listenerCount(t) : g.call(e, t) }, s.prototype.listenerCount = g, s.prototype.eventNames = function () { return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [] } }, {}], 32: [function (e, t, r) { r.read = function (e, t, r, n, i) { var o, s, a = 8 * i - n - 1, u = (1 << a) - 1, c = u >> 1, l = -7, f = r ? i - 1 : 0, h = r ? -1 : 1, p = e[t + f]; for (f += h, o = p & (1 << -l) - 1, p >>= -l, l += a; l > 0; o = 256 * o + e[t + f], f += h, l -= 8); for (s = o & (1 << -l) - 1, o >>= -l, l += n; l > 0; s = 256 * s + e[t + f], f += h, l -= 8); if (0 === o) o = 1 - c; else { if (o === u) return s ? NaN : 1 / 0 * (p ? -1 : 1); s += Math.pow(2, n), o -= c } return (p ? -1 : 1) * s * Math.pow(2, o - n) }, r.write = function (e, t, r, n, i, o) { var s, a, u, c = 8 * o - i - 1, l = (1 << c) - 1, f = l >> 1, h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = n ? 0 : o - 1, d = n ? 1 : -1, g = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (a = isNaN(t) ? 1 : 0, s = l) : (s = Math.floor(Math.log(t) / Math.LN2), t * (u = Math.pow(2, -s)) < 1 && (s-- , u *= 2), (t += s + f >= 1 ? h / u : h * Math.pow(2, 1 - f)) * u >= 2 && (s++ , u /= 2), s + f >= l ? (a = 0, s = l) : s + f >= 1 ? (a = (t * u - 1) * Math.pow(2, i), s += f) : (a = t * Math.pow(2, f - 1) * Math.pow(2, i), s = 0)); i >= 8; e[r + p] = 255 & a, p += d, a /= 256, i -= 8); for (s = s << i | a, c += i; c > 0; e[r + p] = 255 & s, p += d, s /= 256, c -= 8); e[r + p - d] |= 128 * g } }, {}], 33: [function (e, t, r) { \"function\" == typeof Object.create ? t.exports = function (e, t) { t && (e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } })) } : t.exports = function (e, t) { if (t) { e.super_ = t; var r = function () { }; r.prototype = t.prototype, e.prototype = new r, e.prototype.constructor = e } } }, {}], 34: [function (e, t, r) { function n(e) { return !!e.constructor && \"function\" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e) } t.exports = function (e) { return null != e && (n(e) || function (e) { return \"function\" == typeof e.readFloatLE && \"function\" == typeof e.slice && n(e.slice(0, 0)) }(e) || !!e._isBuffer) } }, {}], 35: [function (e, t, r) { var n = {}.toString; t.exports = Array.isArray || function (e) { return \"[object Array]\" == n.call(e) } }, {}], 36: [function (e, t, r) { (function (e) { (function () { const r = t.exports; r.types = { 0: \"reserved\", 1: \"connect\", 2: \"connack\", 3: \"publish\", 4: \"puback\", 5: \"pubrec\", 6: \"pubrel\", 7: \"pubcomp\", 8: \"subscribe\", 9: \"suback\", 10: \"unsubscribe\", 11: \"unsuback\", 12: \"pingreq\", 13: \"pingresp\", 14: \"disconnect\", 15: \"auth\" }, r.codes = {}; for (const e in r.types) { const t = r.types[e]; r.codes[t] = e } r.CMD_SHIFT = 4, r.CMD_MASK = 240, r.DUP_MASK = 8, r.QOS_MASK = 3, r.QOS_SHIFT = 1, r.RETAIN_MASK = 1, r.VARBYTEINT_MASK = 127, r.VARBYTEINT_FIN_MASK = 128, r.VARBYTEINT_MAX = 268435455, r.SESSIONPRESENT_MASK = 1, r.SESSIONPRESENT_HEADER = e.from([r.SESSIONPRESENT_MASK]), r.CONNACK_HEADER = e.from([r.codes.connack << r.CMD_SHIFT]), r.USERNAME_MASK = 128, r.PASSWORD_MASK = 64, r.WILL_RETAIN_MASK = 32, r.WILL_QOS_MASK = 24, r.WILL_QOS_SHIFT = 3, r.WILL_FLAG_MASK = 4, r.CLEAN_SESSION_MASK = 2, r.CONNECT_HEADER = e.from([r.codes.connect << r.CMD_SHIFT]), r.properties = { sessionExpiryInterval: 17, willDelayInterval: 24, receiveMaximum: 33, maximumPacketSize: 39, topicAliasMaximum: 34, requestResponseInformation: 25, requestProblemInformation: 23, userProperties: 38, authenticationMethod: 21, authenticationData: 22, payloadFormatIndicator: 1, messageExpiryInterval: 2, contentType: 3, responseTopic: 8, correlationData: 9, maximumQoS: 36, retainAvailable: 37, assignedClientIdentifier: 18, reasonString: 31, wildcardSubscriptionAvailable: 40, subscriptionIdentifiersAvailable: 41, sharedSubscriptionAvailable: 42, serverKeepAlive: 19, responseInformation: 26, serverReference: 28, topicAlias: 35, subscriptionIdentifier: 11 }, r.propertiesCodes = {}; for (const e in r.properties) { const t = r.properties[e]; r.propertiesCodes[t] = e } function n(t) { return [0, 1, 2].map(n => [0, 1].map(i => [0, 1].map(o => { const s = e.alloc(1); return s.writeUInt8(r.codes[t] << r.CMD_SHIFT | (i ? r.DUP_MASK : 0) | n << r.QOS_SHIFT | o, 0, !0), s }))) } r.propertiesTypes = { sessionExpiryInterval: \"int32\", willDelayInterval: \"int32\", receiveMaximum: \"int16\", maximumPacketSize: \"int32\", topicAliasMaximum: \"int16\", requestResponseInformation: \"byte\", requestProblemInformation: \"byte\", userProperties: \"pair\", authenticationMethod: \"string\", authenticationData: \"binary\", payloadFormatIndicator: \"byte\", messageExpiryInterval: \"int32\", contentType: \"string\", responseTopic: \"string\", correlationData: \"binary\", maximumQoS: \"int8\", retainAvailable: \"byte\", assignedClientIdentifier: \"string\", reasonString: \"string\", wildcardSubscriptionAvailable: \"byte\", subscriptionIdentifiersAvailable: \"byte\", sharedSubscriptionAvailable: \"byte\", serverKeepAlive: \"int16\", responseInformation: \"string\", serverReference: \"string\", topicAlias: \"int16\", subscriptionIdentifier: \"var\" }, r.PUBLISH_HEADER = n(\"publish\"), r.SUBSCRIBE_HEADER = n(\"subscribe\"), r.SUBSCRIBE_OPTIONS_QOS_MASK = 3, r.SUBSCRIBE_OPTIONS_NL_MASK = 1, r.SUBSCRIBE_OPTIONS_NL_SHIFT = 2, r.SUBSCRIBE_OPTIONS_RAP_MASK = 1, r.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3, r.SUBSCRIBE_OPTIONS_RH_MASK = 3, r.SUBSCRIBE_OPTIONS_RH_SHIFT = 4, r.SUBSCRIBE_OPTIONS_RH = [0, 16, 32], r.SUBSCRIBE_OPTIONS_NL = 4, r.SUBSCRIBE_OPTIONS_RAP = 8, r.SUBSCRIBE_OPTIONS_QOS = [0, 1, 2], r.UNSUBSCRIBE_HEADER = n(\"unsubscribe\"), r.ACKS = { unsuback: n(\"unsuback\"), puback: n(\"puback\"), pubcomp: n(\"pubcomp\"), pubrel: n(\"pubrel\"), pubrec: n(\"pubrec\") }, r.SUBACK_HEADER = e.from([r.codes.suback << r.CMD_SHIFT]), r.VERSION3 = e.from([3]), r.VERSION4 = e.from([4]), r.VERSION5 = e.from([5]), r.QOS = [0, 1, 2].map(t => e.from([t])), r.EMPTY = { pingreq: e.from([r.codes.pingreq << 4, 0]), pingresp: e.from([r.codes.pingresp << 4, 0]), disconnect: e.from([r.codes.disconnect << 4, 0]) } }).call(this) }).call(this, e(\"buffer\").Buffer) }, { buffer: 14 }], 37: [function (e, t, r) { (function (r) { (function () { const n = e(\"./writeToStream\"), i = e(\"events\"); class o extends i { constructor() { super(), this._array = new Array(20), this._i = 0 } write(e) { return this._array[this._i++] = e, !0 } concat() { let e = 0; const t = new Array(this._array.length), n = this._array; let i, o = 0; for (i = 0; i < n.length && void 0 !== n[i]; i++)\"string\" != typeof n[i] ? t[i] = n[i].length : t[i] = r.byteLength(n[i]), e += t[i]; const s = r.allocUnsafe(e); for (i = 0; i < n.length && void 0 !== n[i]; i++)\"string\" != typeof n[i] ? (n[i].copy(s, o), o += t[i]) : (s.write(n[i], o), o += t[i]); return s } } t.exports = function (e, t) { const r = new o; return n(e, r, t), r.concat() } }).call(this) }).call(this, e(\"buffer\").Buffer) }, { \"./writeToStream\": 42, buffer: 14, events: 31 }], 38: [function (e, t, r) { r.parser = e(\"./parser\").parser, r.generate = e(\"./generate\"), r.writeToStream = e(\"./writeToStream\") }, { \"./generate\": 37, \"./parser\": 41, \"./writeToStream\": 42 }], 39: [function (e, t, r) { (function (e) { (function () { const r = 65536, n = {}, i = e.isBuffer(e.from([1, 2]).subarray(0, 1)); function o(t) { const r = e.allocUnsafe(2); return r.writeUInt8(t >> 8, 0), r.writeUInt8(255 & t, 1), r } t.exports = { cache: n, generateCache: function () { for (let e = 0; e < r; e++)n[e] = o(e) }, generateNumber: o, genBufVariableByteInt: function (t) { let r = 0, n = 0; const o = e.allocUnsafe(4); do { r = t % 128 | 0, (t = t / 128 | 0) > 0 && (r |= 128), o.writeUInt8(r, n++) } while (t > 0 && n < 4); return t > 0 && (n = 0), i ? o.subarray(0, n) : o.slice(0, n) }, generate4ByteBuffer: function (t) { const r = e.allocUnsafe(4); return r.writeUInt32BE(t, 0), r } } }).call(this) }).call(this, e(\"buffer\").Buffer) }, { buffer: 14 }], 40: [function (e, t, r) { t.exports = class { constructor() { this.cmd = null, this.retain = !1, this.qos = 0, this.dup = !1, this.length = -1, this.topic = null, this.payload = null } } }, {}], 41: [function (e, t, r) { const n = e(\"bl\"), i = e(\"events\"), o = e(\"./packet\"), s = e(\"./constants\"), a = e(\"debug\")(\"mqtt-packet:parser\"); class u extends i { constructor() { super(), this.parser = this.constructor.parser } static parser(e) { return this instanceof u ? (this.settings = e || {}, this._states = [\"_parseHeader\", \"_parseLength\", \"_parsePayload\", \"_newPacket\"], this._resetState(), this) : (new u).parser(e) } _resetState() { a(\"_resetState: resetting packet, error, _list, and _stateCounter\"), this.packet = new o, this.error = null, this._list = n(), this._stateCounter = 0 } parse(e) { for (this.error && this._resetState(), this._list.append(e), a(\"parse: current state: %s\", this._states[this._stateCounter]); (-1 !== this.packet.length || this._list.length > 0) && this[this._states[this._stateCounter]]() && !this.error;)this._stateCounter++ , a(\"parse: state complete. _stateCounter is now: %d\", this._stateCounter), a(\"parse: packet.length: %d, buffer list length: %d\", this.packet.length, this._list.length), this._stateCounter >= this._states.length && (this._stateCounter = 0); return a(\"parse: exited while loop. packet: %d, buffer list length: %d\", this.packet.length, this._list.length), this._list.length } _parseHeader() { const e = this._list.readUInt8(0); return this.packet.cmd = s.types[e >> s.CMD_SHIFT], this.packet.retain = 0 != (e & s.RETAIN_MASK), this.packet.qos = e >> s.QOS_SHIFT & s.QOS_MASK, this.packet.dup = 0 != (e & s.DUP_MASK), a(\"_parseHeader: packet: %o\", this.packet), this._list.consume(1), !0 } _parseLength() { const e = this._parseVarByteNum(!0); return e && (this.packet.length = e.value, this._list.consume(e.bytes)), a(\"_parseLength %d\", e.value), !!e } _parsePayload() { a(\"_parsePayload: payload %O\", this._list); let e = !1; if (0 === this.packet.length || this._list.length >= this.packet.length) { switch (this._pos = 0, this.packet.cmd) { case \"connect\": this._parseConnect(); break; case \"connack\": this._parseConnack(); break; case \"publish\": this._parsePublish(); break; case \"puback\": case \"pubrec\": case \"pubrel\": case \"pubcomp\": this._parseConfirmation(); break; case \"subscribe\": this._parseSubscribe(); break; case \"suback\": this._parseSuback(); break; case \"unsubscribe\": this._parseUnsubscribe(); break; case \"unsuback\": this._parseUnsuback(); break; case \"pingreq\": case \"pingresp\": break; case \"disconnect\": this._parseDisconnect(); break; case \"auth\": this._parseAuth(); break; default: this._emitError(new Error(\"Not supported\")) }e = !0 } return a(\"_parsePayload complete result: %s\", e), e } _parseConnect() { let e, t, r, n; a(\"_parseConnect\"); const i = {}, o = this.packet, u = this._parseString(); if (null === u) return this._emitError(new Error(\"Cannot parse protocolId\")); if (\"MQTT\" !== u && \"MQIsdp\" !== u) return this._emitError(new Error(\"Invalid protocolId\")); if (o.protocolId = u, this._pos >= this._list.length) return this._emitError(new Error(\"Packet too short\")); if (o.protocolVersion = this._list.readUInt8(this._pos), 3 !== o.protocolVersion && 4 !== o.protocolVersion && 5 !== o.protocolVersion) return this._emitError(new Error(\"Invalid protocol version\")); if (this._pos++ , this._pos >= this._list.length) return this._emitError(new Error(\"Packet too short\")); if (i.username = this._list.readUInt8(this._pos) & s.USERNAME_MASK, i.password = this._list.readUInt8(this._pos) & s.PASSWORD_MASK, i.will = this._list.readUInt8(this._pos) & s.WILL_FLAG_MASK, i.will && (o.will = {}, o.will.retain = 0 != (this._list.readUInt8(this._pos) & s.WILL_RETAIN_MASK), o.will.qos = (this._list.readUInt8(this._pos) & s.WILL_QOS_MASK) >> s.WILL_QOS_SHIFT), o.clean = 0 != (this._list.readUInt8(this._pos) & s.CLEAN_SESSION_MASK), this._pos++ , o.keepalive = this._parseNum(), -1 === o.keepalive) return this._emitError(new Error(\"Packet too short\")); if (5 === o.protocolVersion) { const e = this._parseProperties(); Object.getOwnPropertyNames(e).length && (o.properties = e) } const c = this._parseString(); if (null === c) return this._emitError(new Error(\"Packet too short\")); if (o.clientId = c, a(\"_parseConnect: packet.clientId: %s\", o.clientId), i.will) { if (5 === o.protocolVersion) { const e = this._parseProperties(); Object.getOwnPropertyNames(e).length && (o.will.properties = e) } if (null === (e = this._parseString())) return this._emitError(new Error(\"Cannot parse will topic\")); if (o.will.topic = e, a(\"_parseConnect: packet.will.topic: %s\", o.will.topic), null === (t = this._parseBuffer())) return this._emitError(new Error(\"Cannot parse will payload\")); o.will.payload = t, a(\"_parseConnect: packet.will.paylaod: %s\", o.will.payload) } if (i.username) { if (null === (n = this._parseString())) return this._emitError(new Error(\"Cannot parse username\")); o.username = n, a(\"_parseConnect: packet.username: %s\", o.username) } if (i.password) { if (null === (r = this._parseBuffer())) return this._emitError(new Error(\"Cannot parse password\")); o.password = r } return this.settings = o, a(\"_parseConnect: complete\"), o } _parseConnack() { a(\"_parseConnack\"); const e = this.packet; if (this._list.length < 2) return null; if (e.sessionPresent = !!(this._list.readUInt8(this._pos++) & s.SESSIONPRESENT_MASK), 5 === this.settings.protocolVersion ? e.reasonCode = this._list.readUInt8(this._pos++) : e.returnCode = this._list.readUInt8(this._pos++), -1 === e.returnCode || -1 === e.reasonCode) return this._emitError(new Error(\"Cannot parse return code\")); if (5 === this.settings.protocolVersion) { const t = this._parseProperties(); Object.getOwnPropertyNames(t).length && (e.properties = t) } a(\"_parseConnack: complete\") } _parsePublish() { a(\"_parsePublish\"); const e = this.packet; if (e.topic = this._parseString(), null === e.topic) return this._emitError(new Error(\"Cannot parse topic\")); if (!(e.qos > 0) || this._parseMessageId()) { if (5 === this.settings.protocolVersion) { const t = this._parseProperties(); Object.getOwnPropertyNames(t).length && (e.properties = t) } e.payload = this._list.slice(this._pos, e.length), a(\"_parsePublish: payload from buffer list: %o\", e.payload) } } _parseSubscribe() { a(\"_parseSubscribe\"); const e = this.packet; let t, r, n, i, o, u, c; if (1 !== e.qos) return this._emitError(new Error(\"Wrong subscribe header\")); if (e.subscriptions = [], this._parseMessageId()) { if (5 === this.settings.protocolVersion) { const t = this._parseProperties(); Object.getOwnPropertyNames(t).length && (e.properties = t) } for (; this._pos < e.length;) { if (null === (t = this._parseString())) return this._emitError(new Error(\"Cannot parse topic\")); if (this._pos >= e.length) return this._emitError(new Error(\"Malformed Subscribe Payload\")); n = (r = this._parseByte()) & s.SUBSCRIBE_OPTIONS_QOS_MASK, u = 0 != (r >> s.SUBSCRIBE_OPTIONS_NL_SHIFT & s.SUBSCRIBE_OPTIONS_NL_MASK), o = 0 != (r >> s.SUBSCRIBE_OPTIONS_RAP_SHIFT & s.SUBSCRIBE_OPTIONS_RAP_MASK), i = r >> s.SUBSCRIBE_OPTIONS_RH_SHIFT & s.SUBSCRIBE_OPTIONS_RH_MASK, c = { topic: t, qos: n }, 5 === this.settings.protocolVersion && (c.nl = u, c.rap = o, c.rh = i), a(\"_parseSubscribe: push subscription `%s` to subscription\", c), e.subscriptions.push(c) } } } _parseSuback() { a(\"_parseSuback\"); const e = this.packet; if (this.packet.granted = [], this._parseMessageId()) { if (5 === this.settings.protocolVersion) { const t = this._parseProperties(); Object.getOwnPropertyNames(t).length && (e.properties = t) } for (; this._pos < this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++)) } } _parseUnsubscribe() { a(\"_parseUnsubscribe\"); const e = this.packet; if (e.unsubscriptions = [], this._parseMessageId()) { if (5 === this.settings.protocolVersion) { const t = this._parseProperties(); Object.getOwnPropertyNames(t).length && (e.properties = t) } for (; this._pos < e.length;) { const t = this._parseString(); if (null === t) return this._emitError(new Error(\"Cannot parse topic\")); a(\"_parseUnsubscribe: push topic `%s` to unsubscriptions\", t), e.unsubscriptions.push(t) } } } _parseUnsuback() { a(\"_parseUnsuback\"); const e = this.packet; if (!this._parseMessageId()) return this._emitError(new Error(\"Cannot parse messageId\")); if (5 === this.settings.protocolVersion) { const t = this._parseProperties(); for (Object.getOwnPropertyNames(t).length && (e.properties = t), e.granted = []; this._pos < this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++)) } } _parseConfirmation() { a(\"_parseConfirmation: packet.cmd: `%s`\", this.packet.cmd); const e = this.packet; if (this._parseMessageId(), 5 === this.settings.protocolVersion && (e.length > 2 && (e.reasonCode = this._parseByte(), a(\"_parseConfirmation: packet.reasonCode `%d`\", e.reasonCode)), e.length > 3)) { const t = this._parseProperties(); Object.getOwnPropertyNames(t).length && (e.properties = t) } return !0 } _parseDisconnect() { const e = this.packet; if (a(\"_parseDisconnect\"), 5 === this.settings.protocolVersion) { e.reasonCode = this._parseByte(); const t = this._parseProperties(); Object.getOwnPropertyNames(t).length && (e.properties = t) } return a(\"_parseDisconnect result: true\"), !0 } _parseAuth() { a(\"_parseAuth\"); const e = this.packet; if (5 !== this.settings.protocolVersion) return this._emitError(new Error(\"Not supported auth packet for this version MQTT\")); e.reasonCode = this._parseByte(); const t = this._parseProperties(); return Object.getOwnPropertyNames(t).length && (e.properties = t), a(\"_parseAuth: result: true\"), !0 } _parseMessageId() { const e = this.packet; return e.messageId = this._parseNum(), null === e.messageId ? (this._emitError(new Error(\"Cannot parse messageId\")), !1) : (a(\"_parseMessageId: packet.messageId %d\", e.messageId), !0) } _parseString(e) { const t = this._parseNum(), r = t + this._pos; if (-1 === t || r > this._list.length || r > this.packet.length) return null; const n = this._list.toString(\"utf8\", this._pos, r); return this._pos += t, a(\"_parseString: result: %s\", n), n } _parseStringPair() { return a(\"_parseStringPair\"), { name: this._parseString(), value: this._parseString() } } _parseBuffer() { const e = this._parseNum(), t = e + this._pos; if (-1 === e || t > this._list.length || t > this.packet.length) return null; const r = this._list.slice(this._pos, t); return this._pos += e, a(\"_parseBuffer: result: %o\", r), r } _parseNum() { if (this._list.length - this._pos < 2) return -1; const e = this._list.readUInt16BE(this._pos); return this._pos += 2, a(\"_parseNum: result: %s\", e), e } _parse4ByteNum() { if (this._list.length - this._pos < 4) return -1; const e = this._list.readUInt32BE(this._pos); return this._pos += 4, a(\"_parse4ByteNum: result: %s\", e), e } _parseVarByteNum(e) { a(\"_parseVarByteNum\"); let t, r = 0, n = 1, i = 0, o = !1; const u = this._pos ? this._pos : 0; for (; r < 4;) { if (i += n * ((t = this._list.readUInt8(u + r++)) & s.VARBYTEINT_MASK), n *= 128, 0 == (t & s.VARBYTEINT_FIN_MASK)) { o = !0; break } if (this._list.length <= r) break } return !o && 4 === r && this._list.length >= r && this._emitError(new Error(\"Invalid variable byte integer\")), u && (this._pos += r), a(\"_parseVarByteNum: result: %o\", o = !!o && (e ? { bytes: r, value: i } : i)), o } _parseByte() { const e = this._list.readUInt8(this._pos); return this._pos++ , a(\"_parseByte: result: %o\", e), e } _parseByType(e) { switch (a(\"_parseByType: type: %s\", e), e) { case \"byte\": return 0 !== this._parseByte(); case \"int8\": return this._parseByte(); case \"int16\": return this._parseNum(); case \"int32\": return this._parse4ByteNum(); case \"var\": return this._parseVarByteNum(); case \"string\": return this._parseString(); case \"pair\": return this._parseStringPair(); case \"binary\": return this._parseBuffer() } } _parseProperties() { a(\"_parseProperties\"); const e = this._parseVarByteNum(), t = this._pos + e, r = {}; for (; this._pos < t;) { const e = this._parseByte(), t = s.propertiesCodes[e]; if (!t) return this._emitError(new Error(\"Unknown property\")), !1; if (\"userProperties\" !== t) r[t] ? Array.isArray(r[t]) ? r[t].push(this._parseByType(s.propertiesTypes[t])) : (r[t] = [r[t]], r[t].push(this._parseByType(s.propertiesTypes[t]))) : r[t] = this._parseByType(s.propertiesTypes[t]); else { r[t] || (r[t] = Object.create(null)); const e = this._parseByType(s.propertiesTypes[t]); if (r[t][e.name]) if (Array.isArray(r[t][e.name])) r[t][e.name].push(e.value); else { const n = r[t][e.name]; r[t][e.name] = [n], r[t][e.name].push(e.value) } else r[t][e.name] = e.value } } return r } _newPacket() { return a(\"_newPacket\"), this.packet && (this._list.consume(this.packet.length), a(\"_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d\", this.packet.cmd, this.packet.payload, this.packet.length), this.emit(\"packet\", this.packet)), a(\"_newPacket: new packet\"), this.packet = new o, this._pos = 0, !0 } _emitError(e) { a(\"_emitError\"), this.error = e, this.emit(\"error\", e) } } t.exports = u }, { \"./constants\": 36, \"./packet\": 40, bl: 12, debug: 16, events: 31 }], 42: [function (e, t, r) { (function (r) { (function () { const n = e(\"./constants\"), i = r.allocUnsafe(0), o = r.from([0]), s = e(\"./numbers\"), a = e(\"process-nextick-args\").nextTick, u = e(\"debug\")(\"mqtt-packet:writeToStream\"), c = s.cache, l = s.generateNumber, f = s.generateCache, h = s.genBufVariableByteInt, p = s.generate4ByteBuffer; let d = S, g = !0; function b(e, t, s) { switch (u(\"generate called\"), t.cork && (t.cork(), a(m, t)), g && (g = !1, f()), u(\"generate: packet.cmd: %s\", e.cmd), e.cmd) { case \"connect\": return function (e, t, i) { const o = e || {}, s = o.protocolId || \"MQTT\", a = o.protocolVersion || 4, u = o.will; let c = o.clean; const l = o.keepalive || 0, f = o.clientId || \"\", h = o.username, p = o.password, g = o.properties; void 0 === c && (c = !0); let b = 0; if (!s || \"string\" != typeof s && !r.isBuffer(s)) return t.emit(\"error\", new Error(\"Invalid protocolId\")), !1; b += s.length + 2; if (3 !== a && 4 !== a && 5 !== a) return t.emit(\"error\", new Error(\"Invalid protocol version\")), !1; b += 1; if (\"string\" != typeof f && !r.isBuffer(f) || !f && 4 !== a || !f && !c) { if (a < 4) return t.emit(\"error\", new Error(\"clientId must be supplied before 3.1.1\")), !1; if (1 * c == 0) return t.emit(\"error\", new Error(\"clientId must be given if cleanSession set to 0\")), !1 } else b += f.length + 2; if (\"number\" != typeof l || l < 0 || l > 65535 || l % 1 != 0) return t.emit(\"error\", new Error(\"Invalid keepalive\")), !1; b += 2; if (b += 1, 5 === a) { var m = I(t, g); if (!m) return !1; b += m.length } if (u) { if (\"object\" != typeof u) return t.emit(\"error\", new Error(\"Invalid will\")), !1; if (!u.topic || \"string\" != typeof u.topic) return t.emit(\"error\", new Error(\"Invalid will topic\")), !1; if (b += r.byteLength(u.topic) + 2, b += 2, u.payload) { if (!(u.payload.length >= 0)) return t.emit(\"error\", new Error(\"Invalid will payload\")), !1; \"string\" == typeof u.payload ? b += r.byteLength(u.payload) : b += u.payload.length } var y = {}; if (5 === a) { if (!(y = I(t, u.properties))) return !1; b += y.length } } let v = !1; if (null != h) { if (!A(h)) return t.emit(\"error\", new Error(\"Invalid username\")), !1; v = !0, b += r.byteLength(h) + 2 } if (null != p) { if (!v) return t.emit(\"error\", new Error(\"Username is required to use password\")), !1; if (!A(p)) return t.emit(\"error\", new Error(\"Invalid password\")), !1; b += R(p) + 2 } t.write(n.CONNECT_HEADER), _(t, b), k(t, s), t.write(4 === a ? n.VERSION4 : 5 === a ? n.VERSION5 : n.VERSION3); let S = 0; S |= null != h ? n.USERNAME_MASK : 0, S |= null != p ? n.PASSWORD_MASK : 0, S |= u && u.retain ? n.WILL_RETAIN_MASK : 0, S |= u && u.qos ? u.qos << n.WILL_QOS_SHIFT : 0, S |= u ? n.WILL_FLAG_MASK : 0, S |= c ? n.CLEAN_SESSION_MASK : 0, t.write(r.from([S])), d(t, l), 5 === a && m.write(); k(t, f), u && (5 === a && y.write(), w(t, u.topic), k(t, u.payload)); null != h && k(t, h); null != p && k(t, p); return !0 }(e, t); case \"connack\": return function (e, t, i) { const s = i ? i.protocolVersion : 4, a = e || {}, u = 5 === s ? a.reasonCode : a.returnCode, c = a.properties; let l = 2; if (\"number\" != typeof u) return t.emit(\"error\", new Error(\"Invalid return code\")), !1; let f = null; if (5 === s) { if (!(f = I(t, c))) return !1; l += f.length } t.write(n.CONNACK_HEADER), _(t, l), t.write(a.sessionPresent ? n.SESSIONPRESENT_HEADER : o), t.write(r.from([u])), null != f && f.write(); return !0 }(e, t, s); case \"publish\": return function (e, t, o) { u(\"publish: packet: %o\", e); const s = o ? o.protocolVersion : 4, a = e || {}, c = a.qos || 0, l = a.retain ? n.RETAIN_MASK : 0, f = a.topic, h = a.payload || i, p = a.messageId, g = a.properties; let b = 0; if (\"string\" == typeof f) b += r.byteLength(f) + 2; else { if (!r.isBuffer(f)) return t.emit(\"error\", new Error(\"Invalid topic\")), !1; b += f.length + 2 } r.isBuffer(h) ? b += h.length : b += r.byteLength(h); if (c && \"number\" != typeof p) return t.emit(\"error\", new Error(\"Invalid messageId\")), !1; c && (b += 2); let m = null; if (5 === s) { if (!(m = I(t, g))) return !1; b += m.length } t.write(n.PUBLISH_HEADER[c][a.dup ? 1 : 0][l ? 1 : 0]), _(t, b), d(t, R(f)), t.write(f), c > 0 && d(t, p); null != m && m.write(); return u(\"publish: payload: %o\", h), t.write(h) }(e, t, s); case \"puback\": case \"pubrec\": case \"pubrel\": case \"pubcomp\": return function (e, t, i) { const o = i ? i.protocolVersion : 4, s = e || {}, a = s.cmd || \"puback\", u = s.messageId, c = s.dup && \"pubrel\" === a ? n.DUP_MASK : 0; let l = 0; const f = s.reasonCode, h = s.properties; let p = 5 === o ? 3 : 2; \"pubrel\" === a && (l = 1); if (\"number\" != typeof u) return t.emit(\"error\", new Error(\"Invalid messageId\")), !1; let g = null; if (5 === o && \"object\" == typeof h) { if (!(g = C(t, h, i, p))) return !1; p += g.length } t.write(n.ACKS[a][l][c][0]), _(t, p), d(t, u), 5 === o && t.write(r.from([f])); null !== g && g.write(); return !0 }(e, t, s); case \"subscribe\": return function (e, t, i) { u(\"subscribe: packet: \"); const o = i ? i.protocolVersion : 4, s = e || {}, a = s.dup ? n.DUP_MASK : 0, c = s.messageId, l = s.subscriptions, f = s.properties; let h = 0; if (\"number\" != typeof c) return t.emit(\"error\", new Error(\"Invalid messageId\")), !1; h += 2; let p = null; if (5 === o) { if (!(p = I(t, f))) return !1; h += p.length } if (\"object\" != typeof l || !l.length) return t.emit(\"error\", new Error(\"Invalid subscriptions\")), !1; for (let e = 0; e < l.length; e += 1) { const n = l[e].topic, i = l[e].qos; if (\"string\" != typeof n) return t.emit(\"error\", new Error(\"Invalid subscriptions - invalid topic\")), !1; if (\"number\" != typeof i) return t.emit(\"error\", new Error(\"Invalid subscriptions - invalid qos\")), !1; if (5 === o) { const r = l[e].nl || !1; if (\"boolean\" != typeof r) return t.emit(\"error\", new Error(\"Invalid subscriptions - invalid No Local\")), !1; const n = l[e].rap || !1; if (\"boolean\" != typeof n) return t.emit(\"error\", new Error(\"Invalid subscriptions - invalid Retain as Published\")), !1; const i = l[e].rh || 0; if (\"number\" != typeof i || i > 2) return t.emit(\"error\", new Error(\"Invalid subscriptions - invalid Retain Handling\")), !1 } h += r.byteLength(n) + 2 + 1 } u(\"subscribe: writing to stream: %o\", n.SUBSCRIBE_HEADER), t.write(n.SUBSCRIBE_HEADER[1][a ? 1 : 0][0]), _(t, h), d(t, c), null !== p && p.write(); let g = !0; for (const e of l) { const i = e.topic, s = e.qos, a = +e.nl, u = +e.rap, c = e.rh; let l; w(t, i), l = n.SUBSCRIBE_OPTIONS_QOS[s], 5 === o && (l |= a ? n.SUBSCRIBE_OPTIONS_NL : 0, l |= u ? n.SUBSCRIBE_OPTIONS_RAP : 0, l |= c ? n.SUBSCRIBE_OPTIONS_RH[c] : 0), g = t.write(r.from([l])) } return g }(e, t, s); case \"suback\": return function (e, t, i) { const o = i ? i.protocolVersion : 4, s = e || {}, a = s.messageId, u = s.granted, c = s.properties; let l = 0; if (\"number\" != typeof a) return t.emit(\"error\", new Error(\"Invalid messageId\")), !1; l += 2; if (\"object\" != typeof u || !u.length) return t.emit(\"error\", new Error(\"Invalid qos vector\")), !1; for (let e = 0; e < u.length; e += 1) { if (\"number\" != typeof u[e]) return t.emit(\"error\", new Error(\"Invalid qos vector\")), !1; l += 1 } let f = null; if (5 === o) { if (!(f = C(t, c, i, l))) return !1; l += f.length } t.write(n.SUBACK_HEADER), _(t, l), d(t, a), null !== f && f.write(); return t.write(r.from(u)) }(e, t, s); case \"unsubscribe\": return function (e, t, i) { const o = i ? i.protocolVersion : 4, s = e || {}, a = s.messageId, u = s.dup ? n.DUP_MASK : 0, c = s.unsubscriptions, l = s.properties; let f = 0; if (\"number\" != typeof a) return t.emit(\"error\", new Error(\"Invalid messageId\")), !1; f += 2; if (\"object\" != typeof c || !c.length) return t.emit(\"error\", new Error(\"Invalid unsubscriptions\")), !1; for (let e = 0; e < c.length; e += 1) { if (\"string\" != typeof c[e]) return t.emit(\"error\", new Error(\"Invalid unsubscriptions\")), !1; f += r.byteLength(c[e]) + 2 } let h = null; if (5 === o) { if (!(h = I(t, l))) return !1; f += h.length } t.write(n.UNSUBSCRIBE_HEADER[1][u ? 1 : 0][0]), _(t, f), d(t, a), null !== h && h.write(); let p = !0; for (let e = 0; e < c.length; e++)p = w(t, c[e]); return p }(e, t, s); case \"unsuback\": return function (e, t, i) { const o = i ? i.protocolVersion : 4, s = e || {}, a = s.messageId, u = s.dup ? n.DUP_MASK : 0, c = s.granted, l = s.properties, f = s.cmd; let h = 2; if (\"number\" != typeof a) return t.emit(\"error\", new Error(\"Invalid messageId\")), !1; if (5 === o) { if (\"object\" != typeof c || !c.length) return t.emit(\"error\", new Error(\"Invalid qos vector\")), !1; for (let e = 0; e < c.length; e += 1) { if (\"number\" != typeof c[e]) return t.emit(\"error\", new Error(\"Invalid qos vector\")), !1; h += 1 } } let p = null; if (5 === o) { if (!(p = C(t, l, i, h))) return !1; h += p.length } t.write(n.ACKS[f][0][u][0]), _(t, h), d(t, a), null !== p && p.write(); 5 === o && t.write(r.from(c)); return !0 }(e, t, s); case \"pingreq\": case \"pingresp\": return function (e, t, r) { return t.write(n.EMPTY[e.cmd]) }(e, t); case \"disconnect\": return function (e, t, i) { const o = i ? i.protocolVersion : 4, s = e || {}, a = s.reasonCode, u = s.properties; let c = 5 === o ? 1 : 0, l = null; if (5 === o) { if (!(l = C(t, u, i, c))) return !1; c += l.length } t.write(r.from([n.codes.disconnect << 4])), _(t, c), 5 === o && t.write(r.from([a])); null !== l && l.write(); return !0 }(e, t, s); case \"auth\": return function (e, t, i) { const o = i ? i.protocolVersion : 4, s = e || {}, a = s.reasonCode, u = s.properties; let c = 5 === o ? 1 : 0; 5 !== o && t.emit(\"error\", new Error(\"Invalid mqtt version for auth packet\")); const l = C(t, u, i, c); if (!l) return !1; c += l.length, t.write(r.from([n.codes.auth << 4])), _(t, c), t.write(r.from([a])), null !== l && l.write(); return !0 }(e, t, s); default: return t.emit(\"error\", new Error(\"Unknown command\")), !1 } } function m(e) { e.uncork() } Object.defineProperty(b, \"cacheNumbers\", { get: () => d === S, set(e) { e ? (c && 0 !== Object.keys(c).length || (g = !0), d = S) : (g = !1, d = E) } }); const y = {}; function _(e, t) { if (t > n.VARBYTEINT_MAX) return e.emit(\"error\", new Error(`Invalid variable byte integer: ${t}`)), !1; let r = y[t]; return r || (r = h(t), t < 16384 && (y[t] = r)), u(\"writeVarByteInt: writing to stream: %o\", r), e.write(r) } function w(e, t) { const n = r.byteLength(t); return d(e, n), u(\"writeString: %s\", t), e.write(t, \"utf8\") } function v(e, t, r) { w(e, t), w(e, r) } function S(e, t) { return u(\"writeNumberCached: number: %d\", t), u(\"writeNumberCached: %o\", c[t]), e.write(c[t]) } function E(e, t) { const r = l(t); return u(\"writeNumberGenerated: %o\", r), e.write(r) } function k(e, t) { \"string\" == typeof t ? w(e, t) : t ? (d(e, t.length), e.write(t)) : d(e, 0) } function I(e, t) { if (\"object\" != typeof t || null != t.length) return { length: 1, write() { x(e, {}, 0) } }; let i = 0; function o(t, i) { let o = 0; switch (n.propertiesTypes[t]) { case \"byte\": if (\"boolean\" != typeof i) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += 2; break; case \"int8\": if (\"number\" != typeof i || i < 0 || i > 255) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += 2; break; case \"binary\": if (i && null === i) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += 1 + r.byteLength(i) + 2; break; case \"int16\": if (\"number\" != typeof i || i < 0 || i > 65535) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += 3; break; case \"int32\": if (\"number\" != typeof i || i < 0 || i > 4294967295) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += 5; break; case \"var\": if (\"number\" != typeof i || i < 0 || i > 268435455) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += 1 + r.byteLength(h(i)); break; case \"string\": if (\"string\" != typeof i) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += 3 + r.byteLength(i.toString()); break; case \"pair\": if (\"object\" != typeof i) return e.emit(\"error\", new Error(`Invalid ${t}: ${i}`)), !1; o += Object.getOwnPropertyNames(i).reduce((e, t) => { const n = i[t]; return Array.isArray(n) ? e += n.reduce((e, n) => e += 3 + r.byteLength(t.toString()) + 2 + r.byteLength(n.toString()), 0) : e += 3 + r.byteLength(t.toString()) + 2 + r.byteLength(i[t].toString()), e }, 0); break; default: return e.emit(\"error\", new Error(`Invalid property ${t}: ${i}`)), !1 }return o } if (t) for (const e in t) { let r = 0, n = 0; const s = t[e]; if (Array.isArray(s)) for (let t = 0; t < s.length; t++) { if (!(n = o(e, s[t]))) return !1; r += n } else { if (!(n = o(e, s))) return !1; r = n } if (!r) return !1; i += r } return { length: r.byteLength(h(i)) + i, write() { x(e, t, i) } } } function C(e, t, r, n) { const i = [\"reasonString\", \"userProperties\"], o = r && r.properties && r.properties.maximumPacketSize ? r.properties.maximumPacketSize : 0; let s = I(e, t); if (o) for (; n + s.length > o;) { const r = i.shift(); if (!r || !t[r]) return !1; delete t[r], s = I(e, t) } return s } function T(e, t, i) { switch (n.propertiesTypes[t]) { case \"byte\": e.write(r.from([n.properties[t]])), e.write(r.from([+i])); break; case \"int8\": e.write(r.from([n.properties[t]])), e.write(r.from([i])); break; case \"binary\": e.write(r.from([n.properties[t]])), k(e, i); break; case \"int16\": e.write(r.from([n.properties[t]])), d(e, i); break; case \"int32\": e.write(r.from([n.properties[t]])), function (e, t) { const r = p(t); u(\"write4ByteNumber: %o\", r), e.write(r) }(e, i); break; case \"var\": e.write(r.from([n.properties[t]])), _(e, i); break; case \"string\": e.write(r.from([n.properties[t]])), w(e, i); break; case \"pair\": Object.getOwnPropertyNames(i).forEach(o => { const s = i[o]; Array.isArray(s) ? s.forEach(i => { e.write(r.from([n.properties[t]])), v(e, o.toString(), i.toString()) }) : (e.write(r.from([n.properties[t]])), v(e, o.toString(), s.toString())) }); break; default: return e.emit(\"error\", new Error(`Invalid property ${t} value: ${i}`)), !1 } } function x(e, t, r) { _(e, r); for (const r in t) if (Object.prototype.hasOwnProperty.call(t, r) && null !== t[r]) { const n = t[r]; if (Array.isArray(n)) for (let t = 0; t < n.length; t++)T(e, r, n[t]); else T(e, r, n) } } function R(e) { return e ? e instanceof r ? e.length : r.byteLength(e) : 0 } function A(e) { return \"string\" == typeof e || e instanceof r } t.exports = b }).call(this) }).call(this, e(\"buffer\").Buffer) }, { \"./constants\": 36, \"./numbers\": 39, buffer: 14, debug: 16, \"process-nextick-args\": 45 }], 43: [function (e, t, r) { var n = 1e3, i = 60 * n, o = 60 * i, s = 24 * o, a = 7 * s, u = 365.25 * s; function c(e, t, r, n) { var i = t >= 1.5 * r; return Math.round(e / r) + \" \" + n + (i ? \"s\" : \"\") } t.exports = function (e, t) { t = t || {}; var r = typeof e; if (\"string\" === r && e.length > 0) return function (e) { if ((e = String(e)).length > 100) return; var t = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e); if (!t) return; var r = parseFloat(t[1]); switch ((t[2] || \"ms\").toLowerCase()) { case \"years\": case \"year\": case \"yrs\": case \"yr\": case \"y\": return r * u; case \"weeks\": case \"week\": case \"w\": return r * a; case \"days\": case \"day\": case \"d\": return r * s; case \"hours\": case \"hour\": case \"hrs\": case \"hr\": case \"h\": return r * o; case \"minutes\": case \"minute\": case \"mins\": case \"min\": case \"m\": return r * i; case \"seconds\": case \"second\": case \"secs\": case \"sec\": case \"s\": return r * n; case \"milliseconds\": case \"millisecond\": case \"msecs\": case \"msec\": case \"ms\": return r; default: return } }(e); if (\"number\" === r && isFinite(e)) return t.long ? function (e) { var t = Math.abs(e); if (t >= s) return c(e, t, s, \"day\"); if (t >= o) return c(e, t, o, \"hour\"); if (t >= i) return c(e, t, i, \"minute\"); if (t >= n) return c(e, t, n, \"second\"); return e + \" ms\" }(e) : function (e) { var t = Math.abs(e); if (t >= s) return Math.round(e / s) + \"d\"; if (t >= o) return Math.round(e / o) + \"h\"; if (t >= i) return Math.round(e / i) + \"m\"; if (t >= n) return Math.round(e / n) + \"s\"; return e + \"ms\" }(e); throw new Error(\"val is not a non-empty string or a valid number. val=\" + JSON.stringify(e)) } }, {}], 44: [function (e, t, r) { var n = e(\"wrappy\"); function i(e) { var t = function () { return t.called ? t.value : (t.called = !0, t.value = e.apply(this, arguments)) }; return t.called = !1, t } function o(e) { var t = function () { if (t.called) throw new Error(t.onceError); return t.called = !0, t.value = e.apply(this, arguments) }, r = e.name || \"Function wrapped with `once`\"; return t.onceError = r + \" shouldn't be called more than once\", t.called = !1, t } t.exports = n(i), t.exports.strict = n(o), i.proto = i(function () { Object.defineProperty(Function.prototype, \"once\", { value: function () { return i(this) }, configurable: !0 }), Object.defineProperty(Function.prototype, \"onceStrict\", { value: function () { return o(this) }, configurable: !0 }) }) }, { wrappy: 74 }], 45: [function (e, t, r) { (function (e) { (function () { \"use strict\"; void 0 === e || !e.version || 0 === e.version.indexOf(\"v0.\") || 0 === e.version.indexOf(\"v1.\") && 0 !== e.version.indexOf(\"v1.8.\") ? t.exports = { nextTick: function (t, r, n, i) { if (\"function\" != typeof t) throw new TypeError('\"callback\" argument must be a function'); var o, s, a = arguments.length; switch (a) { case 0: case 1: return e.nextTick(t); case 2: return e.nextTick(function () { t.call(null, r) }); case 3: return e.nextTick(function () { t.call(null, r, n) }); case 4: return e.nextTick(function () { t.call(null, r, n, i) }); default: for (o = new Array(a - 1), s = 0; s < o.length;)o[s++] = arguments[s]; return e.nextTick(function () { t.apply(null, o) }) } } } : t.exports = e }).call(this) }).call(this, e(\"_process\")) }, { _process: 46 }], 46: [function (e, t, r) { var n, i, o = t.exports = {}; function s() { throw new Error(\"setTimeout has not been defined\") } function a() { throw new Error(\"clearTimeout has not been defined\") } function u(e) { if (n === setTimeout) return setTimeout(e, 0); if ((n === s || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0); try { return n(e, 0) } catch (t) { try { return n.call(null, e, 0) } catch (t) { return n.call(this, e, 0) } } } !function () { try { n = \"function\" == typeof setTimeout ? setTimeout : s } catch (e) { n = s } try { i = \"function\" == typeof clearTimeout ? clearTimeout : a } catch (e) { i = a } }(); var c, l = [], f = !1, h = -1; function p() { f && c && (f = !1, c.length ? l = c.concat(l) : h = -1, l.length && d()) } function d() { if (!f) { var e = u(p); f = !0; for (var t = l.length; t;) { for (c = l, l = []; ++h < t;)c && c[h].run(); h = -1, t = l.length } c = null, f = !1, function (e) { if (i === clearTimeout) return clearTimeout(e); if ((i === a || !i) && clearTimeout) return i = clearTimeout, clearTimeout(e); try { i(e) } catch (t) { try { return i.call(null, e) } catch (t) { return i.call(this, e) } } }(e) } } function g(e, t) { this.fun = e, this.array = t } function b() { } o.nextTick = function (e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var r = 1; r < arguments.length; r++)t[r - 1] = arguments[r]; l.push(new g(e, t)), 1 !== l.length || f || u(d) }, g.prototype.run = function () { this.fun.apply(null, this.array) }, o.title = \"browser\", o.browser = !0, o.env = {}, o.argv = [], o.version = \"\", o.versions = {}, o.on = b, o.addListener = b, o.once = b, o.off = b, o.removeListener = b, o.removeAllListeners = b, o.emit = b, o.prependListener = b, o.prependOnceListener = b, o.listeners = function (e) { return [] }, o.binding = function (e) { throw new Error(\"process.binding is not supported\") }, o.cwd = function () { return \"/\" }, o.chdir = function (e) { throw new Error(\"process.chdir is not supported\") }, o.umask = function () { return 0 } }, {}], 47: [function (e, t, r) { (function (e) { (function () { !function (n) { var i = \"object\" == typeof r && r && !r.nodeType && r, o = \"object\" == typeof t && t && !t.nodeType && t, s = \"object\" == typeof e && e; s.global !== s && s.window !== s && s.self !== s || (n = s); var a, u, c = 2147483647, l = 36, f = 1, h = 26, p = 38, d = 700, g = 72, b = 128, m = \"-\", y = /^xn--/, _ = /[^\\x20-\\x7E]/, w = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, v = { overflow: \"Overflow: input needs wider integers to process\", \"not-basic\": \"Illegal input >= 0x80 (not a basic code point)\", \"invalid-input\": \"Invalid input\" }, S = l - f, E = Math.floor, k = String.fromCharCode; function I(e) { throw new RangeError(v[e]) } function C(e, t) { for (var r = e.length, n = []; r--;)n[r] = t(e[r]); return n } function T(e, t) { var r = e.split(\"@\"), n = \"\"; return r.length > 1 && (n = r[0] + \"@\", e = r[1]), n + C((e = e.replace(w, \".\")).split(\".\"), t).join(\".\") } function x(e) { for (var t, r, n = [], i = 0, o = e.length; i < o;)(t = e.charCodeAt(i++)) >= 55296 && t <= 56319 && i < o ? 56320 == (64512 & (r = e.charCodeAt(i++))) ? n.push(((1023 & t) << 10) + (1023 & r) + 65536) : (n.push(t), i--) : n.push(t); return n } function R(e) { return C(e, function (e) { var t = \"\"; return e > 65535 && (t += k((e -= 65536) >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), t += k(e) }).join(\"\") } function A(e, t) { return e + 22 + 75 * (e < 26) - ((0 != t) << 5) } function M(e, t, r) { var n = 0; for (e = r ? E(e / d) : e >> 1, e += E(e / t); e > S * h >> 1; n += l)e = E(e / S); return E(n + (S + 1) * e / (e + p)) } function O(e) { var t, r, n, i, o, s, a, u, p, d, y, _ = [], w = e.length, v = 0, S = b, k = g; for ((r = e.lastIndexOf(m)) < 0 && (r = 0), n = 0; n < r; ++n)e.charCodeAt(n) >= 128 && I(\"not-basic\"), _.push(e.charCodeAt(n)); for (i = r > 0 ? r + 1 : 0; i < w;) { for (o = v, s = 1, a = l; i >= w && I(\"invalid-input\"), ((u = (y = e.charCodeAt(i++)) - 48 < 10 ? y - 22 : y - 65 < 26 ? y - 65 : y - 97 < 26 ? y - 97 : l) >= l || u > E((c - v) / s)) && I(\"overflow\"), v += u * s, !(u < (p = a <= k ? f : a >= k + h ? h : a - k)); a += l)s > E(c / (d = l - p)) && I(\"overflow\"), s *= d; k = M(v - o, t = _.length + 1, 0 == o), E(v / t) > c - S && I(\"overflow\"), S += E(v / t), v %= t, _.splice(v++, 0, S) } return R(_) } function P(e) { var t, r, n, i, o, s, a, u, p, d, y, _, w, v, S, C = []; for (_ = (e = x(e)).length, t = b, r = 0, o = g, s = 0; s < _; ++s)(y = e[s]) < 128 && C.push(k(y)); for (n = i = C.length, i && C.push(m); n < _;) { for (a = c, s = 0; s < _; ++s)(y = e[s]) >= t && y < a && (a = y); for (a - t > E((c - r) / (w = n + 1)) && I(\"overflow\"), r += (a - t) * w, t = a, s = 0; s < _; ++s)if ((y = e[s]) < t && ++r > c && I(\"overflow\"), y == t) { for (u = r, p = l; !(u < (d = p <= o ? f : p >= o + h ? h : p - o)); p += l)S = u - d, v = l - d, C.push(k(A(d + S % v, 0))), u = E(S / v); C.push(k(A(u, 0))), o = M(r, w, n == i), r = 0, ++n } ++r, ++t } return C.join(\"\") } if (a = { version: \"1.4.1\", ucs2: { decode: x, encode: R }, decode: O, encode: P, toASCII: function (e) { return T(e, function (e) { return _.test(e) ? \"xn--\" + P(e) : e }) }, toUnicode: function (e) { return T(e, function (e) { return y.test(e) ? O(e.slice(4).toLowerCase()) : e }) } }, i && o) if (t.exports == i) o.exports = a; else for (u in a) a.hasOwnProperty(u) && (i[u] = a[u]); else n.punycode = a }(this) }).call(this) }).call(this, \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {}) }, {}], 48: [function (e, t, r) { \"use strict\"; function n(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } t.exports = function (e, t, r, o) { t = t || \"&\", r = r || \"=\"; var s = {}; if (\"string\" != typeof e || 0 === e.length) return s; var a = /\\+/g; e = e.split(t); var u = 1e3; o && \"number\" == typeof o.maxKeys && (u = o.maxKeys); var c = e.length; u > 0 && c > u && (c = u); for (var l = 0; l < c; ++l) { var f, h, p, d, g = e[l].replace(a, \"%20\"), b = g.indexOf(r); b >= 0 ? (f = g.substr(0, b), h = g.substr(b + 1)) : (f = g, h = \"\"), p = decodeURIComponent(f), d = decodeURIComponent(h), n(s, p) ? i(s[p]) ? s[p].push(d) : s[p] = [s[p], d] : s[p] = d } return s }; var i = Array.isArray || function (e) { return \"[object Array]\" === Object.prototype.toString.call(e) } }, {}], 49: [function (e, t, r) { \"use strict\"; var n = function (e) { switch (typeof e) { case \"string\": return e; case \"boolean\": return e ? \"true\" : \"false\"; case \"number\": return isFinite(e) ? e : \"\"; default: return \"\" } }; t.exports = function (e, t, r, a) { return t = t || \"&\", r = r || \"=\", null === e && (e = void 0), \"object\" == typeof e ? o(s(e), function (s) { var a = encodeURIComponent(n(s)) + r; return i(e[s]) ? o(e[s], function (e) { return a + encodeURIComponent(n(e)) }).join(t) : a + encodeURIComponent(n(e[s])) }).join(t) : a ? encodeURIComponent(n(a)) + r + encodeURIComponent(n(e)) : \"\" }; var i = Array.isArray || function (e) { return \"[object Array]\" === Object.prototype.toString.call(e) }; function o(e, t) { if (e.map) return e.map(t); for (var r = [], n = 0; n < e.length; n++)r.push(t(e[n], n)); return r } var s = Object.keys || function (e) { var t = []; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.push(r); return t } }, {}], 50: [function (e, t, r) { \"use strict\"; r.decode = r.parse = e(\"./decode\"), r.encode = r.stringify = e(\"./encode\") }, { \"./decode\": 48, \"./encode\": 49 }], 51: [function (e, t, r) { \"use strict\"; var n = {}; function i(e, t, r) { r || (r = Error); var i = function (e) { var r, n; function i(r, n, i) { return e.call(this, function (e, r, n) { return \"string\" == typeof t ? t : t(e, r, n) }(r, n, i)) || this } return n = e, (r = i).prototype = Object.create(n.prototype), r.prototype.constructor = r, r.__proto__ = n, i }(r); i.prototype.name = r.name, i.prototype.code = e, n[e] = i } function o(e, t) { if (Array.isArray(e)) { var r = e.length; return e = e.map(function (e) { return String(e) }), r > 2 ? \"one of \".concat(t, \" \").concat(e.slice(0, r - 1).join(\", \"), \", or \") + e[r - 1] : 2 === r ? \"one of \".concat(t, \" \").concat(e[0], \" or \").concat(e[1]) : \"of \".concat(t, \" \").concat(e[0]) } return \"of \".concat(t, \" \").concat(String(e)) } i(\"ERR_INVALID_OPT_VALUE\", function (e, t) { return 'The value \"' + t + '\" is invalid for option \"' + e + '\"' }, TypeError), i(\"ERR_INVALID_ARG_TYPE\", function (e, t, r) { var n, i, s, a; if (\"string\" == typeof t && (i = \"not \", t.substr(!s || s < 0 ? 0 : +s, i.length) === i) ? (n = \"must not be\", t = t.replace(/^not /, \"\")) : n = \"must be\", function (e, t, r) { return (void 0 === r || r > e.length) && (r = e.length), e.substring(r - t.length, r) === t }(e, \" argument\")) a = \"The \".concat(e, \" \").concat(n, \" \").concat(o(t, \"type\")); else { var u = function (e, t, r) { return \"number\" != typeof r && (r = 0), !(r + t.length > e.length) && -1 !== e.indexOf(t, r) }(e, \".\") ? \"property\" : \"argument\"; a = 'The \"'.concat(e, '\" ').concat(u, \" \").concat(n, \" \").concat(o(t, \"type\")) } return a += \". Received type \".concat(typeof r) }, TypeError), i(\"ERR_STREAM_PUSH_AFTER_EOF\", \"stream.push() after EOF\"), i(\"ERR_METHOD_NOT_IMPLEMENTED\", function (e) { return \"The \" + e + \" method is not implemented\" }), i(\"ERR_STREAM_PREMATURE_CLOSE\", \"Premature close\"), i(\"ERR_STREAM_DESTROYED\", function (e) { return \"Cannot call \" + e + \" after a stream was destroyed\" }), i(\"ERR_MULTIPLE_CALLBACK\", \"Callback called multiple times\"), i(\"ERR_STREAM_CANNOT_PIPE\", \"Cannot pipe, not readable\"), i(\"ERR_STREAM_WRITE_AFTER_END\", \"write after end\"), i(\"ERR_STREAM_NULL_VALUES\", \"May not write null values to stream\", TypeError), i(\"ERR_UNKNOWN_ENCODING\", function (e) { return \"Unknown encoding: \" + e }, TypeError), i(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\", \"stream.unshift() after end event\"), t.exports.codes = n }, {}], 52: [function (e, t, r) { (function (r) { (function () { \"use strict\"; var n = Object.keys || function (e) { var t = []; for (var r in e) t.push(r); return t }; t.exports = c; var i = e(\"./_stream_readable\"), o = e(\"./_stream_writable\"); e(\"inherits\")(c, i); for (var s = n(o.prototype), a = 0; a < s.length; a++) { var u = s[a]; c.prototype[u] || (c.prototype[u] = o.prototype[u]) } function c(e) { if (!(this instanceof c)) return new c(e); i.call(this, e), o.call(this, e), this.allowHalfOpen = !0, e && (!1 === e.readable && (this.readable = !1), !1 === e.writable && (this.writable = !1), !1 === e.allowHalfOpen && (this.allowHalfOpen = !1, this.once(\"end\", l))) } function l() { this._writableState.ended || r.nextTick(f, this) } function f(e) { e.end() } Object.defineProperty(c.prototype, \"writableHighWaterMark\", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), Object.defineProperty(c.prototype, \"writableBuffer\", { enumerable: !1, get: function () { return this._writableState && this._writableState.getBuffer() } }), Object.defineProperty(c.prototype, \"writableLength\", { enumerable: !1, get: function () { return this._writableState.length } }), Object.defineProperty(c.prototype, \"destroyed\", { enumerable: !1, get: function () { return void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed && this._writableState.destroyed) }, set: function (e) { void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = e, this._writableState.destroyed = e) } }) }).call(this) }).call(this, e(\"_process\")) }, { \"./_stream_readable\": 54, \"./_stream_writable\": 56, _process: 46, inherits: 33 }], 53: [function (e, t, r) { \"use strict\"; t.exports = i; var n = e(\"./_stream_transform\"); function i(e) { if (!(this instanceof i)) return new i(e); n.call(this, e) } e(\"inherits\")(i, n), i.prototype._transform = function (e, t, r) { r(null, e) } }, { \"./_stream_transform\": 55, inherits: 33 }], 54: [function (e, t, r) { (function (r, n) { (function () { \"use strict\"; var i; t.exports = I, I.ReadableState = k; e(\"events\").EventEmitter; var o = function (e, t) { return e.listeners(t).length }, s = e(\"./internal/streams/stream\"), a = e(\"buffer\").Buffer, u = n.Uint8Array || function () { }; var c, l = e(\"util\"); c = l && l.debuglog ? l.debuglog(\"stream\") : function () { }; var f, h, p, d = e(\"./internal/streams/buffer_list\"), g = e(\"./internal/streams/destroy\"), b = e(\"./internal/streams/state\").getHighWaterMark, m = e(\"../errors\").codes, y = m.ERR_INVALID_ARG_TYPE, _ = m.ERR_STREAM_PUSH_AFTER_EOF, w = m.ERR_METHOD_NOT_IMPLEMENTED, v = m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; e(\"inherits\")(I, s); var S = g.errorOrDestroy, E = [\"error\", \"close\", \"destroy\", \"pause\", \"resume\"]; function k(t, r, n) { i = i || e(\"./_stream_duplex\"), t = t || {}, \"boolean\" != typeof n && (n = r instanceof i), this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.readableObjectMode), this.highWaterMark = b(this, t, \"readableHighWaterMark\", n), this.buffer = new d, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = !1 !== t.emitClose, this.autoDestroy = !!t.autoDestroy, this.destroyed = !1, this.defaultEncoding = t.defaultEncoding || \"utf8\", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, t.encoding && (f || (f = e(\"string_decoder/\").StringDecoder), this.decoder = new f(t.encoding), this.encoding = t.encoding) } function I(t) { if (i = i || e(\"./_stream_duplex\"), !(this instanceof I)) return new I(t); var r = this instanceof i; this._readableState = new k(t, this, r), this.readable = !0, t && (\"function\" == typeof t.read && (this._read = t.read), \"function\" == typeof t.destroy && (this._destroy = t.destroy)), s.call(this) } function C(e, t, r, n, i) { c(\"readableAddChunk\", t); var o, s = e._readableState; if (null === t) s.reading = !1, function (e, t) { if (c(\"onEofChunk\"), t.ended) return; if (t.decoder) { var r = t.decoder.end(); r && r.length && (t.buffer.push(r), t.length += t.objectMode ? 1 : r.length) } t.ended = !0, t.sync ? A(e) : (t.needReadable = !1, t.emittedReadable || (t.emittedReadable = !0, M(e))) }(e, s); else if (i || (o = function (e, t) { var r; n = t, a.isBuffer(n) || n instanceof u || \"string\" == typeof t || void 0 === t || e.objectMode || (r = new y(\"chunk\", [\"string\", \"Buffer\", \"Uint8Array\"], t)); var n; return r }(s, t)), o) S(e, o); else if (s.objectMode || t && t.length > 0) if (\"string\" == typeof t || s.objectMode || Object.getPrototypeOf(t) === a.prototype || (t = function (e) { return a.from(e) }(t)), n) s.endEmitted ? S(e, new v) : T(e, s, t, !0); else if (s.ended) S(e, new _); else { if (s.destroyed) return !1; s.reading = !1, s.decoder && !r ? (t = s.decoder.write(t), s.objectMode || 0 !== t.length ? T(e, s, t, !1) : O(e, s)) : T(e, s, t, !1) } else n || (s.reading = !1, O(e, s)); return !s.ended && (s.length < s.highWaterMark || 0 === s.length) } function T(e, t, r, n) { t.flowing && 0 === t.length && !t.sync ? (t.awaitDrain = 0, e.emit(\"data\", r)) : (t.length += t.objectMode ? 1 : r.length, n ? t.buffer.unshift(r) : t.buffer.push(r), t.needReadable && A(e)), O(e, t) } Object.defineProperty(I.prototype, \"destroyed\", { enumerable: !1, get: function () { return void 0 !== this._readableState && this._readableState.destroyed }, set: function (e) { this._readableState && (this._readableState.destroyed = e) } }), I.prototype.destroy = g.destroy, I.prototype._undestroy = g.undestroy, I.prototype._destroy = function (e, t) { t(e) }, I.prototype.push = function (e, t) { var r, n = this._readableState; return n.objectMode ? r = !0 : \"string\" == typeof e && ((t = t || n.defaultEncoding) !== n.encoding && (e = a.from(e, t), t = \"\"), r = !0), C(this, e, t, !1, r) }, I.prototype.unshift = function (e) { return C(this, e, null, !0, !1) }, I.prototype.isPaused = function () { return !1 === this._readableState.flowing }, I.prototype.setEncoding = function (t) { f || (f = e(\"string_decoder/\").StringDecoder); var r = new f(t); this._readableState.decoder = r, this._readableState.encoding = this._readableState.decoder.encoding; for (var n = this._readableState.buffer.head, i = \"\"; null !== n;)i += r.write(n.data), n = n.next; return this._readableState.buffer.clear(), \"\" !== i && this._readableState.buffer.push(i), this._readableState.length = i.length, this }; var x = 1073741824; function R(e, t) { return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e != e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = function (e) { return e >= x ? e = x : (e-- , e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, e |= e >>> 16, e++), e }(e)), e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0, 0)) } function A(e) { var t = e._readableState; c(\"emitReadable\", t.needReadable, t.emittedReadable), t.needReadable = !1, t.emittedReadable || (c(\"emitReadable\", t.flowing), t.emittedReadable = !0, r.nextTick(M, e)) } function M(e) { var t = e._readableState; c(\"emitReadable_\", t.destroyed, t.length, t.ended), t.destroyed || !t.length && !t.ended || (e.emit(\"readable\"), t.emittedReadable = !1), t.needReadable = !t.flowing && !t.ended && t.length <= t.highWaterMark, U(e) } function O(e, t) { t.readingMore || (t.readingMore = !0, r.nextTick(P, e, t)) } function P(e, t) { for (; !t.reading && !t.ended && (t.length < t.highWaterMark || t.flowing && 0 === t.length);) { var r = t.length; if (c(\"maybeReadMore read 0\"), e.read(0), r === t.length) break } t.readingMore = !1 } function B(e) { var t = e._readableState; t.readableListening = e.listenerCount(\"readable\") > 0, t.resumeScheduled && !t.paused ? t.flowing = !0 : e.listenerCount(\"data\") > 0 && e.resume() } function L(e) { c(\"readable nexttick read 0\"), e.read(0) } function j(e, t) { c(\"resume\", t.reading), t.reading || e.read(0), t.resumeScheduled = !1, e.emit(\"resume\"), U(e), t.flowing && !t.reading && e.read(0) } function U(e) { var t = e._readableState; for (c(\"flow\", t.flowing); t.flowing && null !== e.read();); } function N(e, t) { return 0 === t.length ? null : (t.objectMode ? r = t.buffer.shift() : !e || e >= t.length ? (r = t.decoder ? t.buffer.join(\"\") : 1 === t.buffer.length ? t.buffer.first() : t.buffer.concat(t.length), t.buffer.clear()) : r = t.buffer.consume(e, t.decoder), r); var r } function q(e) { var t = e._readableState; c(\"endReadable\", t.endEmitted), t.endEmitted || (t.ended = !0, r.nextTick(D, t, e)) } function D(e, t) { if (c(\"endReadableNT\", e.endEmitted, e.length), !e.endEmitted && 0 === e.length && (e.endEmitted = !0, t.readable = !1, t.emit(\"end\"), e.autoDestroy)) { var r = t._writableState; (!r || r.autoDestroy && r.finished) && t.destroy() } } function F(e, t) { for (var r = 0, n = e.length; r < n; r++)if (e[r] === t) return r; return -1 } I.prototype.read = function (e) { c(\"read\", e), e = parseInt(e, 10); var t = this._readableState, r = e; if (0 !== e && (t.emittedReadable = !1), 0 === e && t.needReadable && ((0 !== t.highWaterMark ? t.length >= t.highWaterMark : t.length > 0) || t.ended)) return c(\"read: emitReadable\", t.length, t.ended), 0 === t.length && t.ended ? q(this) : A(this), null; if (0 === (e = R(e, t)) && t.ended) return 0 === t.length && q(this), null; var n, i = t.needReadable; return c(\"need readable\", i), (0 === t.length || t.length - e < t.highWaterMark) && c(\"length less than watermark\", i = !0), t.ended || t.reading ? c(\"reading or ended\", i = !1) : i && (c(\"do read\"), t.reading = !0, t.sync = !0, 0 === t.length && (t.needReadable = !0), this._read(t.highWaterMark), t.sync = !1, t.reading || (e = R(r, t))), null === (n = e > 0 ? N(e, t) : null) ? (t.needReadable = t.length <= t.highWaterMark, e = 0) : (t.length -= e, t.awaitDrain = 0), 0 === t.length && (t.ended || (t.needReadable = !0), r !== e && t.ended && q(this)), null !== n && this.emit(\"data\", n), n }, I.prototype._read = function (e) { S(this, new w(\"_read()\")) }, I.prototype.pipe = function (e, t) { var n = this, i = this._readableState; switch (i.pipesCount) { case 0: i.pipes = e; break; case 1: i.pipes = [i.pipes, e]; break; default: i.pipes.push(e) }i.pipesCount += 1, c(\"pipe count=%d opts=%j\", i.pipesCount, t); var s = (!t || !1 !== t.end) && e !== r.stdout && e !== r.stderr ? u : b; function a(t, r) { c(\"onunpipe\"), t === n && r && !1 === r.hasUnpiped && (r.hasUnpiped = !0, c(\"cleanup\"), e.removeListener(\"close\", d), e.removeListener(\"finish\", g), e.removeListener(\"drain\", l), e.removeListener(\"error\", p), e.removeListener(\"unpipe\", a), n.removeListener(\"end\", u), n.removeListener(\"end\", b), n.removeListener(\"data\", h), f = !0, !i.awaitDrain || e._writableState && !e._writableState.needDrain || l()) } function u() { c(\"onend\"), e.end() } i.endEmitted ? r.nextTick(s) : n.once(\"end\", s), e.on(\"unpipe\", a); var l = function (e) { return function () { var t = e._readableState; c(\"pipeOnDrain\", t.awaitDrain), t.awaitDrain && t.awaitDrain-- , 0 === t.awaitDrain && o(e, \"data\") && (t.flowing = !0, U(e)) } }(n); e.on(\"drain\", l); var f = !1; function h(t) { c(\"ondata\"); var r = e.write(t); c(\"dest.write\", r), !1 === r && ((1 === i.pipesCount && i.pipes === e || i.pipesCount > 1 && -1 !== F(i.pipes, e)) && !f && (c(\"false write response, pause\", i.awaitDrain), i.awaitDrain++), n.pause()) } function p(t) { c(\"onerror\", t), b(), e.removeListener(\"error\", p), 0 === o(e, \"error\") && S(e, t) } function d() { e.removeListener(\"finish\", g), b() } function g() { c(\"onfinish\"), e.removeListener(\"close\", d), b() } function b() { c(\"unpipe\"), n.unpipe(e) } return n.on(\"data\", h), function (e, t, r) { if (\"function\" == typeof e.prependListener) return e.prependListener(t, r); e._events && e._events[t] ? Array.isArray(e._events[t]) ? e._events[t].unshift(r) : e._events[t] = [r, e._events[t]] : e.on(t, r) }(e, \"error\", p), e.once(\"close\", d), e.once(\"finish\", g), e.emit(\"pipe\", n), i.flowing || (c(\"pipe resume\"), n.resume()), e }, I.prototype.unpipe = function (e) { var t = this._readableState, r = { hasUnpiped: !1 }; if (0 === t.pipesCount) return this; if (1 === t.pipesCount) return e && e !== t.pipes ? this : (e || (e = t.pipes), t.pipes = null, t.pipesCount = 0, t.flowing = !1, e && e.emit(\"unpipe\", this, r), this); if (!e) { var n = t.pipes, i = t.pipesCount; t.pipes = null, t.pipesCount = 0, t.flowing = !1; for (var o = 0; o < i; o++)n[o].emit(\"unpipe\", this, { hasUnpiped: !1 }); return this } var s = F(t.pipes, e); return -1 === s ? this : (t.pipes.splice(s, 1), t.pipesCount -= 1, 1 === t.pipesCount && (t.pipes = t.pipes[0]), e.emit(\"unpipe\", this, r), this) }, I.prototype.on = function (e, t) { var n = s.prototype.on.call(this, e, t), i = this._readableState; return \"data\" === e ? (i.readableListening = this.listenerCount(\"readable\") > 0, !1 !== i.flowing && this.resume()) : \"readable\" === e && (i.endEmitted || i.readableListening || (i.readableListening = i.needReadable = !0, i.flowing = !1, i.emittedReadable = !1, c(\"on readable\", i.length, i.reading), i.length ? A(this) : i.reading || r.nextTick(L, this))), n }, I.prototype.addListener = I.prototype.on, I.prototype.removeListener = function (e, t) { var n = s.prototype.removeListener.call(this, e, t); return \"readable\" === e && r.nextTick(B, this), n }, I.prototype.removeAllListeners = function (e) { var t = s.prototype.removeAllListeners.apply(this, arguments); return \"readable\" !== e && void 0 !== e || r.nextTick(B, this), t }, I.prototype.resume = function () { var e = this._readableState; return e.flowing || (c(\"resume\"), e.flowing = !e.readableListening, function (e, t) { t.resumeScheduled || (t.resumeScheduled = !0, r.nextTick(j, e, t)) }(this, e)), e.paused = !1, this }, I.prototype.pause = function () { return c(\"call pause flowing=%j\", this._readableState.flowing), !1 !== this._readableState.flowing && (c(\"pause\"), this._readableState.flowing = !1, this.emit(\"pause\")), this._readableState.paused = !0, this }, I.prototype.wrap = function (e) { var t = this, r = this._readableState, n = !1; for (var i in e.on(\"end\", function () { if (c(\"wrapped end\"), r.decoder && !r.ended) { var e = r.decoder.end(); e && e.length && t.push(e) } t.push(null) }), e.on(\"data\", function (i) { (c(\"wrapped data\"), r.decoder && (i = r.decoder.write(i)), !r.objectMode || null !== i && void 0 !== i) && ((r.objectMode || i && i.length) && (t.push(i) || (n = !0, e.pause()))) }), e) void 0 === this[i] && \"function\" == typeof e[i] && (this[i] = function (t) { return function () { return e[t].apply(e, arguments) } }(i)); for (var o = 0; o < E.length; o++)e.on(E[o], this.emit.bind(this, E[o])); return this._read = function (t) { c(\"wrapped _read\", t), n && (n = !1, e.resume()) }, this }, \"function\" == typeof Symbol && (I.prototype[Symbol.asyncIterator] = function () { return void 0 === h && (h = e(\"./internal/streams/async_iterator\")), h(this) }), Object.defineProperty(I.prototype, \"readableHighWaterMark\", { enumerable: !1, get: function () { return this._readableState.highWaterMark } }), Object.defineProperty(I.prototype, \"readableBuffer\", { enumerable: !1, get: function () { return this._readableState && this._readableState.buffer } }), Object.defineProperty(I.prototype, \"readableFlowing\", { enumerable: !1, get: function () { return this._readableState.flowing }, set: function (e) { this._readableState && (this._readableState.flowing = e) } }), I._fromList = N, Object.defineProperty(I.prototype, \"readableLength\", { enumerable: !1, get: function () { return this._readableState.length } }), \"function\" == typeof Symbol && (I.from = function (t, r) { return void 0 === p && (p = e(\"./internal/streams/from\")), p(I, t, r) }) }).call(this) }).call(this, e(\"_process\"), \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {}) }, { \"../errors\": 51, \"./_stream_duplex\": 52, \"./internal/streams/async_iterator\": 57, \"./internal/streams/buffer_list\": 58, \"./internal/streams/destroy\": 59, \"./internal/streams/from\": 61, \"./internal/streams/state\": 63, \"./internal/streams/stream\": 64, _process: 46, buffer: 14, events: 31, inherits: 33, \"string_decoder/\": 69, util: 13 }], 55: [function (e, t, r) { \"use strict\"; t.exports = c; var n = e(\"../errors\").codes, i = n.ERR_METHOD_NOT_IMPLEMENTED, o = n.ERR_MULTIPLE_CALLBACK, s = n.ERR_TRANSFORM_ALREADY_TRANSFORMING, a = n.ERR_TRANSFORM_WITH_LENGTH_0, u = e(\"./_stream_duplex\"); function c(e) { if (!(this instanceof c)) return new c(e); u.call(this, e), this._transformState = { afterTransform: function (e, t) { var r = this._transformState; r.transforming = !1; var n = r.writecb; if (null === n) return this.emit(\"error\", new o); r.writechunk = null, r.writecb = null, null != t && this.push(t), n(e); var i = this._readableState; i.reading = !1, (i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark) }.bind(this), needTransform: !1, transforming: !1, writecb: null, writechunk: null, writeencoding: null }, this._readableState.needReadable = !0, this._readableState.sync = !1, e && (\"function\" == typeof e.transform && (this._transform = e.transform), \"function\" == typeof e.flush && (this._flush = e.flush)), this.on(\"prefinish\", l) } function l() { var e = this; \"function\" != typeof this._flush || this._readableState.destroyed ? f(this, null, null) : this._flush(function (t, r) { f(e, t, r) }) } function f(e, t, r) { if (t) return e.emit(\"error\", t); if (null != r && e.push(r), e._writableState.length) throw new a; if (e._transformState.transforming) throw new s; return e.push(null) } e(\"inherits\")(c, u), c.prototype.push = function (e, t) { return this._transformState.needTransform = !1, u.prototype.push.call(this, e, t) }, c.prototype._transform = function (e, t, r) { r(new i(\"_transform()\")) }, c.prototype._write = function (e, t, r) { var n = this._transformState; if (n.writecb = r, n.writechunk = e, n.writeencoding = t, !n.transforming) { var i = this._readableState; (n.needTransform || i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark) } }, c.prototype._read = function (e) { var t = this._transformState; null === t.writechunk || t.transforming ? t.needTransform = !0 : (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform)) }, c.prototype._destroy = function (e, t) { u.prototype._destroy.call(this, e, function (e) { t(e) }) } }, { \"../errors\": 51, \"./_stream_duplex\": 52, inherits: 33 }], 56: [function (e, t, r) { (function (r, n) { (function () { \"use strict\"; function i(e) { var t = this; this.next = null, this.entry = null, this.finish = function () { !function (e, t, r) { var n = e.entry; e.entry = null; for (; n;) { var i = n.callback; t.pendingcb-- , i(r), n = n.next } t.corkedRequestsFree.next = e }(t, e) } } var o; t.exports = I, I.WritableState = k; var s = { deprecate: e(\"util-deprecate\") }, a = e(\"./internal/streams/stream\"), u = e(\"buffer\").Buffer, c = n.Uint8Array || function () { }; var l, f = e(\"./internal/streams/destroy\"), h = e(\"./internal/streams/state\").getHighWaterMark, p = e(\"../errors\").codes, d = p.ERR_INVALID_ARG_TYPE, g = p.ERR_METHOD_NOT_IMPLEMENTED, b = p.ERR_MULTIPLE_CALLBACK, m = p.ERR_STREAM_CANNOT_PIPE, y = p.ERR_STREAM_DESTROYED, _ = p.ERR_STREAM_NULL_VALUES, w = p.ERR_STREAM_WRITE_AFTER_END, v = p.ERR_UNKNOWN_ENCODING, S = f.errorOrDestroy; function E() { } function k(t, n, s) { o = o || e(\"./_stream_duplex\"), t = t || {}, \"boolean\" != typeof s && (s = n instanceof o), this.objectMode = !!t.objectMode, s && (this.objectMode = this.objectMode || !!t.writableObjectMode), this.highWaterMark = h(this, t, \"writableHighWaterMark\", s), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1; var a = !1 === t.decodeStrings; this.decodeStrings = !a, this.defaultEncoding = t.defaultEncoding || \"utf8\", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (e) { !function (e, t) { var n = e._writableState, i = n.sync, o = n.writecb; if (\"function\" != typeof o) throw new b; if (function (e) { e.writing = !1, e.writecb = null, e.length -= e.writelen, e.writelen = 0 }(n), t) !function (e, t, n, i, o) { --t.pendingcb, n ? (r.nextTick(o, i), r.nextTick(M, e, t), e._writableState.errorEmitted = !0, S(e, i)) : (o(i), e._writableState.errorEmitted = !0, S(e, i), M(e, t)) }(e, n, i, t, o); else { var s = R(n) || e.destroyed; s || n.corked || n.bufferProcessing || !n.bufferedRequest || x(e, n), i ? r.nextTick(T, e, n, s, o) : T(e, n, s, o) } }(n, e) }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !1 !== t.emitClose, this.autoDestroy = !!t.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new i(this) } function I(t) { var r = this instanceof (o = o || e(\"./_stream_duplex\")); if (!r && !l.call(I, this)) return new I(t); this._writableState = new k(t, this, r), this.writable = !0, t && (\"function\" == typeof t.write && (this._write = t.write), \"function\" == typeof t.writev && (this._writev = t.writev), \"function\" == typeof t.destroy && (this._destroy = t.destroy), \"function\" == typeof t.final && (this._final = t.final)), a.call(this) } function C(e, t, r, n, i, o, s) { t.writelen = n, t.writecb = s, t.writing = !0, t.sync = !0, t.destroyed ? t.onwrite(new y(\"write\")) : r ? e._writev(i, t.onwrite) : e._write(i, o, t.onwrite), t.sync = !1 } function T(e, t, r, n) { r || function (e, t) { 0 === t.length && t.needDrain && (t.needDrain = !1, e.emit(\"drain\")) }(e, t), t.pendingcb-- , n(), M(e, t) } function x(e, t) { t.bufferProcessing = !0; var r = t.bufferedRequest; if (e._writev && r && r.next) { var n = t.bufferedRequestCount, o = new Array(n), s = t.corkedRequestsFree; s.entry = r; for (var a = 0, u = !0; r;)o[a] = r, r.isBuf || (u = !1), r = r.next, a += 1; o.allBuffers = u, C(e, t, !0, t.length, o, \"\", s.finish), t.pendingcb++ , t.lastBufferedRequest = null, s.next ? (t.corkedRequestsFree = s.next, s.next = null) : t.corkedRequestsFree = new i(t), t.bufferedRequestCount = 0 } else { for (; r;) { var c = r.chunk, l = r.encoding, f = r.callback; if (C(e, t, !1, t.objectMode ? 1 : c.length, c, l, f), r = r.next, t.bufferedRequestCount-- , t.writing) break } null === r && (t.lastBufferedRequest = null) } t.bufferedRequest = r, t.bufferProcessing = !1 } function R(e) { return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing } function A(e, t) { e._final(function (r) { t.pendingcb-- , r && S(e, r), t.prefinished = !0, e.emit(\"prefinish\"), M(e, t) }) } function M(e, t) { var n = R(t); if (n && (function (e, t) { t.prefinished || t.finalCalled || (\"function\" != typeof e._final || t.destroyed ? (t.prefinished = !0, e.emit(\"prefinish\")) : (t.pendingcb++ , t.finalCalled = !0, r.nextTick(A, e, t))) }(e, t), 0 === t.pendingcb && (t.finished = !0, e.emit(\"finish\"), t.autoDestroy))) { var i = e._readableState; (!i || i.autoDestroy && i.endEmitted) && e.destroy() } return n } e(\"inherits\")(I, a), k.prototype.getBuffer = function () { for (var e = this.bufferedRequest, t = []; e;)t.push(e), e = e.next; return t }, function () { try { Object.defineProperty(k.prototype, \"buffer\", { get: s.deprecate(function () { return this.getBuffer() }, \"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\", \"DEP0003\") }) } catch (e) { } }(), \"function\" == typeof Symbol && Symbol.hasInstance && \"function\" == typeof Function.prototype[Symbol.hasInstance] ? (l = Function.prototype[Symbol.hasInstance], Object.defineProperty(I, Symbol.hasInstance, { value: function (e) { return !!l.call(this, e) || this === I && (e && e._writableState instanceof k) } })) : l = function (e) { return e instanceof this }, I.prototype.pipe = function () { S(this, new m) }, I.prototype.write = function (e, t, n) { var i, o = this._writableState, s = !1, a = !o.objectMode && (i = e, u.isBuffer(i) || i instanceof c); return a && !u.isBuffer(e) && (e = function (e) { return u.from(e) }(e)), \"function\" == typeof t && (n = t, t = null), a ? t = \"buffer\" : t || (t = o.defaultEncoding), \"function\" != typeof n && (n = E), o.ending ? function (e, t) { var n = new w; S(e, n), r.nextTick(t, n) }(this, n) : (a || function (e, t, n, i) { var o; return null === n ? o = new _ : \"string\" == typeof n || t.objectMode || (o = new d(\"chunk\", [\"string\", \"Buffer\"], n)), !o || (S(e, o), r.nextTick(i, o), !1) }(this, o, e, n)) && (o.pendingcb++ , s = function (e, t, r, n, i, o) { if (!r) { var s = function (e, t, r) { e.objectMode || !1 === e.decodeStrings || \"string\" != typeof t || (t = u.from(t, r)); return t }(t, n, i); n !== s && (r = !0, i = \"buffer\", n = s) } var a = t.objectMode ? 1 : n.length; t.length += a; var c = t.length < t.highWaterMark; c || (t.needDrain = !0); if (t.writing || t.corked) { var l = t.lastBufferedRequest; t.lastBufferedRequest = { chunk: n, encoding: i, isBuf: r, callback: o, next: null }, l ? l.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest, t.bufferedRequestCount += 1 } else C(e, t, !1, a, n, i, o); return c }(this, o, a, e, t, n)), s }, I.prototype.cork = function () { this._writableState.corked++ }, I.prototype.uncork = function () { var e = this._writableState; e.corked && (e.corked-- , e.writing || e.corked || e.bufferProcessing || !e.bufferedRequest || x(this, e)) }, I.prototype.setDefaultEncoding = function (e) { if (\"string\" == typeof e && (e = e.toLowerCase()), !([\"hex\", \"utf8\", \"utf-8\", \"ascii\", \"binary\", \"base64\", \"ucs2\", \"ucs-2\", \"utf16le\", \"utf-16le\", \"raw\"].indexOf((e + \"\").toLowerCase()) > -1)) throw new v(e); return this._writableState.defaultEncoding = e, this }, Object.defineProperty(I.prototype, \"writableBuffer\", { enumerable: !1, get: function () { return this._writableState && this._writableState.getBuffer() } }), Object.defineProperty(I.prototype, \"writableHighWaterMark\", { enumerable: !1, get: function () { return this._writableState.highWaterMark } }), I.prototype._write = function (e, t, r) { r(new g(\"_write()\")) }, I.prototype._writev = null, I.prototype.end = function (e, t, n) { var i = this._writableState; return \"function\" == typeof e ? (n = e, e = null, t = null) : \"function\" == typeof t && (n = t, t = null), null !== e && void 0 !== e && this.write(e, t), i.corked && (i.corked = 1, this.uncork()), i.ending || function (e, t, n) { t.ending = !0, M(e, t), n && (t.finished ? r.nextTick(n) : e.once(\"finish\", n)); t.ended = !0, e.writable = !1 }(this, i, n), this }, Object.defineProperty(I.prototype, \"writableLength\", { enumerable: !1, get: function () { return this._writableState.length } }), Object.defineProperty(I.prototype, \"destroyed\", { enumerable: !1, get: function () { return void 0 !== this._writableState && this._writableState.destroyed }, set: function (e) { this._writableState && (this._writableState.destroyed = e) } }), I.prototype.destroy = f.destroy, I.prototype._undestroy = f.undestroy, I.prototype._destroy = function (e, t) { t(e) } }).call(this) }).call(this, e(\"_process\"), \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {}) }, { \"../errors\": 51, \"./_stream_duplex\": 52, \"./internal/streams/destroy\": 59, \"./internal/streams/state\": 63, \"./internal/streams/stream\": 64, _process: 46, buffer: 14, inherits: 33, \"util-deprecate\": 73 }], 57: [function (e, t, r) { (function (r) { (function () { \"use strict\"; var n; function i(e, t, r) { return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } var o = e(\"./end-of-stream\"), s = Symbol(\"lastResolve\"), a = Symbol(\"lastReject\"), u = Symbol(\"error\"), c = Symbol(\"ended\"), l = Symbol(\"lastPromise\"), f = Symbol(\"handlePromise\"), h = Symbol(\"stream\"); function p(e, t) { return { value: e, done: t } } function d(e) { var t = e[s]; if (null !== t) { var r = e[h].read(); null !== r && (e[l] = null, e[s] = null, e[a] = null, t(p(r, !1))) } } var g = Object.getPrototypeOf(function () { }), b = Object.setPrototypeOf((i(n = { get stream() { return this[h] }, next: function () { var e = this, t = this[u]; if (null !== t) return Promise.reject(t); if (this[c]) return Promise.resolve(p(void 0, !0)); if (this[h].destroyed) return new Promise(function (t, n) { r.nextTick(function () { e[u] ? n(e[u]) : t(p(void 0, !0)) }) }); var n, i = this[l]; if (i) n = new Promise(function (e, t) { return function (r, n) { e.then(function () { t[c] ? r(p(void 0, !0)) : t[f](r, n) }, n) } }(i, this)); else { var o = this[h].read(); if (null !== o) return Promise.resolve(p(o, !1)); n = new Promise(this[f]) } return this[l] = n, n } }, Symbol.asyncIterator, function () { return this }), i(n, \"return\", function () { var e = this; return new Promise(function (t, r) { e[h].destroy(null, function (e) { e ? r(e) : t(p(void 0, !0)) }) }) }), n), g); t.exports = function (e) { var t, n = Object.create(b, (i(t = {}, h, { value: e, writable: !0 }), i(t, s, { value: null, writable: !0 }), i(t, a, { value: null, writable: !0 }), i(t, u, { value: null, writable: !0 }), i(t, c, { value: e._readableState.endEmitted, writable: !0 }), i(t, f, { value: function (e, t) { var r = n[h].read(); r ? (n[l] = null, n[s] = null, n[a] = null, e(p(r, !1))) : (n[s] = e, n[a] = t) }, writable: !0 }), t)); return n[l] = null, o(e, function (e) { if (e && \"ERR_STREAM_PREMATURE_CLOSE\" !== e.code) { var t = n[a]; return null !== t && (n[l] = null, n[s] = null, n[a] = null, t(e)), void (n[u] = e) } var r = n[s]; null !== r && (n[l] = null, n[s] = null, n[a] = null, r(p(void 0, !0))), n[c] = !0 }), e.on(\"readable\", function (e) { r.nextTick(d, e) }.bind(null, n)), n } }).call(this) }).call(this, e(\"_process\")) }, { \"./end-of-stream\": 60, _process: 46 }], 58: [function (e, t, r) { \"use strict\"; function n(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable })), r.push.apply(r, n) } return r } function i(e, t, r) { return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function o(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var s = e(\"buffer\").Buffer, a = e(\"util\").inspect, u = a && a.custom || \"inspect\"; t.exports = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\") }(this, e), this.head = null, this.tail = null, this.length = 0 } var t, r, c; return t = e, (r = [{ key: \"push\", value: function (e) { var t = { data: e, next: null }; this.length > 0 ? this.tail.next = t : this.head = t, this.tail = t, ++this.length } }, { key: \"unshift\", value: function (e) { var t = { data: e, next: this.head }; 0 === this.length && (this.tail = t), this.head = t, ++this.length } }, { key: \"shift\", value: function () { if (0 !== this.length) { var e = this.head.data; return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, e } } }, { key: \"clear\", value: function () { this.head = this.tail = null, this.length = 0 } }, { key: \"join\", value: function (e) { if (0 === this.length) return \"\"; for (var t = this.head, r = \"\" + t.data; t = t.next;)r += e + t.data; return r } }, { key: \"concat\", value: function (e) { if (0 === this.length) return s.alloc(0); for (var t, r, n, i = s.allocUnsafe(e >>> 0), o = this.head, a = 0; o;)t = o.data, r = i, n = a, s.prototype.copy.call(t, r, n), a += o.data.length, o = o.next; return i } }, { key: \"consume\", value: function (e, t) { var r; return e < this.head.data.length ? (r = this.head.data.slice(0, e), this.head.data = this.head.data.slice(e)) : r = e === this.head.data.length ? this.shift() : t ? this._getString(e) : this._getBuffer(e), r } }, { key: \"first\", value: function () { return this.head.data } }, { key: \"_getString\", value: function (e) { var t = this.head, r = 1, n = t.data; for (e -= n.length; t = t.next;) { var i = t.data, o = e > i.length ? i.length : e; if (o === i.length ? n += i : n += i.slice(0, e), 0 === (e -= o)) { o === i.length ? (++r, t.next ? this.head = t.next : this.head = this.tail = null) : (this.head = t, t.data = i.slice(o)); break } ++r } return this.length -= r, n } }, { key: \"_getBuffer\", value: function (e) { var t = s.allocUnsafe(e), r = this.head, n = 1; for (r.data.copy(t), e -= r.data.length; r = r.next;) { var i = r.data, o = e > i.length ? i.length : e; if (i.copy(t, t.length - e, 0, o), 0 === (e -= o)) { o === i.length ? (++n, r.next ? this.head = r.next : this.head = this.tail = null) : (this.head = r, r.data = i.slice(o)); break } ++n } return this.length -= n, t } }, { key: u, value: function (e, t) { return a(this, function (e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}; t % 2 ? n(Object(r), !0).forEach(function (t) { i(e, t, r[t]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : n(Object(r)).forEach(function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t)) }) } return e }({}, t, { depth: 0, customInspect: !1 })) } }]) && o(t.prototype, r), c && o(t, c), e }() }, { buffer: 14, util: 13 }], 59: [function (e, t, r) { (function (e) { (function () { \"use strict\"; function r(e, t) { i(e, t), n(e) } function n(e) { e._writableState && !e._writableState.emitClose || e._readableState && !e._readableState.emitClose || e.emit(\"close\") } function i(e, t) { e.emit(\"error\", t) } t.exports = { destroy: function (t, o) { var s = this, a = this._readableState && this._readableState.destroyed, u = this._writableState && this._writableState.destroyed; return a || u ? (o ? o(t) : t && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, e.nextTick(i, this, t)) : e.nextTick(i, this, t)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(t || null, function (t) { !o && t ? s._writableState ? s._writableState.errorEmitted ? e.nextTick(n, s) : (s._writableState.errorEmitted = !0, e.nextTick(r, s, t)) : e.nextTick(r, s, t) : o ? (e.nextTick(n, s), o(t)) : e.nextTick(n, s) }), this) }, undestroy: function () { this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1) }, errorOrDestroy: function (e, t) { var r = e._readableState, n = e._writableState; r && r.autoDestroy || n && n.autoDestroy ? e.destroy(t) : e.emit(\"error\", t) } } }).call(this) }).call(this, e(\"_process\")) }, { _process: 46 }], 60: [function (e, t, r) { \"use strict\"; var n = e(\"../../../errors\").codes.ERR_STREAM_PREMATURE_CLOSE; function i() { } t.exports = function e(t, r, o) { if (\"function\" == typeof r) return e(t, null, r); r || (r = {}), o = function (e) { var t = !1; return function () { if (!t) { t = !0; for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; e.apply(this, n) } } }(o || i); var s = r.readable || !1 !== r.readable && t.readable, a = r.writable || !1 !== r.writable && t.writable, u = function () { t.writable || l() }, c = t._writableState && t._writableState.finished, l = function () { a = !1, c = !0, s || o.call(t) }, f = t._readableState && t._readableState.endEmitted, h = function () { s = !1, f = !0, a || o.call(t) }, p = function (e) { o.call(t, e) }, d = function () { var e; return s && !f ? (t._readableState && t._readableState.ended || (e = new n), o.call(t, e)) : a && !c ? (t._writableState && t._writableState.ended || (e = new n), o.call(t, e)) : void 0 }, g = function () { t.req.on(\"finish\", l) }; return function (e) { return e.setHeader && \"function\" == typeof e.abort }(t) ? (t.on(\"complete\", l), t.on(\"abort\", d), t.req ? g() : t.on(\"request\", g)) : a && !t._writableState && (t.on(\"end\", u), t.on(\"close\", u)), t.on(\"end\", h), t.on(\"finish\", l), !1 !== r.error && t.on(\"error\", p), t.on(\"close\", d), function () { t.removeListener(\"complete\", l), t.removeListener(\"abort\", d), t.removeListener(\"request\", g), t.req && t.req.removeListener(\"finish\", l), t.removeListener(\"end\", u), t.removeListener(\"close\", u), t.removeListener(\"finish\", l), t.removeListener(\"end\", h), t.removeListener(\"error\", p), t.removeListener(\"close\", d) } } }, { \"../../../errors\": 51 }], 61: [function (e, t, r) { t.exports = function () { throw new Error(\"Readable.from is not available in the browser\") } }, {}], 62: [function (e, t, r) { \"use strict\"; var n; var i = e(\"../../../errors\").codes, o = i.ERR_MISSING_ARGS, s = i.ERR_STREAM_DESTROYED; function a(e) { if (e) throw e } function u(e) { e() } function c(e, t) { return e.pipe(t) } t.exports = function () { for (var t = arguments.length, r = new Array(t), i = 0; i < t; i++)r[i] = arguments[i]; var l, f = function (e) { return e.length ? \"function\" != typeof e[e.length - 1] ? a : e.pop() : a }(r); if (Array.isArray(r[0]) && (r = r[0]), r.length < 2) throw new o(\"streams\"); var h = r.map(function (t, i) { var o = i < r.length - 1; return function (t, r, i, o) { o = function (e) { var t = !1; return function () { t || (t = !0, e.apply(void 0, arguments)) } }(o); var a = !1; t.on(\"close\", function () { a = !0 }), void 0 === n && (n = e(\"./end-of-stream\")), n(t, { readable: r, writable: i }, function (e) { if (e) return o(e); a = !0, o() }); var u = !1; return function (e) { if (!a && !u) return u = !0, function (e) { return e.setHeader && \"function\" == typeof e.abort }(t) ? t.abort() : \"function\" == typeof t.destroy ? t.destroy() : void o(e || new s(\"pipe\")) } }(t, o, i > 0, function (e) { l || (l = e), e && h.forEach(u), o || (h.forEach(u), f(l)) }) }); return r.reduce(c) } }, { \"../../../errors\": 51, \"./end-of-stream\": 60 }], 63: [function (e, t, r) { \"use strict\"; var n = e(\"../../../errors\").codes.ERR_INVALID_OPT_VALUE; t.exports = { getHighWaterMark: function (e, t, r, i) { var o = function (e, t, r) { return null != e.highWaterMark ? e.highWaterMark : t ? e[r] : null }(t, i, r); if (null != o) { if (!isFinite(o) || Math.floor(o) !== o || o < 0) throw new n(i ? r : \"highWaterMark\", o); return Math.floor(o) } return e.objectMode ? 16 : 16384 } } }, { \"../../../errors\": 51 }], 64: [function (e, t, r) { arguments[4][26][0].apply(r, arguments) }, { dup: 26, events: 31 }], 65: [function (e, t, r) { (r = t.exports = e(\"./lib/_stream_readable.js\")).Stream = r, r.Readable = r, r.Writable = e(\"./lib/_stream_writable.js\"), r.Duplex = e(\"./lib/_stream_duplex.js\"), r.Transform = e(\"./lib/_stream_transform.js\"), r.PassThrough = e(\"./lib/_stream_passthrough.js\"), r.finished = e(\"./lib/internal/streams/end-of-stream.js\"), r.pipeline = e(\"./lib/internal/streams/pipeline.js\") }, { \"./lib/_stream_duplex.js\": 52, \"./lib/_stream_passthrough.js\": 53, \"./lib/_stream_readable.js\": 54, \"./lib/_stream_transform.js\": 55, \"./lib/_stream_writable.js\": 56, \"./lib/internal/streams/end-of-stream.js\": 60, \"./lib/internal/streams/pipeline.js\": 62 }], 66: [function (e, t, r) { \"use strict\"; t.exports = function () { if (\"function\" != typeof arguments[0]) throw new Error(\"callback needed\"); if (\"number\" != typeof arguments[1]) throw new Error(\"interval needed\"); var e; if (arguments.length > 0) { e = new Array(arguments.length - 2); for (var t = 0; t < e.length; t++)e[t] = arguments[t + 2] } return new function (e, t, r) { var n = this; this._callback = e, this._args = r, this._interval = setInterval(e, t, this._args), this.reschedule = function (e) { e || (e = n._interval), n._interval && clearInterval(n._interval), n._interval = setInterval(n._callback, e, n._args) }, this.clear = function () { n._interval && (clearInterval(n._interval), n._interval = void 0) }, this.destroy = function () { n._interval && clearInterval(n._interval), n._callback = void 0, n._interval = void 0, n._args = void 0 } }(arguments[0], arguments[1], e) } }, {}], 67: [function (e, t, r) { var n = e(\"buffer\"), i = n.Buffer; function o(e, t) { for (var r in e) t[r] = e[r] } function s(e, t, r) { return i(e, t, r) } i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? t.exports = n : (o(n, r), r.Buffer = s), s.prototype = Object.create(i.prototype), o(i, s), s.from = function (e, t, r) { if (\"number\" == typeof e) throw new TypeError(\"Argument must not be a number\"); return i(e, t, r) }, s.alloc = function (e, t, r) { if (\"number\" != typeof e) throw new TypeError(\"Argument must be a number\"); var n = i(e); return void 0 !== t ? \"string\" == typeof r ? n.fill(t, r) : n.fill(t) : n.fill(0), n }, s.allocUnsafe = function (e) { if (\"number\" != typeof e) throw new TypeError(\"Argument must be a number\"); return i(e) }, s.allocUnsafeSlow = function (e) { if (\"number\" != typeof e) throw new TypeError(\"Argument must be a number\"); return n.SlowBuffer(e) } }, { buffer: 14 }], 68: [function (e, t, r) { t.exports = function (e) { var t = e._readableState; return t ? t.objectMode || \"number\" == typeof e._duplexState ? e.read() : e.read((r = t, r.buffer.length ? r.buffer.head ? r.buffer.head.data.length : r.buffer[0].length : r.length)) : null; var r } }, {}], 69: [function (e, t, r) { arguments[4][29][0].apply(r, arguments) }, { dup: 29, \"safe-buffer\": 67 }], 70: [function (e, t, r) { (function (t, n) { (function () { var i = e(\"process/browser.js\").nextTick, o = Function.prototype.apply, s = Array.prototype.slice, a = {}, u = 0; function c(e, t) { this._id = e, this._clearFn = t } r.setTimeout = function () { return new c(o.call(setTimeout, window, arguments), clearTimeout) }, r.setInterval = function () { return new c(o.call(setInterval, window, arguments), clearInterval) }, r.clearTimeout = r.clearInterval = function (e) { e.close() }, c.prototype.unref = c.prototype.ref = function () { }, c.prototype.close = function () { this._clearFn.call(window, this._id) }, r.enroll = function (e, t) { clearTimeout(e._idleTimeoutId), e._idleTimeout = t }, r.unenroll = function (e) { clearTimeout(e._idleTimeoutId), e._idleTimeout = -1 }, r._unrefActive = r.active = function (e) { clearTimeout(e._idleTimeoutId); var t = e._idleTimeout; t >= 0 && (e._idleTimeoutId = setTimeout(function () { e._onTimeout && e._onTimeout() }, t)) }, r.setImmediate = \"function\" == typeof t ? t : function (e) { var t = u++, n = !(arguments.length < 2) && s.call(arguments, 1); return a[t] = !0, i(function () { a[t] && (n ? e.apply(null, n) : e.call(null), r.clearImmediate(t)) }), t }, r.clearImmediate = \"function\" == typeof n ? n : function (e) { delete a[e] } }).call(this) }).call(this, e(\"timers\").setImmediate, e(\"timers\").clearImmediate) }, { \"process/browser.js\": 46, timers: 70 }], 71: [function (e, t, r) { \"use strict\"; var n = e(\"punycode\"), i = e(\"./util\"); function o() { this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null } r.parse = _, r.resolve = function (e, t) { return _(e, !1, !0).resolve(t) }, r.resolveObject = function (e, t) { return e ? _(e, !1, !0).resolveObject(t) : t }, r.format = function (e) { i.isString(e) && (e = _(e)); return e instanceof o ? e.format() : o.prototype.format.call(e) }, r.Url = o; var s = /^([a-z0-9.+-]+:)/i, a = /:[0-9]*$/, u = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/, c = [\"{\", \"}\", \"|\", \"\\\\\", \"^\", \"`\"].concat([\"<\", \">\", '\"', \"`\", \" \", \"\\r\", \"\\n\", \"\\t\"]), l = [\"'\"].concat(c), f = [\"%\", \"/\", \"?\", \";\", \"#\"].concat(l), h = [\"/\", \"?\", \"#\"], p = /^[+a-z0-9A-Z_-]{0,63}$/, d = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, g = { javascript: !0, \"javascript:\": !0 }, b = { javascript: !0, \"javascript:\": !0 }, m = { http: !0, https: !0, ftp: !0, gopher: !0, file: !0, \"http:\": !0, \"https:\": !0, \"ftp:\": !0, \"gopher:\": !0, \"file:\": !0 }, y = e(\"querystring\"); function _(e, t, r) { if (e && i.isObject(e) && e instanceof o) return e; var n = new o; return n.parse(e, t, r), n } o.prototype.parse = function (e, t, r) { if (!i.isString(e)) throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof e); var o = e.indexOf(\"?\"), a = -1 !== o && o < e.indexOf(\"#\") ? \"?\" : \"#\", c = e.split(a); c[0] = c[0].replace(/\\\\/g, \"/\"); var _ = e = c.join(a); if (_ = _.trim(), !r && 1 === e.split(\"#\").length) { var w = u.exec(_); if (w) return this.path = _, this.href = _, this.pathname = w[1], w[2] ? (this.search = w[2], this.query = t ? y.parse(this.search.substr(1)) : this.search.substr(1)) : t && (this.search = \"\", this.query = {}), this } var v = s.exec(_); if (v) { var S = (v = v[0]).toLowerCase(); this.protocol = S, _ = _.substr(v.length) } if (r || v || _.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) { var E = \"//\" === _.substr(0, 2); !E || v && b[v] || (_ = _.substr(2), this.slashes = !0) } if (!b[v] && (E || v && !m[v])) { for (var k, I, C = -1, T = 0; T < h.length; T++) { -1 !== (x = _.indexOf(h[T])) && (-1 === C || x < C) && (C = x) } -1 !== (I = -1 === C ? _.lastIndexOf(\"@\") : _.lastIndexOf(\"@\", C)) && (k = _.slice(0, I), _ = _.slice(I + 1), this.auth = decodeURIComponent(k)), C = -1; for (T = 0; T < f.length; T++) { var x; -1 !== (x = _.indexOf(f[T])) && (-1 === C || x < C) && (C = x) } -1 === C && (C = _.length), this.host = _.slice(0, C), _ = _.slice(C), this.parseHost(), this.hostname = this.hostname || \"\"; var R = \"[\" === this.hostname[0] && \"]\" === this.hostname[this.hostname.length - 1]; if (!R) for (var A = this.hostname.split(/\\./), M = (T = 0, A.length); T < M; T++) { var O = A[T]; if (O && !O.match(p)) { for (var P = \"\", B = 0, L = O.length; B < L; B++)O.charCodeAt(B) > 127 ? P += \"x\" : P += O[B]; if (!P.match(p)) { var j = A.slice(0, T), U = A.slice(T + 1), N = O.match(d); N && (j.push(N[1]), U.unshift(N[2])), U.length && (_ = \"/\" + U.join(\".\") + _), this.hostname = j.join(\".\"); break } } } this.hostname.length > 255 ? this.hostname = \"\" : this.hostname = this.hostname.toLowerCase(), R || (this.hostname = n.toASCII(this.hostname)); var q = this.port ? \":\" + this.port : \"\", D = this.hostname || \"\"; this.host = D + q, this.href += this.host, R && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), \"/\" !== _[0] && (_ = \"/\" + _)) } if (!g[S]) for (T = 0, M = l.length; T < M; T++) { var F = l[T]; if (-1 !== _.indexOf(F)) { var W = encodeURIComponent(F); W === F && (W = escape(F)), _ = _.split(F).join(W) } } var H = _.indexOf(\"#\"); -1 !== H && (this.hash = _.substr(H), _ = _.slice(0, H)); var V = _.indexOf(\"?\"); if (-1 !== V ? (this.search = _.substr(V), this.query = _.substr(V + 1), t && (this.query = y.parse(this.query)), _ = _.slice(0, V)) : t && (this.search = \"\", this.query = {}), _ && (this.pathname = _), m[S] && this.hostname && !this.pathname && (this.pathname = \"/\"), this.pathname || this.search) { q = this.pathname || \"\"; var K = this.search || \"\"; this.path = q + K } return this.href = this.format(), this }, o.prototype.format = function () { var e = this.auth || \"\"; e && (e = (e = encodeURIComponent(e)).replace(/%3A/i, \":\"), e += \"@\"); var t = this.protocol || \"\", r = this.pathname || \"\", n = this.hash || \"\", o = !1, s = \"\"; this.host ? o = e + this.host : this.hostname && (o = e + (-1 === this.hostname.indexOf(\":\") ? this.hostname : \"[\" + this.hostname + \"]\"), this.port && (o += \":\" + this.port)), this.query && i.isObject(this.query) && Object.keys(this.query).length && (s = y.stringify(this.query)); var a = this.search || s && \"?\" + s || \"\"; return t && \":\" !== t.substr(-1) && (t += \":\"), this.slashes || (!t || m[t]) && !1 !== o ? (o = \"//\" + (o || \"\"), r && \"/\" !== r.charAt(0) && (r = \"/\" + r)) : o || (o = \"\"), n && \"#\" !== n.charAt(0) && (n = \"#\" + n), a && \"?\" !== a.charAt(0) && (a = \"?\" + a), t + o + (r = r.replace(/[?#]/g, function (e) { return encodeURIComponent(e) })) + (a = a.replace(\"#\", \"%23\")) + n }, o.prototype.resolve = function (e) { return this.resolveObject(_(e, !1, !0)).format() }, o.prototype.resolveObject = function (e) { if (i.isString(e)) { var t = new o; t.parse(e, !1, !0), e = t } for (var r = new o, n = Object.keys(this), s = 0; s < n.length; s++) { var a = n[s]; r[a] = this[a] } if (r.hash = e.hash, \"\" === e.href) return r.href = r.format(), r; if (e.slashes && !e.protocol) { for (var u = Object.keys(e), c = 0; c < u.length; c++) { var l = u[c]; \"protocol\" !== l && (r[l] = e[l]) } return m[r.protocol] && r.hostname && !r.pathname && (r.path = r.pathname = \"/\"), r.href = r.format(), r } if (e.protocol && e.protocol !== r.protocol) { if (!m[e.protocol]) { for (var f = Object.keys(e), h = 0; h < f.length; h++) { var p = f[h]; r[p] = e[p] } return r.href = r.format(), r } if (r.protocol = e.protocol, e.host || b[e.protocol]) r.pathname = e.pathname; else { for (var d = (e.pathname || \"\").split(\"/\"); d.length && !(e.host = d.shift());); e.host || (e.host = \"\"), e.hostname || (e.hostname = \"\"), \"\" !== d[0] && d.unshift(\"\"), d.length < 2 && d.unshift(\"\"), r.pathname = d.join(\"/\") } if (r.search = e.search, r.query = e.query, r.host = e.host || \"\", r.auth = e.auth, r.hostname = e.hostname || e.host, r.port = e.port, r.pathname || r.search) { var g = r.pathname || \"\", y = r.search || \"\"; r.path = g + y } return r.slashes = r.slashes || e.slashes, r.href = r.format(), r } var _ = r.pathname && \"/\" === r.pathname.charAt(0), w = e.host || e.pathname && \"/\" === e.pathname.charAt(0), v = w || _ || r.host && e.pathname, S = v, E = r.pathname && r.pathname.split(\"/\") || [], k = (d = e.pathname && e.pathname.split(\"/\") || [], r.protocol && !m[r.protocol]); if (k && (r.hostname = \"\", r.port = null, r.host && (\"\" === E[0] ? E[0] = r.host : E.unshift(r.host)), r.host = \"\", e.protocol && (e.hostname = null, e.port = null, e.host && (\"\" === d[0] ? d[0] = e.host : d.unshift(e.host)), e.host = null), v = v && (\"\" === d[0] || \"\" === E[0])), w) r.host = e.host || \"\" === e.host ? e.host : r.host, r.hostname = e.hostname || \"\" === e.hostname ? e.hostname : r.hostname, r.search = e.search, r.query = e.query, E = d; else if (d.length) E || (E = []), E.pop(), E = E.concat(d), r.search = e.search, r.query = e.query; else if (!i.isNullOrUndefined(e.search)) { if (k) r.hostname = r.host = E.shift(), (R = !!(r.host && r.host.indexOf(\"@\") > 0) && r.host.split(\"@\")) && (r.auth = R.shift(), r.host = r.hostname = R.shift()); return r.search = e.search, r.query = e.query, i.isNull(r.pathname) && i.isNull(r.search) || (r.path = (r.pathname ? r.pathname : \"\") + (r.search ? r.search : \"\")), r.href = r.format(), r } if (!E.length) return r.pathname = null, r.search ? r.path = \"/\" + r.search : r.path = null, r.href = r.format(), r; for (var I = E.slice(-1)[0], C = (r.host || e.host || E.length > 1) && (\".\" === I || \"..\" === I) || \"\" === I, T = 0, x = E.length; x >= 0; x--)\".\" === (I = E[x]) ? E.splice(x, 1) : \"..\" === I ? (E.splice(x, 1), T++) : T && (E.splice(x, 1), T--); if (!v && !S) for (; T--; T)E.unshift(\"..\"); !v || \"\" === E[0] || E[0] && \"/\" === E[0].charAt(0) || E.unshift(\"\"), C && \"/\" !== E.join(\"/\").substr(-1) && E.push(\"\"); var R, A = \"\" === E[0] || E[0] && \"/\" === E[0].charAt(0); k && (r.hostname = r.host = A ? \"\" : E.length ? E.shift() : \"\", (R = !!(r.host && r.host.indexOf(\"@\") > 0) && r.host.split(\"@\")) && (r.auth = R.shift(), r.host = r.hostname = R.shift())); return (v = v || r.host && E.length) && !A && E.unshift(\"\"), E.length ? r.pathname = E.join(\"/\") : (r.pathname = null, r.path = null), i.isNull(r.pathname) && i.isNull(r.search) || (r.path = (r.pathname ? r.pathname : \"\") + (r.search ? r.search : \"\")), r.auth = e.auth || r.auth, r.slashes = r.slashes || e.slashes, r.href = r.format(), r }, o.prototype.parseHost = function () { var e = this.host, t = a.exec(e); t && (\":\" !== (t = t[0]) && (this.port = t.substr(1)), e = e.substr(0, e.length - t.length)), e && (this.hostname = e) } }, { \"./util\": 72, punycode: 47, querystring: 50 }], 72: [function (e, t, r) { \"use strict\"; t.exports = { isString: function (e) { return \"string\" == typeof e }, isObject: function (e) { return \"object\" == typeof e && null !== e }, isNull: function (e) { return null === e }, isNullOrUndefined: function (e) { return null == e } } }, {}], 73: [function (e, t, r) { (function (e) { (function () { function r(t) { try { if (!e.localStorage) return !1 } catch (e) { return !1 } var r = e.localStorage[t]; return null != r && \"true\" === String(r).toLowerCase() } t.exports = function (e, t) { if (r(\"noDeprecation\")) return e; var n = !1; return function () { if (!n) { if (r(\"throwDeprecation\")) throw new Error(t); r(\"traceDeprecation\") ? console.trace(t) : console.warn(t), n = !0 } return e.apply(this, arguments) } } }).call(this) }).call(this, \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {}) }, {}], 74: [function (e, t, r) { t.exports = function e(t, r) { if (t && r) return e(t)(r); if (\"function\" != typeof t) throw new TypeError(\"need wrapper function\"); Object.keys(t).forEach(function (e) { n[e] = t[e] }); return n; function n() { for (var e = new Array(arguments.length), r = 0; r < e.length; r++)e[r] = arguments[r]; var n = t.apply(this, e), i = e[e.length - 1]; return \"function\" == typeof n && n !== i && Object.keys(i).forEach(function (e) { n[e] = i[e] }), n } } }, {}], 75: [function (e, t, r) { \"use strict\"; t.exports = function () { throw new Error(\"ws does not work in the browser. Browser clients must use the native WebSocket object\") } }, {}], 76: [function (e, t, r) { t.exports = function () { for (var e = {}, t = 0; t < arguments.length; t++) { var r = arguments[t]; for (var i in r) n.call(r, i) && (e[i] = r[i]) } return e }; var n = Object.prototype.hasOwnProperty }, {}] }, {}, [9])(9) });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Remove the messages of the last frame for no dataloss mode","Object","    .values(gdjs.evtTools.mqtt.events)","    .forEach((event, index) => {","        if (Array.isArray(event.data))","            event.data.shift();","        else event.data = gdjs.evtTools.mqtt.empty;","    });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Triggers if the client is connected to an MQTT broker server.","fullName":"Is connected to a broker?","functionType":"Condition","name":"isConnected","sentence":"Client connected to a broker","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.evtTools.mqtt.connection && gdjs.evtTools.mqtt.connection.connected;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Connects to an MQTT broker. ","fullName":"Connect to a broker","functionType":"Action","name":"connect","sentence":"Connect to MQTT broker _PARAM1_ with parameters _PARAM2_ (secure connection: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Parse settings","const settings = eventsFunctionContext.getArgument(\"settings\");","let settingsParsed;","if (settings.length > 2)","    try {","        settingsParsed = JSON.parse(settings);","    } catch (e) {","        settingsParsed = {}","        console.error(\"Invalid settings: \", settings, \", Error:\", e);","    };","","// Connect to broker","gdjs.evtTools.mqtt.connection = mqtt.connect(","    (eventsFunctionContext.getArgument(\"secure\")","        ? \"wss://\"","        : \"ws://\")","    + eventsFunctionContext.getArgument(\"host\"),","    settingsParsed",");","","// Set up listeners","gdjs.evtTools.mqtt.connection.on(\"message\", (channel, message) => {","    if (typeof gdjs.evtTools.mqtt.events[channel] === undefined) {","        gdjs.evtTools.mqtt.events[channel] = {","            loss: false,","            data: [message],","        };","        return;","    }","","    const mqttEvent = gdjs.evtTools.mqtt.events[channel];","    if (mqttEvent.loss) {","        mqttEvent.data = message;","    } else {","        if (!Array.isArray(mqttEvent.data)) mqttEvent.data = [];","        mqttEvent.data.push(message);","    }","});","","gdjs.evtTools.mqtt.connection.on(\"error\", function (e) {","    gdjs.evtTools.mqtt.lastError = e;","});",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Host port","name":"host","type":"string"},{"description":"Settings as JSON","longDescription":"You can find the list of settings at [the MQTT.js docs](https://github.com/mqttjs/MQTT.js/#client).  \nAn example of valid configuration would be `\"{\\\"clientId\\\": \\\"myUserName\\\"}\"`.","name":"settings","type":"string"},{"description":"Use secure WebSockets?","name":"secure","type":"yesorno"}],"objectGroups":[]},{"description":"Disconnects from the current MQTT broker.","fullName":"Disconnect from broker","functionType":"Action","name":"disconnect","sentence":"Disconnect from MQTT broker (force: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs.evtTools.mqtt.connection === null) return;","gdjs.evtTools.mqtt.connection.end(eventsFunctionContext.getArgument(\"force\"));","gdjs.evtTools.mqtt.connection = null;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Force end the connection?","longDescription":"By default, MQTT waits for pending messages or messages in the process of being sent to finish being sent before ending the connection. Use this to cancel any request and immediately shutdown the connection.","name":"force","type":"yesorno"}],"objectGroups":[]},{"description":"Publishes a message on a topic.","fullName":"Publish message","functionType":"Action","name":"publish","sentence":"Publish variable _PARAM1_ on topic _PARAM2_ (QoS: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs.evtTools.mqtt.connection === null) return;","gdjs.evtTools.mqtt.connection.publish(","    eventsFunctionContext.getArgument(\"topic\"),","    eventsFunctionContext.getArgument(\"content\"),","    { qos: eventsFunctionContext.getArgument(\"QoS\"), retain: eventsFunctionContext.getArgument(\"retain\") }",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Text to publish","name":"content","type":"string"},{"description":"Topic to publish to","name":"topic","type":"string"},{"description":"The QoS","longDescription":"See [this](https://github.com/mqttjs/MQTT.js#qos) for more details.","name":"QoS","type":"expression"},{"description":"Should the message be retained?","longDescription":"When a message is retained, it will be sent to every client that subscribe to the topic. Only one message can be retained per topic, if another retained message is sent it will overwrite the previous one.  \nRead more [here](https://www.hivemq.com/blog/mqtt-essentials-part-8-retained-messages/#retained-messages).","name":"retain","type":"yesorno"}],"objectGroups":[]},{"description":"Subcribe to a topic. All messages published on that topic will be received.","fullName":"Subscribe to a topic","functionType":"Action","name":"subscribe","sentence":"Subscribe to topic _PARAM1_ with QoS at _PARAM2_ and dataloss _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs.evtTools.mqtt.connection === null) return;","","const topic = eventsFunctionContext.getArgument(\"topic\");","if (typeof gdjs.evtTools.mqtt.events[topic] === \"undefined\") gdjs.evtTools.mqtt.events[topic] = { data: eventsFunctionContext.getArgument(\"dataloss\") ? \"\" : [] };","gdjs.evtTools.mqtt.events[topic].loss = eventsFunctionContext.getArgument(\"dataloss\");","","gdjs.evtTools.mqtt.connection.subscribe(","    topic,","    { qos: eventsFunctionContext.getArgument(\"QoS\") }",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The topic to subscribe to","name":"topic","type":"string"},{"description":"The QoS","longDescription":"See https://github.com/mqttjs/MQTT.js#qos for more details","name":"QoS","type":"expression"},{"description":"Is dataloss allowed?","longDescription":"See https://wiki.gdevelop.io/gdevelop5/all-features/p2p#choosing_if_you_want_to_activate_data_loss_mode for more details","name":"dataloss","type":"yesorno"}],"objectGroups":[]},{"description":"Unsubcribe from a topic. No more messages from this topic will be received.","fullName":"Unsubscribe from a topic","functionType":"Action","name":"unsubscribe","sentence":"Unsubscribe from topic _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs.evtTools.mqtt.connection !== null)","    gdjs.evtTools.mqtt.connection.unsubscribe(","        eventsFunctionContext.getArgument(\"topic\")","    );",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The topic to subscribe to","name":"topic","type":"string"}],"objectGroups":[]},{"description":"Triggers whenever a message was received. Note that you first need to subcribe to a topic in order to get messages from it.","fullName":"On message","functionType":"Condition","name":"onMessage","sentence":"Message received from topic _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const mqttEvent = gdjs.evtTools.mqtt.events[eventsFunctionContext.getArgument(\"topic\")];\r","if (typeof mqttEvent === \"undefined\" || typeof mqttEvent.data === \"undefined\") return;\r","eventsFunctionContext.returnValue =\r","    Array.isArray(mqttEvent.data)\r","        ? mqttEvent.data.length !== 0\r","        : mqttEvent.data !== gdjs.evtTools.mqtt.empty;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The topic to listen to","name":"topic","type":"string"}],"objectGroups":[]},{"description":"Get the last received message of a topic.","fullName":"Get last message","functionType":"StringExpression","name":"GetLastMessage","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const mqttEvent = gdjs.evtTools.mqtt.events[eventsFunctionContext.getArgument(\"topic\")];","if (typeof mqttEvent === \"undefined\") return;","eventsFunctionContext.returnValue = Array.isArray(mqttEvent.data)","    ? mqttEvent.data[0]","    : mqttEvent.data;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"The topic to get the message from","name":"topic","type":"string"}],"objectGroups":[]},{"description":"Gets the last error. Returns an empty string if there was no errors.","fullName":"Get the last error","functionType":"StringExpression","name":"getCurrentError","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs.evtTools.mqtt.lastError","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"Arthur Pacaud (arthuro555)","category":"Network","extensionNamespace":"","fullName":"WebSocket client","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE2LDI2YzUuNSwwLDEwLTQuNSwxMC0xMGwzLDQiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNiw2QzEwLjUsNiw2LDEwLjUsNiwxNmwtMy00Ii8+DQo8cmVjdCB4PSI1IiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjgiIGhlaWdodD0iNSIvPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIxNSwyOSAzLDI5IDUsMjYgMTMsMjYgIi8+DQo8cmVjdCB4PSIyMCIgeT0iMyIgY2xhc3M9InN0MCIgd2lkdGg9IjciIGhlaWdodD0iMTAiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyMCIgeTE9IjciIHgyPSIyNyIgeTI9IjciLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyMyIgeTE9IjEwIiB4Mj0iMjUiIHkyPSIxMCIvPg0KPC9zdmc+DQo=","name":"WebSocketClient","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Communication/Communication_pc_server_sync_sharing.svg","shortDescription":"A WebSocket client for fast client-server networking.","version":"1.0.0","description":["This extension allows to use WebSocket based networking. ","You can use it to interact with a WebSocket based API, or a server for your multiplayer game.","","Features:"," - Connection and disconnection from a server"," - Receiving strings from the server"," - Sending strings to the server"," - Error handling"," - Handling more than 1 event per frame","","Doesn't contain:"," - Sending or receiving binary data"," - A WebSocket server"],"origin":{"identifier":"WebSocketClient","name":"gdevelop-extension-store"},"tags":["web","socket","networking","multiplayer","server","client","connection"],"authorIds":[],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.evtTools.wsClient = {","    /** The current connection to the WebSockets server. */","    connection: null,","    /** The last error that occurred. */","    lastError: \"\",","    /** A list of events triggered. */","    events: [],","};"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.evtTools.wsClient.events.pop();","gdjs.evtTools.wsClient.lastError = \"\";",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Triggers if the client is currently connecting to the WebSocket server.","fullName":"Connecting to a server","functionType":"Condition","name":"IsConnecting","sentence":"Connecting to the server","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.evtTools.wsClient.connection &&","    gdjs.evtTools.wsClient.connection.readyState === WebSocket.CONNECTING;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Triggers if the client is connected to a WebSocket server.","fullName":"Connected to a server","functionType":"Condition","name":"IsConnected","sentence":"Connected to the server","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.evtTools.wsClient.connection &&","    gdjs.evtTools.wsClient.connection.readyState === WebSocket.OPEN;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Triggers if the connection to a WebSocket server was closed.","fullName":"Connection to a server was closed","functionType":"Condition","name":"IsClosed","sentence":"Connection to the server closed","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.evtTools.wsClient.connection &&","    gdjs.evtTools.wsClient.connection.readyState === WebSocket.CLOSED;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Connects to a WebSocket server. ","fullName":"Connect to server","functionType":"Action","name":"Connect","sentence":"Connect to WebSocket server at _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.evtTools.wsClient.connection = new WebSocket(eventsFunctionContext.getArgument(\"host\"));","","gdjs.evtTools.wsClient.connection.addEventListener(","    \"message\",","    ({ data }) => gdjs.evtTools.wsClient.events.unshift(data)",");","","gdjs.evtTools.wsClient.connection.addEventListener(","    \"error\",","    ({ message }) => (gdjs.evtTools.wsClient.lastError = message)",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The server address","name":"host","type":"string"}],"objectGroups":[]},{"description":"Disconnects from the current WebSocket server.","fullName":"Disconnect from server","functionType":"Action","name":"Disconnect","sentence":"Disconnect from server (reason: _PARAM1_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.evtTools.wsClient.connection","    && gdjs.evtTools.wsClient.connection.close(1000, eventsFunctionContext.getArgument(\"reason\"));",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The reason for disconnection","name":"reason","type":"string"}],"objectGroups":[]},{"description":"Triggers when the server has sent the client some data.","fullName":"An event was received","functionType":"Condition","name":"EventReceived","sentence":"Data received from server","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue = gdjs.evtTools.wsClient.events.length !== 0;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Returns the piece of data from the server that is currently being processed.","fullName":"Data from server","functionType":"StringExpression","name":"Data","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    gdjs.evtTools.wsClient.events[gdjs.evtTools.wsClient.events.length - 1] || \"\";",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]},{"description":"Dismisses an event after processing it to allow processing the next one without waiting for the next frame.","fullName":"Mark as processed","functionType":"Action","name":"FinalizeEvent","sentence":"Mark current event as completed","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.evtTools.wsClient.events.pop();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Sends a string to the server.","fullName":"Send data to the server","functionType":"Action","name":"Send","sentence":"Send _PARAM1_ to the server","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.evtTools.wsClient.connection &&\r","    gdjs.evtTools.wsClient.connection.send(eventsFunctionContext.getArgument(\"data\"));\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The data to send to the server","name":"data","type":"string"}],"objectGroups":[]},{"description":"Triggers when a WebSocket error has occurred.","fullName":"An error occurred","functionType":"Condition","name":"OnError","sentence":"WebSocket error has occurred","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue = !!gdjs.evtTools.wsClient.lastError;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"Gets the last error that occurred.","fullName":"Get last error","functionType":"StringExpression","name":"LastError","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue = gdjs.evtTools.wsClient.lastError;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"Network","extensionNamespace":"","fullName":"Update checker","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXVwZGF0ZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0yMSwxMC4xMkgxNC4yMkwxNi45Niw3LjNDMTQuMjMsNC42IDkuODEsNC41IDcuMDgsNy4yQzQuMzUsOS45MSA0LjM1LDE0LjI4IDcuMDgsMTdDOS44MSwxOS43IDE0LjIzLDE5LjcgMTYuOTYsMTdDMTguMzIsMTUuNjUgMTksMTQuMDggMTksMTIuMUgyMUMyMSwxNC4wOCAyMC4xMiwxNi42NSAxOC4zNiwxOC4zOUMxNC44NSwyMS44NyA5LjE1LDIxLjg3IDUuNjQsMTguMzlDMi4xNCwxNC45MiAyLjExLDkuMjggNS42Miw1LjgxQzkuMTMsMi4zNCAxNC43NiwyLjM0IDE4LjI3LDUuODFMMjEsM1YxMC4xMk0xMi41LDhWMTIuMjVMMTYsMTQuMzNMMTUuMjgsMTUuNTRMMTEsMTNWOEgxMi41WiIgLz48L3N2Zz4=","name":"UpdateChecker","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/update.svg","shortDescription":"Checks if the version of the game on liluo is different than the current game version.","version":"1.0.0","description":["With this extension, you can get a very simple update checking mechanism. It will look at the version of your game on liluo, and compare it with the one of the currently running game. If it is different, you can display a message to tell your users they are on an outdated version.","If you want your users to see that an update is available, simply change the version in your project properties, and deploy your game to liluo like you would (make an instant build and promote it to the game page's public build)."],"origin":{"identifier":"UpdateChecker","name":"gdevelop-extension-store"},"tags":["update","liluo"],"authorIds":["ZgrsWuRTAkXgeuPV9bo0zuEcA2w1"],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"UpdateChecker::RecheckForUpdates"},"parameters":["",""]}]}],"parameters":[],"objectGroups":[]},{"description":"Loads the latest game version from liluo. This is already called at the beginnign of the scene, but you can still re-call it if it failed or if you want to add a \"check again\" button. Make sure to not call this too often (or at all), as otherwise it will DDoS the version-checking server!.","fullName":"Re-check for updates","functionType":"Action","name":"RecheckForUpdates","sentence":"Request latest game version from liluo","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"UpdateChecker::CreateGlobalReference"},"parameters":["","__UpdateChecker.LatestVersion","__UpdateChecker.LatestVersion",""]},{"type":{"value":"UpdateChecker::CreateGlobalReference"},"parameters":["","__UpdateChecker.Error","__UpdateChecker.Error",""]},{"type":{"value":"SendAsyncRequest"},"parameters":["\"https://updates.arthuro555.com/?game-id=\" + UpdateChecker::CurrentGameID()","\"\"","\"GET\"","\"text/plain-text\"","__UpdateChecker.LatestVersion","__UpdateChecker.Error"]}]}],"parameters":[],"objectGroups":[]},{"description":"Checks if the game version on liluo is different from the one of the currently running game. It may take a few seconds for the liluo game version to be obtained, and in this time frame, the condition will not trigger. If disconnected from the internet, this will not function.","fullName":"Update is available","functionType":"Condition","name":"UpdateAvailable","sentence":"An update is is available","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["__UpdateChecker.LatestVersion","!=","UpdateChecker::CurrentGameVersion()"]},{"type":{"value":"VarGlobalTxt"},"parameters":["__UpdateChecker.LatestVersion","!=","\"0\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[],"objectGroups":[]},{"description":"Checks if the fetching of the latest version from liluo succeeded.","fullName":"Updates check failed","functionType":"Condition","name":"UpdateCheckFailed","sentence":"An error has occured while checking updates","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["__UpdateChecker.Error","!=","\"0\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[],"objectGroups":[]},{"description":"Gets the Liluo ID of the current game.","fullName":"Get game ID","functionType":"StringExpression","name":"CurrentGameID","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue = runtimeScene.getGame().getGameData().properties.projectUuid;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]},{"description":"Gets the game version from the project properties","fullName":"Get game version","functionType":"StringExpression","name":"CurrentGameVersion","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue = runtimeScene.getGame().getGameData().properties.version;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]},{"description":"Transforms a scene variable into a reference to a global variable.","fullName":"Create reference to global variable","functionType":"Action","name":"CreateGlobalReference","private":true,"sentence":"Make variable _PARAM1_ a reference to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const reference = eventsFunctionContext.getArgument(\"reference\");","const source = eventsFunctionContext.getArgument(\"source\");","","// Override each method ","for (let func of Object.getOwnPropertyNames(gdjs.Variable.prototype))","    reference[func] = gdjs.Variable.prototype[func].bind(source);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The scene variable to turn into a reference","name":"reference","type":"scenevar"},{"description":"The global variable the reference will refer to","name":"source","type":"globalvar"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"Tristan Rhodes (https://victrisgames.itch.io/) and Entropy (https://www.youtube.com/channel/UClvkb12nOWFgWnQ56NF9Rcw)","category":"Visual effect","extensionNamespace":"","fullName":"Animate Shadow Clones","helpPath":"https://www.youtube.com/watch?v=2t4ANYgrrak","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1hcnJhbmdlLWFib3ZlIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTMsMUMxLjg5LDEgMSwxLjg5IDEsM1YxNEMxLDE1LjExIDEuODksMTYgMywxNkM2LjY3LDE2IDEwLjMzLDE2IDE0LDE2QzE1LjExLDE2IDE2LDE1LjExIDE2LDE0QzE2LDEwLjMzIDE2LDYuNjcgMTYsM0MxNiwxLjg5IDE1LjExLDEgMTQsMUgzTTMsM0gxNFYxNEgzVjNNMTgsN1Y5SDIwVjIwSDlWMThIN1YyMEM3LDIxLjExIDcuODksMjIgOSwyMkgyMEMyMS4xMSwyMiAyMiwyMS4xMSAyMiwyMFY5QzIyLDcuODkgMjEuMTEsNyAyMCw3SDE4WiIgLz48L3N2Zz4=","name":"ShadowClones","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/vector-arrange-above.svg","shortDescription":"Create and animate shadow clones that follow the path of a primary object.","version":"0.6.0","description":["Select the primary object, the shadow clone object, the number of shadow clones, the number of frames between shadow clones, the rate that shadow clones will reduce opacity and size (if desired), the Z-value and the layer the shadow clones will be created on.","","This extension can be used to:","","- Make an object look faster, such as during a speed powerup.  ","- Give a 3D-like feel to a character","- Implement unique time-based elements, like teleporting a character back to a previous location","- Simulate the movement of a caterpillar or slinky","- Recreate games like snake or tron","","These object variables are provided to manage the shadow clones:","","- ShadowCloneOrder: Shadow clone identifier, where 1 is the shadow clone closest to the primary object","- FramesBehindPrimary: The number of frames that the shadow clone is behind the primary object","","Notes: ","- For shadow clones to work, this action must be run every frame.","- The ShadowCloneObject cannot be the PrimaryObject, but it can be a duplicate object. ","- For animations to work, the PrimaryObject and ShadowCloneObject must use the same animation numbers.","","Watch this [tutorial video](https://youtu.be/2t4ANYgrrak) to see examples of how to use this extension."],"origin":{"identifier":"ShadowClones","name":"gdevelop-extension-store"},"tags":["animate","create","object","shadow","clone","follow","echo"],"authorIds":["q8ubdigLvIRXLxsJDDTaokO41mc2","gqDaZjCfevOOxBYkK6zlhtZnXCg1","m4hBMBTUilft4s1V4FQQPakVDGx1"],"dependencies":[],"eventsFunctions":[{"description":"Select the primary object, the shadow clone object, the number of shadow clones, the number of frames between shadow clones, the rate that shadow clones will fade away (if desired), the Z-value of the shadow clones, and the layer the shadow clones will be created on.","fullName":"Animate shadow clones that follow the path of a primary object","functionType":"Action","name":"AnimateShadowClones","sentence":"Create and animate _PARAM3_ copies of _PARAM2_ that follow the position of _PARAM1_, with _PARAM4_ empty frames between shadow clones, and fading the opacity of shadow clones by _PARAM5_ per clone.  Shrink scale of shadow clones by _PARAM6_ per clone. Shadow clones will be created on _PARAM7_ layer with a Z-value of _PARAM8_.  Match X scale: _PARAM9_  Match Y scale: _PARAM10_  Match angle: _PARAM11_  Match animation: _PARAM12_  Match animation frame: _PARAM13_  Match vertical flip: _PARAM14_ Match horizontal flip: _PARAM15_","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Animate Shadow Clones","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"PrimaryObject","conditions":[],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Initialize variables","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Read input variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","TotalShadowClones","=","GetArgumentAsNumber(\"NumberOfShadowClones\")"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FramesBetweenShadowClones","=","GetArgumentAsNumber(\"FramesBetweenShadowClones\")"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Fix default value (min=1)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","FramesBetweenShadowClones","<","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FramesBetweenShadowClones","=","1"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Calculate the max frames behind the primary that a shadow will exist"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","MaxFramesBehind","=","PrimaryObject.Variable(TotalShadowClones)*PrimaryObject.Variable(FramesBetweenShadowClones)"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Create Shadow Clones","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create the right number of shadow clones (but only when there is position data)"},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","ClonesCreated","<","PrimaryObject.Variable(TotalShadowClones)"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString((PrimaryObject.Variable(ClonesCreated) + 1) * PrimaryObject.Variable(FramesBetweenShadowClones))].xpos","!=","0"]},{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString((PrimaryObject.Variable(ClonesCreated) + 1) * PrimaryObject.Variable(FramesBetweenShadowClones))].ypos","!=","0"]}]}],"conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ClonesCreated","+","1"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create shadow clones and link them to the primary object"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","ShadowCloneObject","PrimaryObject.X()","PrimaryObject.Y()","GetArgumentAsString(\"ShadowCloneLayer\")"]},{"type":{"value":"ModVarObjet"},"parameters":["ShadowCloneObject","ShadowCloneOrder","=","PrimaryObject.Variable(ClonesCreated)"]},{"type":{"value":"ChangePlan"},"parameters":["ShadowCloneObject","=","GetArgumentAsNumber(\"ShadowCloneZValue\")"]},{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","PrimaryObject","ShadowCloneObject"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Change shadow clones based on the history of the PrimaryObject","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"ShadowCloneObject","conditions":[{"type":{"value":"LinkedObjects::PickObjectsLinkedTo"},"parameters":["","PrimaryObject","ShadowCloneObject"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move shadow clones "},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].xpos)","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].ypos)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAngle\""]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].angle)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Only change scale if ShrinkSpeed has not been set"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchScaleX\""]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","=","0"]}],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].xscale)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Only change scale if ShrinkSpeed has not been set"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchScaleY\""]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","=","0"]}],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].yscale)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAnimation\""]}],"actions":[{"type":{"value":"ChangeAnimation"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].animation)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAnimationFrame\""]}],"actions":[{"type":{"value":"ChangeSprite"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].frame)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchHorizontalFlip\""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["ShadowCloneObject","horizontalflip","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].horizontalflip)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["ShadowCloneObject","horizontalflip","="]}],"actions":[{"type":{"value":"FlipX"},"parameters":["ShadowCloneObject","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["ShadowCloneObject","horizontalflip","True"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["ShadowCloneObject","yes"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchVerticalFlip\""]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["ShadowCloneObject","verticalflip","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(ShadowCloneOrder)*PrimaryObject.Variable(FramesBetweenShadowClones))].verticalflip)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["ShadowCloneObject","verticalflip","="]}],"actions":[{"type":{"value":"FlipY"},"parameters":["ShadowCloneObject","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["ShadowCloneObject","verticalflip","True"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["ShadowCloneObject","yes"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Change opacity of shadow clone (if requested)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"FadeSpeed\")","!=","0"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["ShadowCloneObject","=","PrimaryObject.Opacity()-GetArgumentAsNumber(\"FadeSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"FadeSpeed\")","=","0"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["ShadowCloneObject","=","PrimaryObject.Opacity()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Shrink shadow clones (if requested)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","!=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleX()-(GetArgumentAsNumber(\"ShrinkSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)/100)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleY()-(GetArgumentAsNumber(\"ShrinkSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)/100)"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Delete shadow clone if we have decreased number of shadow clones.  Reset counter variable."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["ShadowCloneObject","ShadowCloneOrder",">","PrimaryObject.Variable(TotalShadowClones)"]}],"actions":[{"type":{"value":"Delete"},"parameters":["ShadowCloneObject",""]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ClonesCreated","-","1"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Update history of the PrimaryObject ","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Clean-up unused history"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataCleaningCounter","=","PrimaryObject.Variable(MaxFramesBehind)+1"]}]},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"ObjectVariableChildExists"},"parameters":["PrimaryObject","ObjectHistory","ToString(PrimaryObject.Variable(DataCleaningCounter))"]}],"conditions":[],"actions":[{"type":{"value":"ObjectVariableRemoveChild"},"parameters":["PrimaryObject","ObjectHistory","ToString(PrimaryObject.Variable(DataCleaningCounter))"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataCleaningCounter","+","1"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset temp variable for iterating through child objects"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataMoveCounter","=","PrimaryObject.Variable(MaxFramesBehind)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move position history to the next higher index, starting from the highest number (FramesBehind-1)"},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","DataMoveCounter",">","1"]}],"conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move object history to one higher frame"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].xpos","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].xpos)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].ypos","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].ypos)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].angle","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].angle)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].animation","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].animation)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].frame","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].frame)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].xscale","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].xscale)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].yscale","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].yscale)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].width","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].width)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].height","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].height)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].horizontalflip","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].horizontalflip)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].verticalflip","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].verticalflip)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataMoveCounter","-","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Record new current position in index = 1"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.xpos","=","PrimaryObject.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.ypos","=","PrimaryObject.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.animation","=","PrimaryObject.Animation()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.frame","=","PrimaryObject.Sprite()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.angle","=","PrimaryObject.Angle()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.xscale","=","PrimaryObject.ScaleX()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.yscale","=","PrimaryObject.ScaleY()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.width","=","PrimaryObject.Width()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.height","=","PrimaryObject.Height()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedX"},"parameters":["PrimaryObject"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["PrimaryObject","ObjectHistory.1.horizontalflip","="]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedX"},"parameters":["PrimaryObject"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["PrimaryObject","ObjectHistory.1.horizontalflip","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"FlippedY"},"parameters":["PrimaryObject"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["PrimaryObject","ObjectHistory.1.verticalflip","="]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"FlippedY"},"parameters":["PrimaryObject"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["PrimaryObject","ObjectHistory.1.verticalflip","True"]}]}],"parameters":[]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"disabled":true,"folded":true,"name":"Animate Shadow Clones OLD VERSION","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"PrimaryObject","conditions":[],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Manage Shadows","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Read input variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","TotalShadowClones","=","GetArgumentAsNumber(\"NumberOfShadowClones\")"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FramesBetweenShadowClones","=","GetArgumentAsNumber(\"FramesBetweenShadowClones\")"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Fix default value (min=1)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","FramesBetweenShadowClones","<","1"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FramesBetweenShadowClones","=","1"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Calculate the max frames behind the primary that a shadow will exist"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","MaxFramesBehind","=","PrimaryObject.Variable(TotalShadowClones)*PrimaryObject.Variable(FramesBetweenShadowClones)"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create the right number of shadows"},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","FrameCounter","<","PrimaryObject.Variable(MaxFramesBehind)"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(FrameCounter)+1)].xpos","!=","0"]},{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(FrameCounter)+1)].ypos","!=","0"]}]}],"conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FrameCounter","+","1"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create shadow clones at proper intervals and link them to the primary object"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["mod(PrimaryObject.Variable(FrameCounter),PrimaryObject.Variable(FramesBetweenShadowClones))","=","0"]}],"actions":[{"type":{"value":"Create"},"parameters":["","ShadowCloneObject","PrimaryObject.X()","PrimaryObject.Y()","GetArgumentAsString(\"ShadowCloneLayer\")"]},{"type":{"value":"ModVarObjet"},"parameters":["ShadowCloneObject","FramesBehindPrimary","=","PrimaryObject.Variable(FrameCounter)"]},{"type":{"value":"ModVarObjet"},"parameters":["ShadowCloneObject","ShadowCloneOrder","=","PrimaryObject.Variable(FrameCounter)/PrimaryObject.Variable(FramesBetweenShadowClones)"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["ShadowCloneObject","ShadowCloneGroupID","=","GetArgumentAsString(\"ShadowCloneGroupID\")"]},{"type":{"value":"ChangePlan"},"parameters":["ShadowCloneObject","=","GetArgumentAsNumber(\"ShadowCloneZValue\")"]},{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","PrimaryObject","ShadowCloneObject"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Copy current state of PrimaryObject"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAngle\""]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["ShadowCloneObject","=","PrimaryObject.Angle()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchScaleX\""]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","=","0"]}],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleX()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchScaleY\""]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","=","0"]}],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleY()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAnimation\""]}],"actions":[{"type":{"value":"ChangeAnimation"},"parameters":["ShadowCloneObject","=","PrimaryObject.Animation()"]},{"type":{"value":"PauseAnimation"},"parameters":["ShadowCloneObject"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAnimationFrame\""]}],"actions":[{"type":{"value":"ChangeSprite"},"parameters":["ShadowCloneObject","=","PrimaryObject.Sprite()"]},{"type":{"value":"PauseAnimation"},"parameters":["ShadowCloneObject"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Set fade"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"FadeSpeed\")","!=","0"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["ShadowCloneObject","=","255-GetArgumentAsNumber(\"FadeSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Set scale"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","!=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleX()-(GetArgumentAsNumber(\"ShrinkSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)/100)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleY()-(GetArgumentAsNumber(\"ShrinkSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)/100)"]}]}]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move shadow clones "},{"type":"BuiltinCommonInstructions::ForEach","object":"ShadowCloneObject","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["ShadowCloneObject","ShadowCloneGroupID","=","GetArgumentAsString(\"ShadowCloneGroupID\")"]},{"type":{"value":"LinkedObjects::PickObjectsLinkedTo"},"parameters":["","PrimaryObject","ShadowCloneObject"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move shadow clones"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].xpos)","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].ypos)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAngle\""]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].angle)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Only change scale if ShrinkSpeed has not been set"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchScaleX\""]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","=","0"]}],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].xscale)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Only change scale if ShrinkSpeed has not been set"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchScaleY\""]},{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","=","0"]}],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].yscale)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAnimation\""]}],"actions":[{"type":{"value":"ChangeAnimation"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].animation)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"MatchAnimationFrame\""]}],"actions":[{"type":{"value":"ChangeSprite"},"parameters":["ShadowCloneObject","=","PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].frame)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update FramesBehindPrimary if the FramesBetweenShadowClones has changed "},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["ShadowCloneObject.Variable(FramesBehindPrimary) / ShadowCloneObject.Variable(ShadowCloneOrder)","!=","PrimaryObject.Variable(FramesBetweenShadowClones)"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["ShadowCloneObject","FramesBehindPrimary","=","ShadowCloneObject.Variable(ShadowCloneOrder) * PrimaryObject.Variable(FramesBetweenShadowClones)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Delete shadow clone if we have decreased number of shadow clones or changed distance between clones.  Reset counter variable."},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarObjet"},"parameters":["ShadowCloneObject","ShadowCloneOrder",">","PrimaryObject.Variable(TotalShadowClones)"]},{"type":{"value":"Egal"},"parameters":["ShadowCloneObject.Variable(FramesBehindPrimary) / ShadowCloneObject.Variable(ShadowCloneOrder)","!=","PrimaryObject.Variable(FramesBetweenShadowClones)"]}]}],"actions":[{"type":{"value":"Delete"},"parameters":["ShadowCloneObject",""]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FrameCounter","-","min(ShadowCloneObject.Variable(FramesBehindPrimary) / ShadowCloneObject.Variable(ShadowCloneOrder),PrimaryObject.Variable(FramesBetweenShadowClones))"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Don't let counter go negative"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","FrameCounter","<","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FrameCounter","=","0"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarObjet"},"parameters":["ShadowCloneObject","FramesBehindPrimary",">","PrimaryObject.Variable(MaxFramesBehind)"]},{"type":{"value":"Egal"},"parameters":["ShadowCloneObject.Variable(FramesBehindPrimary) / ShadowCloneObject.Variable(ShadowCloneOrder)","!=","PrimaryObject.Variable(FramesBetweenShadowClones)"]}]}],"actions":[{"type":{"value":"Delete"},"parameters":["ShadowCloneObject",""]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FrameCounter","-","ShadowCloneObject.Variable(FramesBehindPrimary) / ShadowCloneObject.Variable(ShadowCloneOrder)"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Don't let counter go negative"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","FrameCounter","<","0"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","FrameCounter","=","0"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Change opacity of shadow clone"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"FadeSpeed\")","!=","0"]}],"actions":[{"type":{"value":"Opacity"},"parameters":["ShadowCloneObject","=","255-GetArgumentAsNumber(\"FadeSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Set scale"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["GetArgumentAsNumber(\"ShrinkSpeed\")","!=","0"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleWidth"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleX()-(GetArgumentAsNumber(\"ShrinkSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)/100)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ChangeScaleHeight"},"parameters":["ShadowCloneObject","=","PrimaryObject.ScaleY()-(GetArgumentAsNumber(\"ShrinkSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)/100)"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Update PrimaryObject history","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Clean-up unused history"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataCleaningCounter","=","PrimaryObject.Variable(MaxFramesBehind)"]}]},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"ObjectVariableChildExists"},"parameters":["PrimaryObject","ObjectHistory","ToString(PrimaryObject.Variable(DataCleaningCounter)+1)"]}],"conditions":[],"actions":[{"type":{"value":"ObjectVariableRemoveChild"},"parameters":["PrimaryObject","ObjectHistory","ToString(PrimaryObject.Variable(DataCleaningCounter)+1)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataCleaningCounter","+","1"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset temp variable for iterating through child objects"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataMoveCounter","=","PrimaryObject.Variable(MaxFramesBehind)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move position history to the next higher index, starting from the highest number (FramesBehind-1)"},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"VarObjet"},"parameters":["PrimaryObject","DataMoveCounter",">","1"]}],"conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move object history to one higher frame"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].xpos","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].xpos)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].ypos","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].ypos)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].angle","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].angle)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].animation","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].animation)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].frame","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].frame)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].xscale","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].xscale)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].yscale","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].yscale)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].width","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].width)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter))].height","=","PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(DataMoveCounter)-1)].height)"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","DataMoveCounter","-","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Record new current position in index = 1"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.xpos","=","PrimaryObject.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.ypos","=","PrimaryObject.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.animation","=","PrimaryObject.Animation()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.frame","=","PrimaryObject.Sprite()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.angle","=","PrimaryObject.Angle()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.xscale","=","PrimaryObject.ScaleX()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.yscale","=","PrimaryObject.ScaleY()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.width","=","PrimaryObject.Width()"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ObjectHistory.1.height","=","PrimaryObject.Height()"]}]}],"parameters":[]}]}],"parameters":[]}],"parameters":[{"description":"Object that shadow clones will follow","name":"PrimaryObject","supplementaryInformation":"Sprite","type":"objectList"},{"description":"Shadows clones will be made of this object (Cannot be the same object used for primary object)","name":"ShadowCloneObject","supplementaryInformation":"Sprite","type":"objectList"},{"description":"Number of shadow clones (Default: 1)","name":"NumberOfShadowClones","type":"expression"},{"description":"Number of empty frames between shadow clones (Default: 1)","name":"FramesBetweenShadowClones","type":"expression"},{"description":"Fade speed (Range: 0 to 255) (Default: 0)","longDescription":"Decrease in opacity for each consecutive shadow clone ","name":"FadeSpeed","type":"expression"},{"description":"Shrink speed (Range: 0 to 100) (Default: 0)","longDescription":"Decrease in scale for each consecutive shadow clone ","name":"ShrinkSpeed","type":"expression"},{"description":"Shadow clones will be created on this layer. (Default: \"\") (Base Layer)","name":"ShadowCloneLayer","type":"layer"},{"description":"Z value for created shadow clones","name":"ShadowCloneZValue","type":"expression"},{"description":"Match X scale of primary object:","name":"MatchScaleX","type":"yesorno"},{"description":"Match Y scale of primary object:","name":"MatchScaleY","type":"yesorno"},{"description":"Match angle of primary object:","name":"MatchAngle","type":"yesorno"},{"description":"Match animation of primary object:","name":"MatchAnimation","type":"yesorno"},{"description":"Match animation frame of primary object:","name":"MatchAnimationFrame","type":"yesorno"},{"description":"Match the vertical flip of primary object:","name":"MatchVerticalFlip","type":"yesorno"},{"description":"Match the horizontal flip of primary object:","name":"MatchHorizontalFlip","type":"yesorno"}],"objectGroups":[]},{"description":"Delete shadow clone objects that are linked to a primary object.","fullName":"Delete shadow clone objects that are linked to a primary object","functionType":"Action","name":"DeleteShadowClones","sentence":"Delete all _PARAM2_ that are linked to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"ShadowClones","conditions":[{"type":{"value":"LinkedObjects::PickObjectsLinkedTo"},"parameters":["","ShadowClones","PrimaryObject"]}],"actions":[{"type":{"value":"Delete"},"parameters":["ShadowClones",""]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","ClonesCreated","=","0"]},{"type":{"value":"ModVarObjet"},"parameters":["PrimaryObject","TotalShadowClones","=","0"]},{"type":{"value":"ObjectVariableClearChildren"},"parameters":["PrimaryObject","ObjectHistory"]}]}],"parameters":[{"description":"Primary object","name":"PrimaryObject","type":"objectList"},{"description":"Shadow clones","name":"ShadowClones","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"Gabriel (@TheGemDev) & Maury Dev (@MauryDev)","category":"User interface","extensionNamespace":"","fullName":"Language","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWVhcnRoIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTE3LjksMTcuMzlDMTcuNjQsMTYuNTkgMTYuODksMTYgMTYsMTZIMTVWMTNBMSwxIDAgMCwwIDE0LDEySDhWMTBIMTBBMSwxIDAgMCwwIDExLDlWN0gxM0EyLDIgMCAwLDAgMTUsNVY0LjU5QzE3LjkzLDUuNzcgMjAsOC42NCAyMCwxMkMyMCwxNC4wOCAxOS4yLDE1Ljk3IDE3LjksMTcuMzlNMTEsMTkuOTNDNy4wNSwxOS40NCA0LDE2LjA4IDQsMTJDNCwxMS4zOCA0LjA4LDEwLjc4IDQuMjEsMTAuMjFMOSwxNVYxNkEyLDIgMCAwLDAgMTEsMThNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJaIiAvPjwvc3ZnPg==","name":"Language","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/earth.svg","shortDescription":"Get the preferred language of the user, set on their browser or device.","version":"0.0.1","description":"Get the preferred language of the user, set on their browser or device.","origin":{"identifier":"Language","name":"gdevelop-extension-store"},"tags":["javascript","language"],"authorIds":["jy7FXnGX0ZZcWfrAI9YuQaeIphi1"],"dependencies":[],"eventsFunctions":[{"description":"Returns a string representing the preferred language of the user.\nThe format represents the language first, and usually the country where it's used. For example: \"en\" (English), \"en-US\" (English as used in the United States), \"en-GB\" (United Kingdom English), \"es\" (Spanish), \"zh-CN\" (Chinese as used in China), etc.","fullName":"Language","functionType":"StringExpression","name":"Language","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = navigator.language || \"\";","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"Advanced","extensionNamespace":"","fullName":"Clock","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWNsb2NrLXRpbWUtZWlnaHQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMkM2LjUgMiAyIDYuNSAyIDEyQzIgMTcuNSA2LjUgMjIgMTIgMjJDMTcuNSAyMiAyMiAxNy41IDIyIDEyUzE3LjUgMiAxMiAyTTcuNyAxNS41TDcgMTQuMkwxMSAxMS45VjdIMTIuNVYxMi44TDcuNyAxNS41WiIgLz48L3N2Zz4=","name":"Clock","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/clock-time-eight.svg","shortDescription":"Add clocks into your game.","version":"0.3.0","description":["Add clocks to your game with ease including","","    12 - hour time","    24 - hour time","    English date","    Numeral date","."],"origin":{"identifier":"Clock","name":"gdevelop-extension-store"},"tags":["clock","time","date","month","year","javascript"],"authorIds":["N4sZ052zwPVw6Y9n4y9yfRF8ilA2"],"dependencies":[],"eventsFunctions":[{"description":"Modify text to display year.","fullName":"Year","functionType":"Expression","name":"YearFunction","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["//Getting year values from device\r","const d = new Date();\r","var y = d.getFullYear();\r","\r","eventsFunctionContext.returnValue = y"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"Modify text to display time in 12 - Hour format.","fullName":"Time","functionType":"Expression","name":"TwelveHour","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"24- Hour time"},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const d = new Date();","var hour = d.getHours();","","if (hour > 12){","    hour -= 12","};","","eventsFunctionContext.returnValue = hour"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Modify a text object to display the time.","fullName":"Time","name":"Time","objectType":"TextObject::Text","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__Clock.Hour","=","Time(\"hour\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__Clock.Minutes","=","Time(\"min\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__Clock.Seconds","=","Time(\"sec\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.Minutes","<","10"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.Minutes","=","\"0\" + ToString(Time(\"min\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.Seconds","<","10"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.Seconds","=","\"0\" + ToString(Time(\"sec\"))"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"24- Hour time"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Clock::Time::PropertyProperty"},"parameters":["Object","Behavior","=","\"24 - Hour\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Object","=","VariableString(__Clock.Hour) + \":\" + VariableString(__Clock.Minutes) + \":\" + VariableString(__Clock.Seconds)"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"12 - Hour time"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Clock::Time::PropertyProperty"},"parameters":["Object","Behavior","=","\"12 - Hour\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.Hour",">","12"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__Clock.Hour","-","12"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Object","=","VariableString(__Clock.Hour) + \":\" + VariableString(__Clock.Minutes) + \":\" + VariableString(__Clock.Seconds)"]}]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TextObject::Text","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Clock::Time","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Choice","label":"Display time in the format of:","description":"","group":"","extraInformation":["12 - Hour","24 - Hour"],"hidden":false,"name":"Property"}],"sharedPropertyDescriptors":[]},{"description":"Modify a text object to display the date.","fullName":"Date","name":"Date","objectType":"TextObject::Text","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Clock::Date::PropertyProperty"},"parameters":["Object","Behavior","=","\"Words\""]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Word","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Object","=","VariableString(__Clock.DayOfTheWeek) + \" \" + VariableString(__Clock.DayOfTheMonth) + \" \" +  VariableString(__Clock.MonthOfTheYear)"]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Day Of The Week","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__Clock.GetDayOfTheWeek","=","Time(\"wday\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetDayOfTheWeek","=","1"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.DayOfTheWeek","=","\"Mon\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetDayOfTheWeek","=","2"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.DayOfTheWeek","=","\"Tue\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetDayOfTheWeek","=","3"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.DayOfTheWeek","=","\"Wed\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetDayOfTheWeek","=","4"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.DayOfTheWeek","=","\"Thu\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetDayOfTheWeek","=","5"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.DayOfTheWeek","=","\"Fri\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetDayOfTheWeek","=","6"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.DayOfTheWeek","=","\"Sat\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Month Of The Year","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","Time(\"mon\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","0"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Jan\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","1"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Feb\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","2"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Mar\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","3"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Apr\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","4"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"May\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","5"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Jun\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","6"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Jul\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","7"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Aug\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","8"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Sep\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","9"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Oct\n\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","10"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Nov\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__Clock.GetMonthOfTheYear","=","11"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__Clock.MonthOfTheYear","=","\"Dec\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Day Of The Month","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__Clock.DayOfTheMonth","=","Time(\"mday\")"]}]}],"parameters":[]}],"parameters":[]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Clock::Date::PropertyProperty"},"parameters":["Object","Behavior","=","\"Numbers\""]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Numbers","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Object","=","ToString(Time(\"wday\")) + \"/\" + ToString(Time(\"mon\")) + \"/\" + ToString(Clock::YearFunction())"]}]}],"parameters":[]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TextObject::Text","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Clock::Date","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Choice","label":"Display date in the format of:","description":"","group":"","extraInformation":["Words","Numbers"],"hidden":false,"name":"Property"}],"sharedPropertyDescriptors":[]},{"description":"Modify a text object to display the year.","fullName":"Year","name":"Year","objectType":"TextObject::Text","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Display year"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Object","=","ToString(Clock::YearFunction())"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TextObject::Text","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Clock::Year","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Camera","extensionNamespace":"","fullName":"Smooth Camera","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjQsMTNoLTZjLTEuMSwwLTItMC45LTItMlY1YzAtMS4xLDAuOS0yLDItMmg2YzEuMSwwLDIsMC45LDIsMnY2QzI2LDEyLjEsMjUuMSwxMywyNCwxM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNiw4djEwYzAsMS4xLTAuOSwyLTIsMkg4Yy0xLjEsMC0yLTAuOS0yLTJWOGMwLTEuMSwwLjktMiwyLTJoOCIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjEiIGN5PSI4IiByPSIyIi8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxMSIgY3k9IjE2IiByPSIxIi8+DQo8cmVjdCB4PSI5IiB5PSI5IiBjbGFzcz0ic3QwIiB3aWR0aD0iNCIgaGVpZ2h0PSIzIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIyMSwyOSAyMSwyOSAxMSwyOSAxMSwyOSAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjE4LDIwIDE4LDI5IDE0LDI5IDE0LDIwICIvPg0KPHJlY3QgeD0iNyIgeT0iMyIgY2xhc3M9InN0MCIgd2lkdGg9IjQiIGhlaWdodD0iMyIvPg0KPC9zdmc+DQo=","name":"SmoothCamera","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Computers and Hardware/Computers and Hardware_camcoder_gopro_go_pro_camera.svg","shortDescription":"Smoothly scroll to follow an object.","version":"0.3.0","description":["The camera follows an object according to:","- a frame rate independent catch-up speed to make the scrolling from smooth to strong","- a maximum speed to do linear following ([open the project online](https://editor.gdevelop.io/?project=example://platformer-with-tilemap)) or slow down the camera when teleporting the object","- a follow-free zone to avoid scrolling on small movements","- an offset to see further in one direction","- an extra delay and catch-up speed to give an impression of speed (useful for dash)","- position forecasting and delay to simulate a cameraman response time","","A platformer dedicated behavior allows to switch of settings when the character is in air or on the floor. This can be used to stabilize the camera when jumping."],"origin":{"identifier":"SmoothCamera","name":"gdevelop-extension-store"},"tags":["camera","scrolling","follow","smooth","platformer","platform"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Smoothly scroll to follow an object.","fullName":"Smooth Camera","name":"SmoothCamera","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update private properties through setters to check their values and initialize state."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetLeftwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyLeftwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetRightwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyRightwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyUpwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeed"},"parameters":["Object","Behavior","Object.Behavior::PropertyDownwardSpeed()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetLeftwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyLeftwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetRightwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyRightwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyUpwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeedMax"},"parameters":["Object","Behavior","Object.Behavior::PropertyDownwardSpeedMax()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaLeft"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaLeft()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaRight"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaRight()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaTop()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"},"parameters":["Object","Behavior","Object.Behavior::PropertyFollowFreeAreaBottom()","log(1 - )"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelay"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyCameraDelay()"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::PropertyIsCalledManually"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object. This action must be called after the object has moved for the frame.","fullName":"Move the camera closer","functionType":"Action","name":"MoveCameraCloser","sentence":"Move the camera closer to _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The camera following is called with an action, the call from doStepPreEvents must be disabled to avoid to do it twice."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIsCalledManually"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"SmoothCamera::SmoothCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object.","fullName":"Do move the camera closer","functionType":"Action","name":"DoMoveCameraCloser","private":true,"sentence":"Do move the camera closer _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Delaying and forecasting can be used at the same time.\nForecasting only use the positions that are older than the one used for delaying.\nThe behavior uses a position history that is split in 2 arrays:\n- one for delaying the position (from TimeFromStart to TimeFromStart - CamearDelay)\n- one for forecasting the position (from TimeFromStart - CamearDelay to TimeFromStart - CamearDelay - ForecastHistoryDuration"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::UpdateDelayedPosition"},"parameters":["Object","Behavior",""]},{"type":{"value":"SmoothCamera::SmoothCamera::UpdateForecastedPosition"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"At each frame, the camera must catchup the target by a given ratio (speed)\ncameraX(t) - targetX = (cameraX(t - 1) - targetX) * speed\n\nThe frame rate must not impact on the catch-up speed, we don't want a speed in ratio per frame but a speed ratio per second, like this:\ncameraX(t) - targetX = (cameraX(t - 1s) - targetX) * speed\n\nOk, but we still need to process each frame, we can use a exponent for this:\ncameraX(t) - targetX = (cameraX(t - timeDelta) - targetX) * speed^timeDelta\ncameraX(t) = targetX + (cameraX(t - timeDelta) - targetX) * exp(timeDelta * ln(speed))\n\npow is probably more efficient than precalculated log if the speed is changed continuously but this might be rare enough."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowOnX"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyOldX"},"parameters":["Object","Behavior","=","CameraX(Object.Layer(), 0)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["",">","Object.Behavior::FreeAreaRight()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::FreeAreaRight()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaRight())\n* exp(TimeDelta() * Object.Behavior::PropertyLogLeftwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["","<","Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["","<","Object.Behavior::FreeAreaLeft()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::FreeAreaLeft()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaLeft())\n* exp(TimeDelta() * Object.Behavior::PropertyLogRightwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraX"},"parameters":["",">","Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraX"},"parameters":["","=","Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowOnY"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyOldY"},"parameters":["Object","Behavior","=","CameraY(Object.Layer(), 0)"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["",">","Object.Behavior::FreeAreaBottom()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::FreeAreaBottom()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaBottom())\n* exp(TimeDelta() * Object.Behavior::PropertyLogUpwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["","<","Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["","<","Object.Behavior::FreeAreaTop()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::FreeAreaTop()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaTop())\n* exp(TimeDelta() * Object.Behavior::PropertyLogDownwardSpeed())","Object.Layer()","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraY"},"parameters":["",">","Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}],"actions":[{"type":{"value":"SetCameraY"},"parameters":["","=","Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()","Object.Layer()","0"]}]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Delay the camera according to a maximum speed and catch up the delay.","fullName":"Wait and catch up","functionType":"Action","name":"WaitAndCatchUp","sentence":"Delay the camera of _PARAM0_ during: _PARAM2_ seconds according to the maximum speed _PARAM3_;_PARAM4_ seconds and catch up in _PARAM5_ seconds","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Maybe the catch-up show be done in constant pixel speed instead of constant time speed."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyWaitingEnd"},"parameters":["Object","Behavior","=","TimeFromStart() + GetArgumentAsNumber(\"WaitingDuration\")"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedXMax"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"WaitingSpeedXMax\")"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedYMax"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"WaitingSpeedYMax\")"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"CatchUpDuration\")"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Wait and catch up\"","\"info\"","\"SmoothCamera\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Waiting duration (in seconds)","name":"WaitingDuration","type":"expression"},{"description":"Waiting maximum camera target speed X","name":"WaitingSpeedXMax","type":"expression"},{"description":"Waiting maximum camera target speed Y","name":"WaitingSpeedYMax","type":"expression"},{"description":"Catch up duration (in seconds)","name":"CatchUpDuration","type":"expression"}],"objectGroups":[]},{"description":"Draw the targeted and actual camera position.","fullName":"Draw debug","functionType":"Action","name":"DrawDebug","sentence":"Draw targeted and actual camera position for _PARAM0_ on _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["ShapePainter","=","0"]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Path used by the forecasting","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",">","0"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"PrimitiveDrawing::OutlineColor"},"parameters":["ShapePainter","\"245;166;35\""]},{"type":{"value":"PrimitiveDrawing::BeginFillPath"},"parameters":["ShapePainter","Object.Variable(__SmoothCamera.ForecastHistoryX[0])","Object.Variable(__SmoothCamera.ForecastHistoryY[0])"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::PathLineTo"},"parameters":["ShapePainter","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()])","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::EndFillPath"},"parameters":["ShapePainter"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Follow-free area.","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaLeft"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaRight"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyFollowFreeAreaBottom"},"parameters":["Object","Behavior","!=","0"]}]}],"actions":[{"type":{"value":"PrimitiveDrawing::OutlineColor"},"parameters":["ShapePainter","\"126;211;33\""]},{"type":{"value":"PrimitiveDrawing::Rectangle"},"parameters":["ShapePainter","Object.Behavior::FreeAreaLeft() - 1","Object.Behavior::FreeAreaTop() - 1","Object.Behavior::FreeAreaRight() + 1","Object.Behavior::FreeAreaBottom() + 1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Linear regression vector used by the forecasting.","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::OutlineColor"},"parameters":["ShapePainter","\"208;2;27\""]},{"type":{"value":"PrimitiveDrawing::LineV2"},"parameters":["ShapePainter","Object.Behavior::PropertyProjectedOldestX()","Object.Behavior::PropertyProjectedOldestY()","Object.Behavior::PropertyProjectedNewestX()","Object.Behavior::PropertyProjectedNewestY()","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Targeted and actual camera position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::Circle"},"parameters":["ShapePainter","Object.Behavior::PropertyForecastedX()","Object.Behavior::PropertyForecastedY()","3"]},{"type":{"value":"PrimitiveDrawing::LineV2"},"parameters":["ShapePainter","CameraX(Object.Layer(), 0)","CameraY(Object.Layer(), 0) - 4","CameraX(Object.Layer(), 0)","CameraY(Object.Layer(), 0) + 4","1"]},{"type":{"value":"PrimitiveDrawing::LineV2"},"parameters":["ShapePainter","CameraX(Object.Layer(), 0) - 4","CameraY(Object.Layer(), 0)","CameraX(Object.Layer(), 0) + 4","CameraY(Object.Layer(), 0)","1"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Shape painter","name":"ShapePainter","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"objectList"}],"objectGroups":[]},{"description":"Enable or disable the following on X axis.","fullName":"Follow on X","functionType":"Action","group":"Camera configuration","name":"SetFollowOnX","sentence":"The camera follows _PARAM0_ on X axis: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnX"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"FollowOnX\""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnX"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow on X axis","name":"FollowOnX","type":"yesorno"}],"objectGroups":[]},{"description":"Enable or disable the following on Y axis.","fullName":"Follow on Y","functionType":"Action","group":"Camera configuration","name":"SetFollowOnY","sentence":"The camera follows _PARAM0_ on Y axis: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnY"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"FollowOnY\""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowOnY"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow on Y axis","name":"FollowOnY","type":"yesorno"}],"objectGroups":[]},{"description":"Change the camera follow free area right border.","fullName":"Follow free area right border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaRight","sentence":"Change the camera follow free area right border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"SetFollowFreeAreaRight\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area right border","name":"SetFollowFreeAreaRight","type":"expression"}],"objectGroups":[]},{"description":"Change the camera follow free area left border.","fullName":"Follow free area left border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaLeft","sentence":"Change the camera follow free area left border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"SetFollowFreeAreaLeft\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area left border","name":"SetFollowFreeAreaLeft","type":"expression"}],"objectGroups":[]},{"description":"Change the camera follow free area top border.","fullName":"Follow free area top border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaTop","sentence":"Change the camera follow free area top border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"FollowFreeAreaTop\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area top border","name":"FollowFreeAreaTop","type":"expression"}],"objectGroups":[]},{"description":"Change the camera follow free area bottom border.","fullName":"Follow free area bottom border","functionType":"Action","group":"Camera configuration","name":"SetFollowFreeAreaBottom","sentence":"Change the camera follow free area bottom border of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaBottom"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"SetFollowFreeAreaBottom\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Follow free area bottom border","name":"SetFollowFreeAreaBottom","type":"expression"}],"objectGroups":[]},{"description":"Change the camera leftward maximum speed (in pixels per second).","fullName":"Leftward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetLeftwardSpeedMax","sentence":"Change the camera leftward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Leftward maximum speed (in ratio per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera rightward maximum speed (in pixels per second).","fullName":"Rightward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetRightwardSpeedMax","sentence":"Change the camera rightward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Rightward maximum speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera upward maximum speed (in pixels per second).","fullName":"Upward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetUpwardSpeedMax","sentence":"Change the camera upward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyUpwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Upward maximum speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera downward maximum speed (in pixels per second).","fullName":"Downward maximum speed","functionType":"Action","group":"Camera configuration","name":"SetDownwardSpeedMax","sentence":"Change the camera downward maximum speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDownwardSpeedMax"},"parameters":["Object","Behavior","=","max(0, GetArgumentAsNumber(\"Speed\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Downward maximum speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera leftward catch-up speed (in ratio per second).","fullName":"Leftward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetLeftwardSpeed","sentence":"Change the camera leftward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"LeftwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogLeftwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyLeftwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Leftward catch-up speed (in ratio per second)","name":"LeftwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera rightward catch-up speed (in ratio per second).","fullName":"Rightward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetRightwardSpeed","sentence":"Change the camera rightward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyRightwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"RightwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogRightwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyRightwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Rightward catch-up speed (in ratio per second)","name":"RightwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera downward catch-up speed (in ratio per second).","fullName":"Downward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetDownwardSpeed","sentence":"Change the camera downward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDownwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"DownwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogDownwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyDownwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Downward catch-up speed (in ratio per second)","name":"DownwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"Change the camera upward catch-up speed (in ratio per second).","fullName":"Upward catch-up speed","functionType":"Action","group":"Camera configuration","name":"SetUpwardSpeed","sentence":"Change the camera upward catch-up speed of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyUpwardSpeed"},"parameters":["Object","Behavior","=","clamp(0, 1, GetArgumentAsNumber(\"UpwardSpeed\"))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyLogUpwardSpeed"},"parameters":["Object","Behavior","=","log(1 - Object.Behavior::PropertyUpwardSpeed())"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Upward catch-up speed (in ratio per second)","name":"UpwardSpeed","type":"expression"}],"objectGroups":[]},{"description":"the camera offset on X axis of the object. This is not the current difference between the object and the camera position.","fullName":"Camera offset X","functionType":"ExpressionAndCondition","group":"Camera configuration","name":"OffsetX","sentence":"the camera offset on X axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyCameraOffsetX()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetX","name":"SetOffsetXOp","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraOffsetX"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Change the camera offset on X axis of an object.","fullName":"Camera Offset X","functionType":"Action","group":"Camera configuration","name":"SetOffsetX","private":true,"sentence":"Change the camera offset on X axis of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Deprecated use SetOffsetXOp instead."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetOffsetXOp"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"CameraOffsetX\")",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Camera offset X","name":"CameraOffsetX","type":"expression"}],"objectGroups":[]},{"description":"the camera offset on Y axis of the object. This is not the current difference between the object and the camera position.","fullName":"Camera offset Y","functionType":"ExpressionAndCondition","group":"Camera configuration","name":"OffsetY","sentence":"the camera offset on Y axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyCameraOffsetY()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetY","name":"SetOffsetYOp","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Deprecated use SetOffsetYOp instead."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraOffsetY"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Change the camera offset on Y axis of an object.","fullName":"Camera Offset Y","functionType":"Action","group":"Camera configuration","name":"SetOffsetY","private":true,"sentence":"Change the camera offset on Y axis of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetOffsetYOp"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"CameraOffsetY\")",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Camera offset Y","name":"CameraOffsetY","type":"expression"}],"objectGroups":[]},{"description":"Change the camera forecast time (in seconds).","fullName":"Forecast time","functionType":"Action","group":"Camera configuration","name":"SetForecastTime","sentence":"Change the camera forecast time of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastTime"},"parameters":["Object","Behavior","=","min(0, GetArgumentAsNumber(\"ForecastTime\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Forecast time","name":"ForecastTime","type":"expression"}],"objectGroups":[]},{"description":"Change the camera delay (in seconds).","fullName":"Camera delay","functionType":"Action","group":"Camera configuration","name":"SetCameraDelay","sentence":"Change the camera delay of _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelay"},"parameters":["Object","Behavior","=","min(0, GetArgumentAsNumber(\"CameraDelay\"))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Camera delay","name":"CameraDelay","type":"expression"}],"objectGroups":[]},{"description":"Return follow free area left border X.","fullName":"Free area left","functionType":"Expression","group":"Private","name":"FreeAreaLeft","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() - Object.Behavior::PropertyFollowFreeAreaLeft()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area right border X.","fullName":"Free area right","functionType":"Expression","group":"Private","name":"FreeAreaRight","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() + Object.Behavior::PropertyFollowFreeAreaRight()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area bottom border Y.","fullName":"Free area bottom","functionType":"Expression","group":"Private","name":"FreeAreaBottom","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() + Object.Behavior::PropertyFollowFreeAreaBottom()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area top border Y.","fullName":"Free area top","functionType":"Expression","group":"Private","name":"FreeAreaTop","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() - Object.Behavior::PropertyFollowFreeAreaTop()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Update delayed position and delayed history. This is called in doStepPreEvents.","fullName":"Update delayed position","functionType":"Action","group":"Private","name":"UpdateDelayedPosition","private":true,"sentence":"Update delayed position and delayed history of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add the previous position to have enough (2) positions to evaluate the extra delay for waiting mode."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]},{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ObjectTime)","=","0"]}],"actions":[{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectTime","TimeFromStart()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectX","Object.Behavior::PropertyDelayedCenterX()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectY","Object.Behavior::PropertyDelayedCenterY()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Use the object center when no delay is asked."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"},"parameters":["Object","Behavior","=","Object.CenterX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"},"parameters":["Object","Behavior","=","Object.CenterY()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsDelayed"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::AddForecastHistoryPosition"},"parameters":["Object","Behavior","TimeFromStart()","Object.CenterX()","Object.CenterY()",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::IsDelayed"},"parameters":["Object","Behavior",""]},{"type":{"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]}]}],"actions":[{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectTime","TimeFromStart()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectX","Object.CenterX()"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ObjectY","Object.CenterY()"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Remove history entries that are too old to be useful for delaying and pass it to the history for forecasting."},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ObjectTime)",">=","2"]},{"type":{"value":"VarObjet"},"parameters":["Object","__SmoothCamera.ObjectTime[1]","<","TimeFromStart() - Object.Behavior::CurrentDelay()"]}],"conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::AddForecastHistoryPosition"},"parameters":["Object","Behavior","Object.Variable(__SmoothCamera.ObjectTime[0])","Object.Variable(__SmoothCamera.ObjectX[0])","Object.Variable(__SmoothCamera.ObjectY[0])",""]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ObjectTime","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ObjectX","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ObjectY","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Don't move the camera if there is not enough history."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"},"parameters":["Object","Behavior","=","Object.Variable(__SmoothCamera.ObjectX[0])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"},"parameters":["Object","Behavior","=","Object.Variable(__SmoothCamera.ObjectY[0])"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ObjectTime)",">=","2"]},{"type":{"value":"VarObjet"},"parameters":["Object","__SmoothCamera.ObjectTime[0]","<","TimeFromStart() - Object.Behavior::CurrentDelay()"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add the extra delay that could be needed to respect the speed limit in waiting mode.\n\nspeedRatio = min(speedMaxX / historySpeedX, speedMaxY / historySpeedY)\ndelay += min(0, timeDelta * (1 - speedRatio))"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"},"parameters":["Object","Behavior","+","max(0, TimeDelta() * (1 - min(Object.Behavior::PropertyWaitingSpeedXMax() * abs(Object.Variable(__SmoothCamera.ObjectX[1]) - Object.Variable(__SmoothCamera.ObjectX[0])), Object.Behavior::PropertyWaitingSpeedYMax() * abs(Object.Variable(__SmoothCamera.ObjectY[1]) - Object.Variable(__SmoothCamera.ObjectY[0]))) / (Object.Variable(__SmoothCamera.ObjectTime[1]) - Object.Variable(__SmoothCamera.ObjectTime[0]))))"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Extra delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())","\"info\"","\"SmoothCamera\""]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The time with delay is now between the first 2 indexes"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"},"parameters":["Object","Behavior","=","lerp(Object.Variable(__SmoothCamera.ObjectX[1]), Object.Variable(__SmoothCamera.ObjectX[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera.ObjectTime[1])) / (Object.Variable(__SmoothCamera.ObjectTime[0]) - Object.Variable(__SmoothCamera.ObjectTime[1])))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"},"parameters":["Object","Behavior","=","lerp(Object.Variable(__SmoothCamera.ObjectY[1]), Object.Variable(__SmoothCamera.ObjectY[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera.ObjectTime[1])) / (Object.Variable(__SmoothCamera.ObjectTime[0]) - Object.Variable(__SmoothCamera.ObjectTime[1])))"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsDelayed"},"parameters":["Object","Behavior",""]},{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"ObjectVariableClearChildren"},"parameters":["Object","__SmoothCamera.ObjectTime"]},{"type":{"value":"ObjectVariableClearChildren"},"parameters":["Object","__SmoothCamera.ObjectX"]},{"type":{"value":"ObjectVariableClearChildren"},"parameters":["Object","__SmoothCamera.ObjectY"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpSpeed"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyCameraExtraDelay() / Object.Behavior::PropertyCameraDelayCatchUpDuration()"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Start to catch up\"","\"info\"","\"SmoothCamera\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"SmoothCamera::SmoothCamera::IsWaiting"},"parameters":["Object","Behavior",""]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyCameraExtraDelay"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"},"parameters":["Object","Behavior","=","max(0, Object.Behavior::PropertyCameraExtraDelay() -Object.Behavior::PropertyCameraDelayCatchUpSpeed() * TimeDelta())"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Catching up delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())","\"info\"","\"SmoothCamera\""]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Check if the camera following target is delayed from the object.","fullName":"Camera is delayed","functionType":"Condition","name":"IsDelayed","private":true,"sentence":"The camera of _PARAM0_ is delayed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.Behavior::CurrentDelay()",">","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return the current camera delay.","fullName":"Current delay","functionType":"Expression","name":"CurrentDelay","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyCameraDelay() + Object.Behavior::PropertyCameraExtraDelay()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Check if the camera following is waiting at a reduced speed.","fullName":"Camera is waiting","functionType":"Condition","name":"IsWaiting","private":true,"sentence":"The camera of _PARAM0_ is waiting","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyWaitingEnd"},"parameters":["Object","Behavior",">","TimeFromStart()"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Add a position to the history for forecasting. This is called 2 times in UpadteDelayedPosition.","fullName":"Add forecast history position","functionType":"Action","group":"Private","name":"AddForecastHistoryPosition","private":true,"sentence":"Add the time:_PARAM2_ and position: _PARAM3_; _PARAM4_ to the forecast history of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastTime"},"parameters":["Object","Behavior",">","0"]}]}],"actions":[{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ForecastHistoryTime","GetArgumentAsNumber(\"Time\")"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ForecastHistoryX","GetArgumentAsNumber(\"ObjectX\")"]},{"type":{"value":"ObjectVariablePushNumber"},"parameters":["Object","__SmoothCamera.ForecastHistoryY","GetArgumentAsNumber(\"ObjectY\")"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Remove history entries that are too old to be useful.\nKeep at least 2 positions because no forecast can be done with less positions."},{"infiniteLoopWarning":true,"type":"BuiltinCommonInstructions::While","whileConditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",">=","3"]},{"type":{"value":"VarObjet"},"parameters":["Object","__SmoothCamera.ForecastHistoryTime[0]","<","TimeFromStart() - Object.Behavior::PropertyCameraDelay() - Object.Behavior::PropertyCameraExtraDelay() - Object.Behavior::PropertyForecastHistoryDuration()"]}],"conditions":[],"actions":[{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ForecastHistoryTime","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ForecastHistoryX","0"]},{"type":{"value":"ObjectVariableRemoveAt"},"parameters":["Object","__SmoothCamera.ForecastHistoryY","0"]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"Time","name":"Time","type":"expression"},{"description":"Object X","name":"ObjectX","type":"expression"},{"description":"Object Y","name":"ObjectY","type":"expression"}],"objectGroups":[]},{"description":"Update forecasted position. This is called in doStepPreEvents.","fullName":"Update forecasted position","functionType":"Action","group":"Private","name":"UpdateForecastedPosition","private":true,"sentence":"Update forecasted position of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterY()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Simple linear regression\ny = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX\n\nNote than we could use only one position every N positions to reduce the process time,\nbut if we really need efficient process JavaScript and circular queues are a must."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",">=","2"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::PropertyForecastTime"},"parameters":["Object","Behavior",">","0"]}]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Mean X","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"},"parameters":["Object","Behavior","+","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"},"parameters":["Object","Behavior","/","Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Mean Y","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryY)","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"},"parameters":["Object","Behavior","+","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()])"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"},"parameters":["Object","Behavior","/","Object.VariableChildCount(__SmoothCamera.ForecastHistoryY)"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Mean: \" + ToString(Object.Behavior::PropertyForecastHistoryMeanX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryMeanY())","",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Variance and Covariance","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"VarianceX = sum((X[i] - MeanX))\nVarianceY = sum((Y[i] - MeanY))\nCovariance = sum((X[i] - MeanX) * (Y[i] - MeanY))"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"},"parameters":["Object","Behavior","+","pow(Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX(), 2)"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"},"parameters":["Object","Behavior","+","pow(Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY(), 2)"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"},"parameters":["Object","Behavior","+","(Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX())\n*\n(Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY())"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Variances: \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceY()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryCovariance())","\"info\"","\"SmoothCamera\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())","<","1"]},{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceY())","<","1"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyDelayedCenterY()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())",">=","1"]},{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceY())",">=","1"]}]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Linear function parameters","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"y = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())",">=","abs(Object.Behavior::PropertyForecastHistoryVarianceY())"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryMeanY() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanX()"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())","\"info\"","\"SmoothCamera\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Projection","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::ProjectHistoryEnds"},"parameters":["Object","Behavior","Object.Variable(__SmoothCamera.ForecastHistoryX[0])","Object.Variable(__SmoothCamera.ForecastHistoryY[0])","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.VariableChildCount(__SmoothCamera.ForecastHistoryX) - 1])","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.VariableChildCount(__SmoothCamera.ForecastHistoryY) - 1])",""]}]}],"parameters":[]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Axis permutation to avoid a ratio between 2 numbers near 0."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["abs(Object.Behavior::PropertyForecastHistoryVarianceX())","<","abs(Object.Behavior::PropertyForecastHistoryVarianceY())"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceY()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyForecastHistoryMeanX() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanY()"]}],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())","\"info\"","\"SmoothCamera\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Projection","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::ProjectHistoryEnds"},"parameters":["Object","Behavior","Object.Variable(__SmoothCamera.ForecastHistoryY[0])","Object.Variable(__SmoothCamera.ForecastHistoryX[0])","Object.Variable(__SmoothCamera.ForecastHistoryY[Object.VariableChildCount(__SmoothCamera.ForecastHistoryY) - 1])","Object.Variable(__SmoothCamera.ForecastHistoryX[Object.VariableChildCount(__SmoothCamera.ForecastHistoryX) - 1])",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Permute back axis"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedOldestX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedOldestY()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyIndex()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyIndex"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestX()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestY()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyIndex()"]}]}],"parameters":[]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Oldest: \" + ToString(Object.Behavior::PropertyProjectedOldestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedOldestY())","\"info\"","\"SmoothCamera\""]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Newest: \" + ToString(Object.Behavior::PropertyProjectedNewestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedNewestY())","\"info\"","\"SmoothCamera\""]}]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Forecasted position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedX"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestX() + ( Object.Behavior::PropertyProjectedNewestX() - Object.Behavior::PropertyProjectedOldestX()) * Object.Behavior::ForecastTimeRatio()"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyForecastedY"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyProjectedNewestY() + ( Object.Behavior::PropertyProjectedNewestY() - Object.Behavior::PropertyProjectedOldestY()) * Object.Behavior::ForecastTimeRatio()"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"DebuggerTools::ConsoleLog"},"parameters":["\"Forecasted: \" + ToString(Object.Behavior::PropertyForecastedX()) + \" \" + ToString(Object.Behavior::PropertyForecastedY())","\"info\"","\"SmoothCamera\""]}]}],"parameters":[]}],"parameters":[]}]}],"parameters":[]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]},{"description":"Project history ends position to have the vector on the line from linear regression. This function is only called by UpdateForecastedPosition.","fullName":"Project history ends","functionType":"Action","group":"Private","name":"ProjectHistoryEnds","private":true,"sentence":"Project history oldest: _PARAM2_;_PARAM3_ and newest position: _PARAM4_;_PARAM5_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Perpendicular line:\npA = -1/a; \npB = -pA * x + y\n\nIntersection:\n/ ProjectedY = a * ProjectedX + b\n\\ ProjectedY = pA * ProjectedX + b\n\nSolution that is cleaned out from indeterminism (like 0 / 0 or infinity / infinity):\nProjectedX= (x + (y - b) * a) / (a + 1)\nProjectedY = y + (x * a - y + b) / (a + 1)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"},"parameters":["Object","Behavior","=","(GetArgumentAsNumber(\"NewestX\") + (GetArgumentAsNumber(\"NewestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"NewestY\") + (GetArgumentAsNumber(\"NewestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"NewestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"},"parameters":["Object","Behavior","=","(GetArgumentAsNumber(\"OldestX\") + (GetArgumentAsNumber(\"OldestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]},{"type":{"value":"SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"OldestY\") + (GetArgumentAsNumber(\"OldestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"OldestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"},{"description":"OldestX","name":"OldestX","type":"expression"},{"description":"OldestY","name":"OldestY","type":"expression"},{"description":"Newest X","name":"NewestX","type":"expression"},{"description":"Newest Y","name":"NewestY","type":"expression"}],"objectGroups":[]},{"description":"Return the ratio between forecast time and the duration of the history. This function is only called by UpdateForecastedPosition.","fullName":"Forecast time ratio","functionType":"Expression","group":"Private","name":"ForecastTimeRatio","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["- Object.Behavior::PropertyForecastTime() / (Object.Variable(__SmoothCamera.ForecastHistoryTime[0]) - Object.Variable(__SmoothCamera.ForecastHistoryTime[Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime) - 1]))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothCamera","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0.9","type":"Number","label":"Leftward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"LeftwardSpeed"},{"value":"0.9","type":"Number","label":"Rightward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"RightwardSpeed"},{"value":"0.9","type":"Number","label":"Upward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"UpwardSpeed"},{"value":"0.9","type":"Number","label":"Downward catch-up speed (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"DownwardSpeed"},{"value":"true","type":"Boolean","label":"Follow on X axis","description":"","group":"","extraInformation":[],"hidden":false,"name":"FollowOnX"},{"value":"true","type":"Boolean","label":"Follow on Y axis","description":"","group":"","extraInformation":[],"hidden":false,"name":"FollowOnY"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area left border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaLeft"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area right border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaRight"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area top border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaTop"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area bottom border","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FollowFreeAreaBottom"},{"value":"0","type":"Number","unit":"Pixel","label":"Camera offset X","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"CameraOffsetX"},{"value":"0","type":"Number","unit":"Pixel","label":"Camera offset Y","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"CameraOffsetY"},{"value":"0","type":"Number","unit":"Second","label":"Camera delay","description":"","group":"Timing","extraInformation":[],"hidden":false,"name":"CameraDelay"},{"value":"0","type":"Number","unit":"Second","label":"Forecast time","description":"","group":"Timing","extraInformation":[],"hidden":false,"name":"ForecastTime"},{"value":"0","type":"Number","unit":"Second","label":"Forecast history duration","description":"","group":"Timing","extraInformation":[],"hidden":false,"name":"ForecastHistoryDuration"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogLeftwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogRightwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogDownwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"LogUpwardSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DelayedCenterX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DelayedCenterY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryMeanX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryMeanY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryVarianceX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryCovariance"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryLinearA"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryLinearB"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastedX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastedY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedNewestX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedNewestY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedOldestX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ProjectedOldestY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ForecastHistoryVarianceY"},{"value":"","type":"Number","label":"Index (local variable)","description":"","group":"","extraInformation":[],"hidden":true,"name":"Index"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraDelayCatchUpSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraExtraDelay"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"WaitingSpeedXMax"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"WaitingSpeedYMax"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"WaitingEnd"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraDelayCatchUpDuration"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Leftward maximum speed","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"LeftwardSpeedMax"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Rightward maximum speed","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"RightwardSpeedMax"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Upward maximum speed","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"UpwardSpeedMax"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Downward maximum speed","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"DownwardSpeedMax"},{"value":"","type":"Number","label":"OldX (local variable)","description":"","group":"","extraInformation":[],"hidden":true,"name":"OldX"},{"value":"","type":"Number","label":"OldY (local variable)","description":"","group":"","extraInformation":[],"hidden":true,"name":"OldY"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsCalledManually"}],"sharedPropertyDescriptors":[]},{"description":"Smoothly scroll to follow a character and stabilize the camera when jumping.","fullName":"Smooth platformer camera","name":"SmoothPlatformerCamera","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PlatformBehavior::IsJumping"},"parameters":["Object","PlatformerCharacter"]},{"type":{"inverted":true,"value":"PlatformBehavior::IsFalling"},"parameters":["Object","PlatformerCharacter"]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorFollowFreeAreaTop()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorFollowFreeAreaBottom()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorUpwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorDownwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorUpwardSpeedMax()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyFloorDownwardSpeedMax()",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"PlatformBehavior::IsJumping"},"parameters":["Object","PlatformerCharacter"]},{"type":{"value":"PlatformBehavior::IsFalling"},"parameters":["Object","PlatformerCharacter"]}]}],"actions":[{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirFollowFreeAreaTop()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirFollowFreeAreaBottom()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirUpwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeed"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirDownwardSpeed()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetUpwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirUpwardSpeedMax()",""]},{"type":{"value":"SmoothCamera::SmoothCamera::SetDownwardSpeedMax"},"parameters":["Object","SmoothCamera","Object.Behavior::PropertyAirDownwardSpeedMax()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"SmoothCamera::SmoothPlatformerCamera","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Platformer character behavior","description":"","group":"","extraInformation":["PlatformBehavior::PlatformerObjectBehavior"],"hidden":false,"name":"PlatformerCharacter"},{"value":"","type":"Behavior","label":"Smooth camera behavior","description":"","group":"","extraInformation":["SmoothCamera::SmoothCamera"],"hidden":false,"name":"SmoothCamera"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"JumpOriginY"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area top in the air","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"AirFollowFreeAreaTop"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area bottom in the air","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"AirFollowFreeAreaBottom"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area top on the floor","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FloorFollowFreeAreaTop"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area bottom on the floor","description":"","group":"Position","extraInformation":[],"hidden":false,"name":"FloorFollowFreeAreaBottom"},{"value":"0.95","type":"Number","label":"Upward speed in the air (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"AirUpwardSpeed"},{"value":"0.95","type":"Number","label":"Downward speed in the air (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"AirDownwardSpeed"},{"value":"0.9","type":"Number","label":"Upward speed on the floor (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"FloorUpwardSpeed"},{"value":"0.9","type":"Number","label":"Downward speed on the floor (in ratio per second)","description":"","group":"Catch-up speed","extraInformation":[],"hidden":false,"name":"FloorDownwardSpeed"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Upward maximum speed in the air","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"AirUpwardSpeedMax"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Downward maximum speed in the air","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"AirDownwardSpeedMax"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Upward maximum speed on the floor","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"FloorUpwardSpeedMax"},{"value":"9000","type":"Number","unit":"PixelSpeed","label":"Downward maximum speed on the floor","description":"","group":"Maximum speed","extraInformation":[],"hidden":false,"name":"FloorDownwardSpeedMax"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"Silver-Streak, @Bouh, Tristan Rhodes","category":"","extensionNamespace":"","fullName":"Object \"Is On Screen\" Detection","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLW1vbml0b3Itc2NyZWVuc2hvdCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik05LDZINVYxMEg3VjhIOU0xOSwxMEgxN1YxMkgxNVYxNEgxOU0yMSwxNkgzVjRIMjFNMjEsMkgzQzEuODksMiAxLDIuODkgMSw0VjE2QTIsMiAwIDAsMCAzLDE4SDEwVjIwSDhWMjJIMTZWMjBIMTRWMThIMjFBMiwyIDAgMCwwIDIzLDE2VjRDMjMsMi44OSAyMi4xLDIgMjEsMiIgLz48L3N2Zz4=","name":"IsOnScreen","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/monitor-screenshot.svg","shortDescription":"This adds a condition to detect if an object is on screen based off its current layer.","version":"1.2.1","description":["This extension adds conditions to check if an object is located within the visible portion of its layer's camera. The condition also allows for specifying padding to the virtual screen border.","","Note that this does not take into account any object visibility, such as being hidden or 0 opacity, but can be combined with those existing conditions."],"origin":{"identifier":"IsOnScreen","name":"gdevelop-extension-store"},"tags":["is on screen","condition","visible","hide","screen"],"authorIds":["2OwwM8ToR9dx9RJ2sAKTcrLmCB92","8Ih1aa8f5gWUp4UB2BdhQ2iXWxJ3","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"This behavior provides a condition to check if the object is located within the visible portion of its layer's camera. The condition also allows for specifying padding to the virtual screen border.\nNote that object visibility, such as being hidden or 0 opacity, is not considered (but you can use those existing conditions in addition to this behavior).","fullName":"Is on screen","name":"InOnScreen","objectType":"","eventsFunctions":[{"description":"Checks if an object position is within the viewport of its layer.","fullName":"Is on screen","functionType":"Condition","name":"IsOnScreen","sentence":"_PARAM0_ is on screen (padded by _PARAM2_ pixels)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/*","Get the object layer, convert the position from this layer to the screen coordinates.","Get the point on each side on the object on screen, and compare with the screen area.","","This way even if the camera has a rotation or custom scale the object is always compared to the screen area.","*/","","","// Get the layer of the object.","const object = objects[0];","const layer = runtimeScene.getLayer(object.getLayer());","","// Get the aabb of the object on his layer.","const aabb = object.getVisibilityAABB();","","// Get the layer to convert the coordinates of the AABB to the screen coordinates","const topLeft = layer.convertInverseCoords(aabb.min[0], aabb.min[1]);","const topRight = layer.convertInverseCoords(aabb.max[0], aabb.min[1]);","const bottomRight = layer.convertInverseCoords(aabb.max[0], aabb.max[1]);","const bottomLeft = layer.convertInverseCoords(aabb.min[0], aabb.max[1]);","","// Get the points on each side of the object on screen.","const posLeftObjectOnScreen = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);","const posRightObjectOnScreen = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);","const posUpObjectOnScreen = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);","const posDownObjectOnScreen = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);","","const padding = eventsFunctionContext.getArgument(\"Padding\");","","if (","    !(posLeftObjectOnScreen - padding > runtimeScene.getGame().getGameResolutionWidth() ||","        posUpObjectOnScreen - padding > runtimeScene.getGame().getGameResolutionHeight() ||","        posRightObjectOnScreen + padding < 0 ||","        posDownObjectOnScreen + padding < 0","        )",") {","    eventsFunctionContext.returnValue = true;","}",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"IsOnScreen::InOnScreen","type":"behavior"},{"description":"Padding (in pixels)","longDescription":"Number of pixels to pad the screen border. Zero by default. A negative value goes inside the screen, a positive value go outside.","name":"Padding","type":"expression"}],"objectGroups":[{"name":"Group","objects":[]}]}],"propertyDescriptors":[],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]}],"externalLayouts":[],"externalSourceFiles":[]}